/*!
 * bundle created at "Thu Feb 28 2019 09:37:25 GMT+0900 (Korean Standard Time)"
 * version: 3.6.0
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("tui-code-snippet"),require("tui-date-picker"),require("tui-pagination")):"function"==typeof define&&define.amd?define(["tui-code-snippet","tui-date-picker","tui-pagination"],t):"object"==typeof exports?exports.Grid=t(require("tui-code-snippet"),require("tui-date-picker"),require("tui-pagination")):(e.tui=e.tui||{},e.tui.Grid=t(e.tui&&e.tui.util,e.tui&&e.tui.DatePicker,e.tui&&e.tui.Pagination))}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1);n(84),i.setLanguage("en"),e.exports=i},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(5),s=n(8),a=n(34),l=n(59),u=n(60),d=n(61),c=n(62),h=n(73),f=n(74),g=n(77),p=n(18),m=n(43),v=n(78),y=n(11).themeName,_={},w=r.extend({initialize:function(e){e=o.extend({usageStatistics:!0},e),e.footer&&(p.warning('The "footer" option is deprecated since 2.5.0 and replaced by "summary" option.'),e.summary=e.footer),this.id=p.getUniqueKey(),this.domState=new u(this.$el),this.domEventBus=l.create(),this.modelManager=this._createModelManager(e),this.painterManager=this._createPainterManager(),this.componentHolder=this._createComponentHolder(e.pagination),this.viewFactory=this._createViewFactory(e),this.container=this.viewFactory.createContainer(),this.publicEventEmitter=this._createPublicEventEmitter(),this.container.render(),this.refreshLayout(),v.isApplied()||v.apply(y.DEFAULT),this.addOn={},_[this.id]=this,e.data&&this.setData(e.data),e.usageStatistics&&o.sendHostname("grid","UA-129951906-1")},_createModelManager:function(e){var t=i.assign({},e,{gridId:this.id,publicObject:this});return i.omit(t,"el"),new s(t,this.domState,this.domEventBus)},_createPainterManager:function(){var e=new h({focusModel:this.modelManager.focusModel,dataModel:this.modelManager.dataModel,columnModel:this.modelManager.columnModel,selectionModel:this.modelManager.selectionModel});return new c({gridId:this.id,selectType:this.modelManager.columnModel.get("selectType"),fixedRowHeight:this.modelManager.dimensionModel.get("fixedRowHeight"),domEventBus:this.domEventBus,controller:e})},_createViewFactory:function(e){var t=i.pick(e,["heightResizable","summary"]),n={modelManager:this.modelManager,painterManager:this.painterManager,componentHolder:this.componentHolder,domEventBus:this.domEventBus,domState:this.domState};return new a(i.assign(n,t))},_createComponentHolder:function(e){return new g({pagination:e})},_createPublicEventEmitter:function(){var e=new d(this);return e.listenToFocusModel(this.modelManager.focusModel),e.listenToDomEventBus(this.domEventBus),e.listenToDataModel(this.modelManager.dataModel),e.listenToSelectionModel(this.modelManager.selectionModel),e},disable:function(){this.modelManager.dataModel.setDisabled(!0)},enable:function(){this.modelManager.dataModel.setDisabled(!1)},disableRow:function(e){this.modelManager.dataModel.disableRow(e)},enableRow:function(e){this.modelManager.dataModel.enableRow(e)},getValue:function(e,t,n){return this.modelManager.dataModel.getValue(e,t,n)},getColumnValues:function(e,t){return this.modelManager.dataModel.getColumnValues(e,t)},getRow:function(e,t){return this.modelManager.dataModel.getRowData(e,t)},getRowAt:function(e,t){return this.modelManager.dataModel.getRowDataAt(e,t)},getRowCount:function(){return this.modelManager.dataModel.length},getFocusedCell:function(){var e=this.modelManager.focusModel.which(),t=this.getValue(e.rowKey,e.columnName);return{rowKey:e.rowKey,columnName:e.columnName,value:t}},getElement:function(e,t){return this.modelManager.dataModel.getElement(e,t)},setValue:function(e,t,n){this.modelManager.dataModel.setValue(e,t,n)},setColumnValues:function(e,t,n){this.modelManager.dataModel.setColumnValues(e,t,n)},resetData:function(e){this.modelManager.dataModel.resetData(e)},setData:function(e,t){this.modelManager.dataModel.setData(e,!0,t)},setBodyHeight:function(e){this.modelManager.dimensionModel.set({bodyHeight:e,fixedHeight:"auto"!==e})},focus:function(e,t,n){this.modelManager.focusModel.focusClipboard(),this.modelManager.focusModel.focus(e,t,n)},focusAt:function(e,t,n){this.modelManager.focusModel.focusAt(e,t,n)},focusIn:function(e,t,n){this.modelManager.focusModel.focusIn(e,t,n)},focusInAt:function(e,t,n){this.modelManager.focusModel.focusInAt(e,t,n)},activateFocus:function(){this.modelManager.focusModel.focusClipboard()},blur:function(){this.modelManager.focusModel.blur()},checkAll:function(){this.modelManager.dataModel.checkAll()},check:function(e){this.modelManager.dataModel.check(e)},uncheckAll:function(){this.modelManager.dataModel.uncheckAll()},uncheck:function(e){this.modelManager.dataModel.uncheck(e)},clear:function(){this.modelManager.dataModel.setData([])},removeRow:function(e,t){o.isBoolean(t)&&t&&(t={removeOriginalData:!0}),this.modelManager.dataModel.removeRow(e,t)},removeCheckedRows:function(e){var t=this.getCheckedRowKeys(),n=m.get("net.confirmDelete",{count:t.length});return!(!(t.length>0)||e&&!confirm(n))&&(i.each(t,function(e){this.modelManager.dataModel.removeRow(e)},this),!0)},enableCheck:function(e){this.modelManager.dataModel.enableCheck(e)},disableCheck:function(e){this.modelManager.dataModel.disableCheck(e)},getCheckedRowKeys:function(e){var t=this.modelManager.dataModel.getRows(!0),n=i.pluck(t,"rowKey");return e?JSON.stringify(n):n},getCheckedRows:function(e){var t=this.modelManager.dataModel.getRows(!0);return e?JSON.stringify(t):t},getColumns:function(){return this.modelManager.columnModel.get("dataColumns")},getModifiedRows:function(e){return this.modelManager.dataModel.getModifiedRows(e)},appendRow:function(e,t){this.modelManager.dataModel.appendRow(e,t)},prependRow:function(e,t){this.modelManager.dataModel.prependRow(e,t)},isModified:function(){return this.modelManager.dataModel.isModified()},getAddOn:function(e){return e?this.addOn[e]:this.addOn},restore:function(){this.modelManager.dataModel.restore()},setFrozenColumnCount:function(e){this.modelManager.columnModel.set("frozenCount",e)},setColumns:function(e){this.modelManager.columnModel.set("columns",e)},use:function(e,t){return"Net"===e&&(t=i.assign({domEventBus:this.domEventBus,renderModel:this.modelManager.renderModel,dataModel:this.modelManager.dataModel,pagination:this.componentHolder.getInstance("pagination")},t),this.addOn.Net=new f(t),this.publicEventEmitter.listenToNetAddon(this.addOn.Net)),this},getRows:function(){return this.modelManager.dataModel.getRows()},sort:function(e,t){this.modelManager.dataModel.sortByField(e,t)},unSort:function(){this.sort("rowKey")},getSortState:function(){return this.modelManager.dataModel.sortOptions},addCellClassName:function(e,t,n){this.modelManager.dataModel.get(e).addCellClassName(t,n)},addRowClassName:function(e,t){this.modelManager.dataModel.get(e).addClassName(t)},removeCellClassName:function(e,t,n){this.modelManager.dataModel.get(e).removeCellClassName(t,n)},removeRowClassName:function(e,t){this.modelManager.dataModel.get(e).removeClassName(t)},getRowSpanData:function(e,t){return this.modelManager.dataModel.getRowSpanData(e,t)},getIndexOfRow:function(e){return this.modelManager.dataModel.indexOfRowKey(e)},getIndexOfColumn:function(e){return this.modelManager.columnModel.indexOfColumnName(e)},getPagination:function(){return this.componentHolder.getInstance("pagination")},setWidth:function(e){this.modelManager.dimensionModel.setWidth(e)},setHeight:function(e){this.modelManager.dimensionModel.setHeight(e)},refreshLayout:function(){this.modelManager.dimensionModel.refreshLayout()},resetColumnWidths:function(){this.modelManager.coordColumnModel.resetColumnWidths()},showColumn:function(){var e=o.toArray(arguments);this.modelManager.columnModel.setHidden(e,!1)},hideColumn:function(){var e=o.toArray(arguments);this.modelManager.columnModel.setHidden(e,!0)},setSummaryColumnContent:function(e,t){this.modelManager.summaryModel.setColumnContent(e,t,!0)},getSummaryValues:function(e){return this.modelManager.summaryModel?this.modelManager.summaryModel.getValues(e):null},setFooterColumnContent:function(e,t){this.modelManager.columnModel.setSummaryContent(e,t)},validate:function(){return this.modelManager.dataModel.validate()},findRows:function(e){return this.modelManager.dataModel.findRows(e)},copyToClipboard:function(){this.modelManager.clipboardModel.setClipboardText(),window.clipboardData||document.execCommand("copy")},selection:function(e){var t=this.modelManager.selectionModel,n=e.start,i=e.end,o=t.getSelectionUnit();t.start(n[0],n[1],o),t.update(i[0],i[1],o)},expand:function(e,t){return this.modelManager.dataModel.treeExpand(e,t)},expandAll:function(){this.modelManager.dataModel.treeExpandAll()},collapse:function(e,t){return this.modelManager.dataModel.treeCollapse(e,t)},collapseAll:function(){this.modelManager.dataModel.treeCollapseAll()},getAncestors:function(e){return this.modelManager.dataModel.getTreeAncestors(e)},getDescendants:function(e){return this.modelManager.dataModel.getTreeDescendants(e)},getParent:function(e){return this.modelManager.dataModel.getTreeParent(e)},getChildren:function(e){return this.modelManager.dataModel.getTreeChildren(e)},getDepth:function(e){return this.modelManager.dataModel.getTreeDepth(e)},destroy:function(){this.modelManager.destroy(),this.container.destroy(),this.modelManager=this.container=null}});w.getInstanceById=function(e){return _[e]},w.applyTheme=function(e,t){v.apply(e,t)},w.setLanguage=function(e,t){m.setLanguage(e,t)},e.exports=w},function(e,t,n){var i,o;(function(e,n){!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=r._,a=Array.prototype,l=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,d=a.push,c=a.slice,h=l.toString,f=l.hasOwnProperty,g=Array.isArray,p=Object.keys,m=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"==typeof t||t.nodeType?r._=y:("undefined"!=typeof n&&!n.nodeType&&n.exports&&(t=n.exports=y),t._=y),y.VERSION="1.9.1";var _,w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},M=function(e,t,n){return y.iteratee!==_?y.iteratee(e,t):null==e?y.identity:y.isFunction(e)?w(e,t,n):y.isObject(e)&&!y.isArray(e)?y.matcher(e):y.property(e)};y.iteratee=_=function(e,t){return M(e,t,1/0)};var C=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(o=0;o<t;o++)r[o]=arguments[o];return r[t]=i,e.apply(this,r)}},b=function(e){if(!y.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},R=function(e){return function(t){return null==t?void 0:t[e]}},x=function(e,t){return null!=e&&f.call(e,t)},E=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},T=Math.pow(2,53)-1,S=R("length"),D=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=T};y.each=y.forEach=function(e,t,n){t=w(t,n);var i,o;if(D(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=y.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},y.map=y.collect=function(e,t,n){t=M(t,n);for(var i=!D(e)&&y.keys(e),o=(i||e).length,r=Array(o),s=0;s<o;s++){var a=i?i[s]:s;r[s]=t(e[a],a,e)}return r};var N=function(e){var t=function(t,n,i,o){var r=!D(t)&&y.keys(t),s=(r||t).length,a=e>0?0:s-1;for(o||(i=t[r?r[a]:a],a+=e);a>=0&&a<s;a+=e){var l=r?r[a]:a;i=n(i,t[l],l,t)}return i};return function(e,n,i,o){var r=arguments.length>=3;return t(e,w(n,o,4),i,r)}};y.reduce=y.foldl=y.inject=N(1),y.reduceRight=y.foldr=N(-1),y.find=y.detect=function(e,t,n){var i=D(e)?y.findIndex:y.findKey,o=i(e,t,n);if(void 0!==o&&o!==-1)return e[o]},y.filter=y.select=function(e,t,n){var i=[];return t=M(t,n),y.each(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(M(t)),n)},y.every=y.all=function(e,t,n){t=M(t,n);for(var i=!D(e)&&y.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=M(t,n);for(var i=!D(e)&&y.keys(e),o=(i||e).length,r=0;r<o;r++){var s=i?i[r]:r;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return D(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=C(function(e,t,n){var i,o;return y.isFunction(t)?o=t:y.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),y.map(e,function(e){var r=o;if(!r){if(i&&i.length&&(e=E(e,i)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)})}),y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,o,r=-(1/0),s=-(1/0);if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=D(e)?e:y.values(e);for(var a=0,l=e.length;a<l;a++)i=e[a],null!=i&&i>r&&(r=i)}else t=M(t,n),y.each(e,function(e,n,i){o=t(e,n,i),(o>s||o===-(1/0)&&r===-(1/0))&&(r=e,s=o)});return r},y.min=function(e,t,n){var i,o,r=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=D(e)?e:y.values(e);for(var a=0,l=e.length;a<l;a++)i=e[a],null!=i&&i<r&&(r=i)}else t=M(t,n),y.each(e,function(e,n,i){o=t(e,n,i),(o<s||o===1/0&&r===1/0)&&(r=e,s=o)});return r},y.shuffle=function(e){return y.sample(e,1/0)},y.sample=function(e,t,n){if(null==t||n)return D(e)||(e=y.values(e)),e[y.random(e.length-1)];var i=D(e)?y.clone(e):y.values(e),o=S(i);t=Math.max(Math.min(t,o),0);for(var r=o-1,s=0;s<t;s++){var a=y.random(s,r),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)},y.sortBy=function(e,t,n){var i=0;return t=M(t,n),y.pluck(y.map(e,function(e,n,o){return{value:e,index:i++,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var L=function(e,t){return function(n,i,o){var r=t?[[],[]]:{};return i=M(i,o),y.each(n,function(t,o){var s=i(t,o,n);e(r,t,s)}),r}};y.groupBy=L(function(e,t,n){x(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=L(function(e,t,n){e[n]=t}),y.countBy=L(function(e,t,n){x(e,n)?e[n]++:e[n]=1});var O=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(e){return e?y.isArray(e)?c.call(e):y.isString(e)?e.match(O):D(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:D(e)?e.length:y.keys(e).length},y.partition=L(function(e,t,n){e[n?0:1].push(t)},!0),y.first=y.head=y.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,Boolean)};var A=function(e,t,n,i){i=i||[];for(var o=i.length,r=0,s=S(e);r<s;r++){var a=e[r];if(D(a)&&(y.isArray(a)||y.isArguments(a)))if(t)for(var l=0,u=a.length;l<u;)i[o++]=a[l++];else A(a,t,n,i),o=i.length;else n||(i[o++]=a)}return i};y.flatten=function(e,t){return A(e,t,!1)},y.without=C(function(e,t){return y.difference(e,t)}),y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=M(n,i));for(var o=[],r=[],s=0,a=S(e);s<a;s++){var l=e[s],u=n?n(l,s,e):l;t&&!n?(s&&r===u||o.push(l),r=u):n?y.contains(r,u)||(r.push(u),o.push(l)):y.contains(o,l)||o.push(l)}return o},y.union=C(function(e){return y.uniq(A(e,!0,!0))}),y.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=S(e);i<o;i++){var r=e[i];if(!y.contains(t,r)){var s;for(s=1;s<n&&y.contains(arguments[s],r);s++);s===n&&t.push(r)}}return t},y.difference=C(function(e,t){return t=A(t,!0,!0),y.filter(e,function(e){return!y.contains(t,e)})}),y.unzip=function(e){for(var t=e&&y.max(e,S).length||0,n=Array(t),i=0;i<t;i++)n[i]=y.pluck(e,i);return n},y.zip=C(y.unzip),y.object=function(e,t){for(var n={},i=0,o=S(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var H=function(e){return function(t,n,i){n=M(n,i);for(var o=S(t),r=e>0?0:o-1;r>=0&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}};y.findIndex=H(1),y.findLastIndex=H(-1),y.sortedIndex=function(e,t,n,i){n=M(n,i,1);for(var o=n(t),r=0,s=S(e);r<s;){var a=Math.floor((r+s)/2);n(e[a])<o?r=a+1:s=a}return r};var k=function(e,t,n){return function(i,o,r){var s=0,a=S(i);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=t(c.call(i,s,a),y.isNaN),r>=0?r+s:-1;for(r=e>0?s:a-1;r>=0&&r<a;r+=e)if(i[r]===o)return r;return-1}};y.indexOf=k(1,y.findIndex,y.sortedIndex),y.lastIndexOf=k(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o},y.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,o=e.length;i<o;)n.push(c.call(e,i,i+=t));return n};var I=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=b(e.prototype),s=e.apply(r,o);return y.isObject(s)?s:r};y.bind=C(function(e,t,n){if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var i=C(function(o){return I(e,i,t,this,n.concat(o))});return i}),y.partial=C(function(e,t){var n=y.partial.placeholder,i=function(){for(var o=0,r=t.length,s=Array(r),a=0;a<r;a++)s[a]=t[a]===n?arguments[o++]:t[a];for(;o<arguments.length;)s.push(arguments[o++]);return I(e,i,this,this,s)};return i}),y.partial.placeholder=y,y.bindAll=C(function(e,t){t=A(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=y.bind(e[i],e)}}),y.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return x(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},y.delay=C(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,o,r,s,a=0;n||(n={});var l=function(){a=n.leading===!1?0:y.now(),i=null,s=e.apply(o,r),i||(o=r=null)},u=function(){var u=y.now();a||n.leading!==!1||(a=u);var d=t-(u-a);return o=this,r=arguments,d<=0||d>t?(i&&(clearTimeout(i),i=null),a=u,s=e.apply(o,r),i||(o=r=null)):i||n.trailing===!1||(i=setTimeout(l,d)),s};return u.cancel=function(){clearTimeout(i),a=0,i=o=r=null},u},y.debounce=function(e,t,n){var i,o,r=function(t,n){i=null,n&&(o=e.apply(t,n))},s=C(function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(r,t),a&&(o=e.apply(this,s))}else i=y.delay(r,t,this,s);return o});return s.cancel=function(){clearTimeout(i),i=null},s},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2),y.restArguments=C;var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=P.length,i=e.constructor,o=y.isFunction(i)&&i.prototype||l,r="constructor";for(x(e,r)&&!y.contains(t,r)&&t.push(r);n--;)r=P[n],r in e&&e[r]!==o[r]&&!y.contains(t,r)&&t.push(r)};y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)x(e,n)&&t.push(n);return B&&F(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return B&&F(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},y.mapObject=function(e,t,n){t=M(t,n);for(var i=y.keys(e),o=i.length,r={},s=0;s<o;s++){var a=i[s];r[a]=t(e[a],a,e)}return r},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()};var W=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],s=e(r),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=r[u])}return n}};y.extend=W(y.allKeys),y.extendOwn=y.assign=W(y.keys),y.findKey=function(e,t,n){t=M(t,n);for(var i,o=y.keys(e),r=0,s=o.length;r<s;r++)if(i=o[r],t(e[i],i,e))return i};var K=function(e,t,n){return t in n};y.pick=C(function(e,t){var n={},i=t[0];if(null==e)return n;y.isFunction(i)?(t.length>1&&(i=w(i,t[1])),t=y.allKeys(e)):(i=K,t=A(t,!1,!1),e=Object(e));for(var o=0,r=t.length;o<r;o++){var s=t[o],a=e[s];i(a,s,e)&&(n[s]=a)}return n}),y.omit=C(function(e,t){var n,i=t[0];return y.isFunction(i)?(i=y.negate(i),t.length>1&&(n=t[1])):(t=y.map(A(t,!1,!1),String),i=function(e,n){return!y.contains(t,n)}),y.pick(e,i,n)}),y.defaults=W(y.allKeys,!0),y.create=function(e,t){var n=b(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var s=n[r];if(t[s]!==o[s]||!(s in o))return!1}return!0};var j,V;j=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&V(e,t,n,i)},V=function(e,t,n,i){e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var o=h.call(e);if(o!==h.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),r){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!j(e[l],t[l],n,i))return!1}else{var d,c=y.keys(e);if(l=c.length,y.keys(t).length!==l)return!1;for(;l--;)if(d=c[l],!x(t,d)||!j(e[d],t[d],n,i))return!1}return n.pop(),i.pop(),!0},y.isEqual=function(e,t){return j(e,t)},y.isEmpty=function(e){return null==e||(D(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=g||function(e){return"[object Array]"===h.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return x(e,"callee")});var z=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof z&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return!y.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&isNaN(e)},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){if(!y.isArray(t))return x(e,t);for(var n=t.length,i=0;i<n;i++){var o=t[i];if(null==e||!f.call(e,o))return!1;e=e[o]}return!!n},y.noConflict=function(){return r._=s,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=function(e){return y.isArray(e)?function(t){return E(t,e)}:R(e)},y.propertyOf=function(e){return null==e?function(){}:function(t){return y.isArray(t)?E(e,t):e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=w(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=y.invert(U),q=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};y.escape=q(U),y.unescape=q($),y.result=function(e,t,n){y.isArray(t)||(t=[t]);var i=t.length;if(!i)return y.isFunction(n)?n.call(e):n;for(var o=0;o<i;o++){var r=null==e?void 0:e[t[o]];void 0===r&&(r=n,o=i),e=y.isFunction(r)?r.call(e):r}return e};var Y=0;y.uniqueId=function(e){var t=++Y+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(e){return"\\"+G[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||X).source,(t.interpolate||X).source,(t.evaluate||X).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,function(t,n,i,s,a){return r+=e.slice(o,a).replace(J,Z),o=a+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var a=function(e){return s.call(this,e,y)},l=t.variable||"obj";return a.source="function("+l+"){\n"+r+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){return y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),Q(this,n.apply(y,e))}}),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},i=[],o=function(){return y}.apply(t,i),!(void 0!==o&&(n.exports=o))}()}).call(t,function(){return this}(),n(3)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,n){t.exports=e},function(e,t,n){"use strict";var i=n(2),o=n(6),r=o.View.extend({initialize:function(){this._children=[]},_addChildren:function(e){i.isArray(e)||(e=[e]),[].push.apply(this._children,i.compact(e))},_renderChildren:function(){var e=i.map(this._children,function(e){return e.render().el});return e},_triggerChildrenAppended:function(){i.each(this._children,function(e){e.trigger("appended")})},destroy:function(){this.stopListening(),this._destroyChildren(),this.remove()},_destroyChildren:function(){if(this._children)for(;this._children.length>0;)this._children.pop().destroy()}});e.exports=r},function(e,t,n){var i,o;(function(r){!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;i=[n(2),n(7),t],o=function(e,t,n){a.Backbone=s(a,n,e,t)}.apply(t,i),!(void 0!==o&&(e.exports=o))}(function(e,t,n,i){var o=e.Backbone,r=Array.prototype.slice;t.VERSION="1.3.3",t.$=i,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,o){return n[t](this[i],l(e,this),o)};case 4:return function(e,o,r){return n[t](this[i],l(e,this),o,r)};default:return function(){var e=r.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}},a=function(e,t,i){n.each(t,function(t,o){n[o]&&(e.prototype[o]=s(t,o,i))})},l=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?u(e):n.isString(e)?function(t){return t.get(e)}:e},u=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},d=t.Events={},c=/\s+/,h=function(e,t,i,o,r){var s,a=0;if(i&&"object"==typeof i){void 0!==o&&"context"in r&&void 0===r.context&&(r.context=o);for(s=n.keys(i);a<s.length;a++)t=h(e,t,s[a],i[s[a]],r)}else if(i&&c.test(i))for(s=i.split(c);a<s.length;a++)t=e(t,s[a],o,r);else t=e(t,i,o,r);return t};d.on=function(e,t,n){return f(this,e,t,n)};var f=function(e,t,n,i,o){if(e._events=h(g,e._events||{},t,n,{context:i,ctx:e,listening:o}),o){var r=e._listeners||(e._listeners={});r[o.id]=o}return e};d.listenTo=function(e,t,i){if(!e)return this;var o=e._listenId||(e._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=r[o];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=r[o]={obj:e,objId:o,id:a,listeningTo:r,count:0}}return f(e,t,i,this,s),this};var g=function(e,t,n,i){if(n){var o=e[t]||(e[t]=[]),r=i.context,s=i.ctx,a=i.listening;a&&a.count++,o.push({callback:n,context:r,ctx:r||s,listening:a})}return e};d.off=function(e,t,n){return this._events?(this._events=h(p,this._events,e,t,{context:n,listeners:this._listeners}),this):this},d.stopListening=function(e,t,i){var o=this._listeningTo;if(!o)return this;for(var r=e?[e._listenId]:n.keys(o),s=0;s<r.length;s++){var a=o[r[s]];if(!a)break;a.obj.off(t,i,this)}return this};var p=function(e,t,i,o){if(e){var r,s=0,a=o.context,l=o.listeners;if(t||i||a){for(var u=t?[t]:n.keys(e);s<u.length;s++){t=u[s];var d=e[t];if(!d)break;for(var c=[],h=0;h<d.length;h++){var f=d[h];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?c.push(f):(r=f.listening,r&&0===--r.count&&(delete l[r.id],delete r.listeningTo[r.objId]))}c.length?e[t]=c:delete e[t]}return e}for(var g=n.keys(l);s<g.length;s++)r=l[g[s]],delete l[r.id],delete r.listeningTo[r.objId]}};d.once=function(e,t,i){var o=h(m,{},e,t,n.bind(this.off,this));return"string"==typeof e&&null==i&&(t=void 0),this.on(o,t,i)},d.listenToOnce=function(e,t,i){var o=h(m,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,o)};var m=function(e,t,i,o){if(i){var r=e[t]=n.once(function(){o(t,r),i.apply(this,arguments)});r._callback=i}return e};d.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return h(v,this._events,e,void 0,n),this};var v=function(e,t,n,i){if(e){var o=e[t],r=e.all;o&&r&&(r=r.slice()),o&&y(o,i),r&&y(r,[t].concat(i))}return e},y=function(e,t){var n,i=-1,o=e.length,r=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<o;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=e[i]).callback.call(n.ctx,r,s,a);
return;default:for(;++i<o;)(n=e[i]).callback.apply(n.ctx,t);return}};d.bind=d.on,d.unbind=d.off,n.extend(t,d);var _=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{});var o=n.result(this,"defaults");i=n.defaults(n.extend({},o,i),o),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,d,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var o;if("object"==typeof e?(o=e,i=t):(o={})[e]=t,i||(i={}),!this._validate(o,i))return!1;var r=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,d=this.changed,c=this._previousAttributes;for(var h in o)t=o[h],n.isEqual(u[h],t)||a.push(h),n.isEqual(c[h],t)?delete d[h]:d[h]=t,r?delete u[h]:u[h]=t;if(this.idAttribute in o&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,u[a[f]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var o in e){var r=e[o];n.isEqual(t[o],r)||(i[o]=r)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var o=e.parse?t.parse(n,e):n;return!!t.set(o,e)&&(i&&i.call(e.context,t,n,e),void t.trigger("sync",t,n,e))},K(this,e),this.sync("read",this,e)},save:function(e,t,i){var o;null==e||"object"==typeof e?(o=e,i=t):(o={})[e]=t,i=n.extend({validate:!0,parse:!0},i);var r=i.wait;if(o&&!r){if(!this.set(o,i))return!1}else if(!this._validate(o,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(e){s.attributes=l;var t=i.parse?s.parse(e,i):e;return r&&(t=n.extend({},o,t)),!(t&&!s.set(t,i))&&(a&&a.call(i.context,s,e,i),void s.trigger("sync",s,e,i))},K(this,i),o&&r&&(this.attributes=n.extend({},l,o));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=o);var d=this.sync(u,this,i);return this.attributes=l,d},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,o=e.wait,r=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){o&&r(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(K(this,e),s=this.sync("delete",this,e)),o||r(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||W();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(_,w,"attributes");var M=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},C={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},R=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i,o=Array(e.length-n),r=t.length;for(i=0;i<o.length;i++)o[i]=e[i+n];for(i=0;i<r;i++)e[i+n]=t[i];for(i=0;i<o.length;i++)e[i+r+n]=o[i]};n.extend(M.prototype,d,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,b))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:e.slice();var o=this._removeModels(e,t);return!t.silent&&o.length&&(t.changes={added:[],merged:[],removed:o},this.trigger("update",this,t)),i?o[0]:o},set:function(e,t){if(null!=e){t=n.extend({},C,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var i=!n.isArray(e);e=i?[e]:e.slice();var o=t.at;null!=o&&(o=+o),o>this.length&&(o=this.length),o<0&&(o+=this.length+1);var r,s,a=[],l=[],u=[],d=[],c={},h=t.add,f=t.merge,g=t.remove,p=!1,m=this.comparator&&null==o&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){r=e[s];var y=this.get(r);if(y){if(f&&r!==y){var _=this._isModel(r)?r.attributes:r;t.parse&&(_=y.parse(_,t)),y.set(_,t),u.push(y),m&&!p&&(p=y.hasChanged(v))}c[y.cid]||(c[y.cid]=!0,a.push(y)),e[s]=y}else h&&(r=e[s]=this._prepareModel(r,t),r&&(l.push(r),this._addReference(r,t),c[r.cid]=!0,a.push(r)))}if(g){for(s=0;s<this.length;s++)r=this.models[s],c[r.cid]||d.push(r);d.length&&this._removeModels(d,t)}var w=!1,M=!m&&h&&g;if(a.length&&M?(w=this.length!==a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,R(this.models,a,0),this.length=this.models.length):l.length&&(m&&(p=!0),R(this.models,l,null==o?this.length:o),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(s=0;s<l.length;s++)null!=o&&(t.index=o+s),r=l[s],r.trigger("add",r,this,t);(p||w)&&this.trigger("sort",this,t),(l.length||d.length||u.length)&&(t.changes={added:l,removed:d,merged:u},this.trigger("update",this,t))}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,i=this;return e.success=function(n){var o=e.reset?"reset":"set";i[o](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},K(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;if(e=this._prepareModel(e,t),!e)return!1;i||this.add(e,t);var o=this,r=t.success;return t.success=function(e,t,n){i&&o.add(e,n),r&&r.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var o=this.get(e[i]);if(o){var r=this.indexOf(o);this.models.splice(r,1),this.length--,delete this._byId[o.cid];var s=this.modelId(o.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=r,o.trigger("remove",o,this,t)),n.push(o),this._removeReference(o,t)}}return n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,i),"change"===e){var o=this.modelId(t.previousAttributes()),r=this.modelId(t.attributes);o!==r&&(null!=o&&delete this._byId[o],null!=r&&(this._byId[r]=t))}}this.trigger.apply(this,arguments)}});var x={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(M,x,"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,d,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var o=t.match(T);this.delegate(o[1],o[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,o){var r=D[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=n.result(i,"url")||W()),null!=o.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||i.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),a)return a.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1);var l=o.error;o.error=function(e,t,n){o.textStatus=t,o.errorThrown=n,l&&l.call(o.context,e,t,n)};var u=o.xhr=t.ajax(n.extend(s,o));return i.trigger("request",i,u,o),u};var D={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var N=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,A=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(N.prototype,d,{initialize:function(){},route:function(e,i,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return t.history.route(e,function(n){var s=r._extractParameters(e,n);r.execute(o,s,i)!==!1&&(r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),t.history.trigger("route",r,i,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(H,"\\$&").replace(L,"(?:$1)?").replace(O,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var k=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,P=/#.*$/;k.started=!1,n.extend(k.prototype,d,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(I,"")},start:function(e){if(k.started)throw new Error("Backbone.history has already been started");if(k.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,o=i.insertBefore(this.iframe,i.firstChild).contentWindow;o.document.open(),o.document.close(),o.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),k.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!k.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(P,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new k;var F=function(e,t){var i,o=this;return i=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},n.extend(i,o,t),i.prototype=n.create(o.prototype,e),i.prototype.constructor=i,i.__super__=o.prototype,i};_.extend=M.extend=N.extend=E.extend=k.extend=F;var W=function(){throw new Error('A "url" property or function must be specified')},K=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t})}).call(t,function(){return this}())},function(e,t,n){var i,o;!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){function s(e){var t=!!e&&"length"in e&&e.length,n=ve.type(e);return"function"!==n&&!ve.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function a(e,t,n){if(ve.isFunction(t))return ve.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ve.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Te.test(t))return ve.filter(t,e,n);t=ve.filter(t,e)}return ve.grep(e,function(e){return ve.inArray(e,t)>-1!==n})}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e){var t={};return ve.each(e.match(Ae)||[],function(e,n){t[n]=!0}),t}function d(){ae.addEventListener?(ae.removeEventListener("DOMContentLoaded",c),n.removeEventListener("load",c)):(ae.detachEvent("onreadystatechange",c),n.detachEvent("onload",c))}function c(){(ae.addEventListener||"load"===n.event.type||"complete"===ae.readyState)&&(d(),ve.ready())}function h(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Pe,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Be.test(n)?ve.parseJSON(n):n)}catch(e){}ve.data(e,t,n)}else n=void 0}return n}function f(e){var t;for(t in e)if(("data"!==t||!ve.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function g(e,t,n,i){if(Ie(e)){var o,r,s=ve.expando,a=e.nodeType,l=a?ve.cache:e,u=a?e[s]:e[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=a?e[s]=se.pop()||ve.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ve.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[u]=ve.extend(l[u],t):l[u].data=ve.extend(l[u].data,t)),r=l[u],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ve.camelCase(t)]=n),"string"==typeof t?(o=r[t],null==o&&(o=r[ve.camelCase(t)])):o=r,o}}function p(e,t,n){if(Ie(e)){var i,o,r=e.nodeType,s=r?ve.cache:e,a=r?e[ve.expando]:ve.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){ve.isArray(t)?t=t.concat(ve.map(t,ve.camelCase)):t in i?t=[t]:(t=ve.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!f(i):!ve.isEmptyObject(i))return}(n||(delete s[a].data,f(s[a])))&&(r?ve.cleanData([e],!0):pe.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function m(e,t,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return ve.css(e,t,"")},l=a(),u=n&&n[3]||(ve.cssNumber[t]?"":"px"),d=(ve.cssNumber[t]||"px"!==u&&+l)&&We.exec(ve.css(e,t));if(d&&d[3]!==u){u=u||d[3],n=n||[],d=+l||1;do r=r||".5",d/=r,ve.style(e,t,d+u);while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=d,i.end=o)),o}function v(e){var t=Ye.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function y(e,t){var n,i,o=0,r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||ve.nodeName(i,t)?r.push(i):ve.merge(r,y(i,t));return void 0===t||t&&ve.nodeName(e,t)?ve.merge([e],r):r}function _(e,t){for(var n,i=0;null!=(n=e[i]);i++)ve._data(n,"globalEval",!t||ve._data(t[i],"globalEval"))}function w(e){ze.test(e.type)&&(e.defaultChecked=e.checked)}function M(e,t,n,i,o){for(var r,s,a,l,u,d,c,h=e.length,f=v(t),g=[],p=0;p<h;p++)if(s=e[p],s||0===s)if("object"===ve.type(s))ve.merge(g,s.nodeType?[s]:s);else if(Ge.test(s)){for(l=l||f.appendChild(t.createElement("div")),u=(Ue.exec(s)||["",""])[1].toLowerCase(),c=Xe[u]||Xe._default,l.innerHTML=c[1]+ve.htmlPrefilter(s)+c[2],r=c[0];r--;)l=l.lastChild;if(!pe.leadingWhitespace&&qe.test(s)&&g.push(t.createTextNode(qe.exec(s)[0])),!pe.tbody)for(s="table"!==u||Je.test(s)?"<table>"!==c[1]||Je.test(s)?0:l:l.firstChild,r=s&&s.childNodes.length;r--;)ve.nodeName(d=s.childNodes[r],"tbody")&&!d.childNodes.length&&s.removeChild(d);for(ve.merge(g,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else g.push(t.createTextNode(s));for(l&&f.removeChild(l),pe.appendChecked||ve.grep(y(g,"input"),w),p=0;s=g[p++];)if(i&&ve.inArray(s,i)>-1)o&&o.push(s);else if(a=ve.contains(s.ownerDocument,s),l=y(f.appendChild(s),"script"),a&&_(l),n)for(r=0;s=l[r++];)$e.test(s.type||"")&&n.push(s);return l=null,f}function C(){return!0}function b(){return!1}function R(){try{return ae.activeElement}catch(e){}}function x(e,t,n,i,o,r){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)x(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=b;else if(!o)return e;return 1===r&&(s=o,o=function(e){return ve().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ve.guid++)),e.each(function(){ve.event.add(this,t,o,i,n)})}function E(e,t){return ve.nodeName(e,"table")&&ve.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function T(e){return e.type=(null!==ve.find.attr(e,"type"))+"/"+e.type,e}function S(e){var t=lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function D(e,t){if(1===t.nodeType&&ve.hasData(e)){var n,i,o,r=ve._data(e),s=ve._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;i<o;i++)ve.event.add(t,n,a[n][i])}s.data&&(s.data=ve.extend({},s.data))}}function N(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!pe.noCloneEvent&&t[ve.expando]){o=ve._data(t);for(i in o.events)ve.removeEvent(t,i,o.handle);t.removeAttribute(ve.expando)}"script"===n&&t.text!==e.text?(T(t).text=e.text,S(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),pe.html5Clone&&e.innerHTML&&!ve.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function L(e,t,n,i){t=ue.apply([],t);var o,r,s,a,l,u,d=0,c=e.length,h=c-1,f=t[0],g=ve.isFunction(f);if(g||c>1&&"string"==typeof f&&!pe.checkClone&&at.test(f))return e.each(function(o){var r=e.eq(o);g&&(t[0]=f.call(this,o,r.html())),L(r,t,n,i)});if(c&&(u=M(t,e[0].ownerDocument,!1,e,i),o=u.firstChild,1===u.childNodes.length&&(u=o),o||i)){for(a=ve.map(y(u,"script"),T),s=a.length;d<c;d++)r=u,d!==h&&(r=ve.clone(r,!0,!0),s&&ve.merge(a,y(r,"script"))),n.call(e[d],r,d);if(s)for(l=a[a.length-1].ownerDocument,ve.map(a,S),d=0;d<s;d++)r=a[d],$e.test(r.type||"")&&!ve._data(r,"globalEval")&&ve.contains(l,r)&&(r.src?ve._evalUrl&&ve._evalUrl(r.src):ve.globalEval((r.text||r.textContent||r.innerHTML||"").replace(ut,"")));u=o=null}return e}function O(e,t,n){for(var i,o=t?ve.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ve.cleanData(y(i)),i.parentNode&&(n&&ve.contains(i.ownerDocument,i)&&_(y(i,"script")),i.parentNode.removeChild(i));return e}function A(e,t){var n=ve(t.createElement(e)).appendTo(t.body),i=ve.css(n[0],"display");return n.detach(),i}function H(e){var t=ae,n=ft[e];return n||(n=A(e,t),"none"!==n&&n||(ht=(ht||ve("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(ht[0].contentWindow||ht[0].contentDocument).document,t.write(),t.close(),n=A(e,t),ht.detach()),ft[e]=n),n}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Tt.length;n--;)if(e=Tt[n]+t,e in St)return e}function B(e,t){for(var n,i,o,r=[],s=0,a=e.length;s<a;s++)i=e[s],i.style&&(r[s]=ve._data(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&je(i)&&(r[s]=ve._data(i,"olddisplay",H(i.nodeName)))):(o=je(i),(n&&"none"!==n||!o)&&ve._data(i,"olddisplay",o?n:ve.css(i,"display"))));for(s=0;s<a;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function P(e,t,n){var i=Rt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function F(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=ve.css(e,n+Ke[r],!0,o)),i?("content"===n&&(s-=ve.css(e,"padding"+Ke[r],!0,o)),"margin"!==n&&(s-=ve.css(e,"border"+Ke[r]+"Width",!0,o))):(s+=ve.css(e,"padding"+Ke[r],!0,o),"padding"!==n&&(s+=ve.css(e,"border"+Ke[r]+"Width",!0,o)));return s}function W(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=yt(e),s=pe.boxSizing&&"border-box"===ve.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(o=_t(e,t,r),(o<0||null==o)&&(o=e.style[t]),pt.test(o))return o;i=s&&(pe.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+F(e,t,n||(s?"border":"content"),i,r)+"px"}function K(e,t,n,i,o){return new K.prototype.init(e,t,n,i,o)}function j(){return n.setTimeout(function(){Dt=void 0}),Dt=ve.now()}function V(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n=Ke[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e,t,n){for(var i,o=(q.tweeners[t]||[]).concat(q.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function U(e,t,n){var i,o,r,s,a,l,u,d,c=this,h={},f=e.style,g=e.nodeType&&je(e),p=ve._data(e,"fxshow");n.queue||(a=ve._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ve.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ve.css(e,"display"),d="none"===u?ve._data(e,"olddisplay")||H(e.nodeName):u,"inline"===d&&"none"===ve.css(e,"float")&&(pe.inlineBlockNeedsLayout&&"inline"!==H(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",pe.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Lt.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;g=!0}h[i]=p&&p[i]||ve.style(e,i)}else u=void 0;if(ve.isEmptyObject(h))"inline"===("none"===u?H(e.nodeName):u)&&(f.display=u);else{p?"hidden"in p&&(g=p.hidden):p=ve._data(e,"fxshow",{}),r&&(p.hidden=!g),g?ve(e).show():c.done(function(){ve(e).hide()}),c.done(function(){var t;ve._removeData(e,"fxshow");for(t in h)ve.style(e,t,h[t])});for(i in h)s=z(g?p[i]:0,i,c),i in p||(p[i]=s.start,g&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function $(e,t){var n,i,o,r,s;for(n in e)if(i=ve.camelCase(n),o=t[i],r=e[n],ve.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=ve.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function q(e,t,n){var i,o,r=0,s=q.prefilters.length,a=ve.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Dt||j(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(r);return a.notifyWith(e,[u,r,n]),r<1&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ve.extend({},t),opts:ve.extend(!0,{specialEasing:{},easing:ve.easing._default},n),originalProperties:t,originalOptions:n,startTime:Dt||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ve.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),d=u.props;for($(d,u.opts.specialEasing);r<s;r++)if(i=q.prefilters[r].call(u,e,d,u.opts))return ve.isFunction(i.stop)&&(ve._queueHooks(u.elem,u.opts.queue).stop=ve.proxy(i.stop,i)),i;return ve.map(d,z,u),ve.isFunction(u.opts.start)&&u.opts.start.call(e,u),ve.fx.timer(ve.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function Y(e){return ve.attr(e,"class")||""}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(Ae)||[];if(ve.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function G(e,t,n,i){function o(a){var l;return r[a]=!0,ve.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=e===nn;return o(t.dataTypes[0])||!r["*"]&&o("*")}function J(e,t){var n,i,o=ve.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&ve.extend(!0,e,n),e}function Z(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function Q(e,t,n,i){var o,r,s,a,l,u={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),
!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(o in u)if(a=o.split(" "),a[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[o]:u[o]!==!0&&(r=a[0],d.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function ee(e){return e.style&&e.style.display||ve.css(e,"display")}function te(e){if(!ve.contains(e.ownerDocument||ae,e))return!0;for(;e&&1===e.nodeType;){if("none"===ee(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function ne(e,t,n,i){var o;if(ve.isArray(t))ve.each(t,function(t,o){n||ln.test(e)?i(e,o):ne(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==ve.type(t))i(e,t);else for(o in t)ne(e+"["+o+"]",t[o],n,i)}function ie(){try{return new n.XMLHttpRequest}catch(e){}}function oe(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function re(e){return ve.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var se=[],ae=n.document,le=se.slice,ue=se.concat,de=se.push,ce=se.indexOf,he={},fe=he.toString,ge=he.hasOwnProperty,pe={},me="1.12.4",ve=function(e,t){return new ve.fn.init(e,t)},ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_e=/^-ms-/,we=/-([\da-z])/gi,Me=function(e,t){return t.toUpperCase()};ve.fn=ve.prototype={jquery:me,constructor:ve,selector:"",length:0,toArray:function(){return le.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:le.call(this)},pushStack:function(e){var t=ve.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ve.each(this,e)},map:function(e){return this.pushStack(ve.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:de,sort:se.sort,splice:se.splice},ve.extend=ve.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ve.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(o=arguments[a]))for(i in o)e=s[i],n=o[i],s!==n&&(u&&n&&(ve.isPlainObject(n)||(t=ve.isArray(n)))?(t?(t=!1,r=e&&ve.isArray(e)?e:[]):r=e&&ve.isPlainObject(e)?e:{},s[i]=ve.extend(u,r,n)):void 0!==n&&(s[i]=n));return s},ve.extend({expando:"jQuery"+(me+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ve.type(e)},isArray:Array.isArray||function(e){return"array"===ve.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!ve.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ve.type(e)||e.nodeType||ve.isWindow(e))return!1;try{if(e.constructor&&!ge.call(e,"constructor")&&!ge.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!pe.ownFirst)for(t in e)return ge.call(e,t);for(t in e);return void 0===t||ge.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[fe.call(e)]||"object":typeof e},globalEval:function(e){e&&ve.trim(e)&&(n.execScript||function(e){n.eval.call(n,e)})(e)},camelCase:function(e){return e.replace(_e,"ms-").replace(we,Me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(s(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ye,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?ve.merge(n,"string"==typeof e?[e]:e):de.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(ce)return ce.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],r=0,s=e.length,a=!n;r<s;r++)i=!t(e[r],r),i!==a&&o.push(e[r]);return o},map:function(e,t,n){var i,o,r=0,a=[];if(s(e))for(i=e.length;r<i;r++)o=t(e[r],r,n),null!=o&&a.push(o);else for(r in e)o=t(e[r],r,n),null!=o&&a.push(o);return ue.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(o=e[t],t=e,e=o),ve.isFunction(e))return n=le.call(arguments,2),i=function(){return e.apply(t||this,n.concat(le.call(arguments)))},i.guid=e.guid=e.guid||ve.guid++,i},now:function(){return+new Date},support:pe}),"function"==typeof Symbol&&(ve.fn[Symbol.iterator]=se[Symbol.iterator]),ve.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Ce=function(e){function t(e,t,n,i){var o,r,s,a,l,u,c,f,g=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:W)!==O&&L(t),t=t||O,H)){if(11!==p&&(u=ve.exec(e)))if(o=u[1]){if(9===p){if(!(s=t.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(g&&(s=g.getElementById(o))&&P(t,s)&&s.id===o)return n.push(s),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&M.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(M.qsa&&!U[e+" "]&&(!k||!k.test(e))){if(1!==p)g=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(_e,"\\$&"):t.setAttribute("id",a=F),c=x(e),r=c.length,l=he.test(a)?"#"+a:"[id='"+a+"']";r--;)c[r]=l+" "+h(c[r]);f=c.join(","),g=ye.test(e)&&d(t.parentNode)||t}if(f)try{return Z.apply(n,g.querySelectorAll(f)),n}catch(e){}finally{a===F&&t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function o(e){var t=O.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||q)-(~e.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function h(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=j++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,l,u,d=[K,r];if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(u=t[F]||(t[F]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(a=l[i])&&a[0]===K&&a[1]===r)return d[2]=a[2];if(l[i]=d,d[2]=e(t,n,s))return!0}}}function g(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function p(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function m(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function v(e,t,n,o,r,s){return o&&!o[F]&&(o=v(o)),r&&!r[F]&&(r=v(r,s)),i(function(i,s,a,l){var u,d,c,h=[],f=[],g=s.length,v=i||p(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,h,e,a,l),_=n?r||(i?e:g||o)?[]:s:y;if(n&&n(y,_,a,l),o)for(u=m(_,f),o(u,[],a,l),d=u.length;d--;)(c=u[d])&&(_[f[d]]=!(y[f[d]]=c));if(i){if(r||e){if(r){for(u=[],d=_.length;d--;)(c=_[d])&&u.push(y[d]=c);r(null,_=[],u,l)}for(d=_.length;d--;)(c=_[d])&&(u=r?ee(i,c):h[d])>-1&&(i[u]=!(s[u]=c))}}else _=m(_===s?_.splice(g,_.length):_),r?r(null,s,_,l):Z.apply(s,_)})}function y(e){for(var t,n,i,o=e.length,r=C.relative[e[0].type],s=r||C.relative[" "],a=r?1:0,l=f(function(e){return e===t},s,!0),u=f(function(e){return ee(t,e)>-1},s,!0),d=[function(e,n,i){var o=!r&&(i||n!==S)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,o}];a<o;a++)if(n=C.relative[e[a].type])d=[f(g(d),n)];else{if(n=C.filter[e[a].type].apply(null,e[a].matches),n[F]){for(i=++a;i<o&&!C.relative[e[i].type];i++);return v(a>1&&g(d),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&y(e.slice(a,i)),i<o&&y(e=e.slice(i)),i<o&&h(e))}d.push(n)}return g(d)}function _(e,n){var o=n.length>0,r=e.length>0,s=function(i,s,a,l,u){var d,c,h,f=0,g="0",p=i&&[],v=[],y=S,_=i||r&&C.find.TAG("*",u),w=K+=null==y?1:Math.random()||.1,M=_.length;for(u&&(S=s===O||s||u);g!==M&&null!=(d=_[g]);g++){if(r&&d){for(c=0,s||d.ownerDocument===O||(L(d),a=!H);h=e[c++];)if(h(d,s||O,a)){l.push(d);break}u&&(K=w)}o&&((d=!h&&d)&&f--,i&&p.push(d))}if(f+=g,o&&g!==f){for(c=0;h=n[c++];)h(p,v,s,a);if(i){if(f>0)for(;g--;)p[g]||v[g]||(v[g]=G.call(l));v=m(v)}Z.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(K=w,S=y),p};return o?i(s):s}var w,M,C,b,R,x,E,T,S,D,N,L,O,A,H,k,I,B,P,F="sizzle"+1*new Date,W=e.document,K=0,j=0,V=n(),z=n(),U=n(),$=function(e,t){return e===t&&(N=!0),0},q=1<<31,Y={}.hasOwnProperty,X=[],G=X.pop,J=X.push,Z=X.push,Q=X.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ce=new RegExp(re),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Me=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){L()};try{Z.apply(X=Q.call(W.childNodes),W.childNodes),X[W.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}M=t.support={},R=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:W;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,A=O.documentElement,H=!R(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),M.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),M.getElementsByTagName=o(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),M.getElementsByClassName=me.test(O.getElementsByClassName),M.getById=o(function(e){return A.appendChild(e).id=F,!O.getElementsByName||!O.getElementsByName(F).length}),M.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}},C.filter.ID=function(e){var t=e.replace(we,Me);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(we,Me);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=M.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):M.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=M.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&H)return t.getElementsByClassName(e)},I=[],k=[],(M.qsa=me.test(O.querySelectorAll))&&(o(function(e){A.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||k.push(".#.+[+~]")}),o(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(M.matchesSelector=me.test(B=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(e){M.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),I.push("!=",re)}),k=k.length&&new RegExp(k.join("|")),I=I.length&&new RegExp(I.join("|")),t=me.test(A.compareDocumentPosition),P=t||me.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!M.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===W&&P(W,e)?-1:t===O||t.ownerDocument===W&&P(W,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!o||!r)return e===O?-1:t===O?1:o?-1:r?1:D?ee(D,e)-ee(D,t):0;if(o===r)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===W?-1:l[i]===W?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&L(e),n=n.replace(de,"='$1']"),M.matchesSelector&&H&&!U[n+" "]&&(!I||!I.test(n))&&(!k||!k.test(n)))try{var i=B.call(e,n);if(i||M.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&L(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&L(e);var n=C.attrHandle[t.toLowerCase()],i=n&&Y.call(C.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==i?i:M.attributes||!H?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(N=!M.detectDuplicates,D=!M.sortStable&&e.slice(0),e.sort($),N){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return D=null,e},b=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=b(t);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Me),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Me),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Me).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,d,c,h,f,g,p=r!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(r){for(;p;){for(h=t;h=h[p];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;g=p="only"===e&&!g&&"nextSibling"}return!0}if(g=[s?m.firstChild:m.lastChild],s&&y){for(h=m,c=h[F]||(h[F]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),u=d[e]||[],f=u[0]===K&&u[1],_=f&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[p]||(_=f=0)||g.pop();)if(1===h.nodeType&&++_&&h===t){d[e]=[K,f,_];break}}else if(y&&(h=t,c=h[F]||(h[F]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),u=d[e]||[],f=u[0]===K&&u[1],_=f),_===!1)for(;(h=++f&&h&&h[p]||(_=f=0)||g.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&(c=h[F]||(h[F]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),d[e]=[K,_]),h!==t)););return _-=o,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(e,n){var o,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[F]?r(n):r.length>1?(o=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),s=o.length;s--;)i=ee(e,o[s]),e[i]=!(t[i]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=E(e.replace(ae,"$1"));return o[F]?i(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,Me),function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Me).toLowerCase(),function(t){var n;do if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return c.prototype=C.filters=C.pseudos,C.setFilters=new c,x=t.tokenize=function(e,n){var i,o,r,s,a,l,u,d=z[e+" "];if(d)return n?0:d.slice(0);for(a=e,l=[],u=C.preFilter;a;){i&&!(o=le.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ue.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ae," ")}),a=a.slice(i.length));for(s in C.filter)!(o=fe[s].exec(a))||u[s]&&!(o=u[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):z(e,l).slice(0)},E=t.compile=function(e,t){var n,i=[],o=[],r=U[e+" "];if(!r){for(t||(t=x(e)),n=t.length;n--;)r=y(t[n]),r[F]?i.push(r):o.push(r);r=U(e,_(o,i)),r.selector=e}return r},T=t.select=function(e,t,n,i){var o,r,s,a,l,u="function"==typeof e&&e,c=!i&&x(e=u.selector||e);if(n=n||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&M.getById&&9===t.nodeType&&H&&C.relative[r[1].type]){if(t=(C.find.ID(s.matches[0].replace(we,Me),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(we,Me),ye.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&h(r),!e)return Z.apply(n,i),n;break}}return(u||E(e,c))(i,t,!H,n,!t||ye.test(e)&&d(t.parentNode)||t),n},M.sortStable=F.split("").sort($).join("")===F,M.detectDuplicates=!!N,L(),M.sortDetached=o(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),M.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);ve.find=Ce,ve.expr=Ce.selectors,ve.expr[":"]=ve.expr.pseudos,ve.uniqueSort=ve.unique=Ce.uniqueSort,ve.text=Ce.getText,ve.isXMLDoc=Ce.isXML,ve.contains=Ce.contains;var be=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ve(e).is(n))break;i.push(e)}return i},Re=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=ve.expr.match.needsContext,Ee=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Te=/^.[^:#\[\.,]*$/;ve.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ve.find.matchesSelector(i,e)?[i]:[]:ve.find.matches(e,ve.grep(t,function(e){return 1===e.nodeType}))},ve.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ve(e).filter(function(){for(t=0;t<o;t++)if(ve.contains(i[t],this))return!0}));for(t=0;t<o;t++)ve.find(e,i[t],n);return n=this.pushStack(o>1?ve.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&xe.test(e)?ve(e):e||[],!1).length}});var Se,De=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ne=ve.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||Se,"string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:De.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ve?t[0]:t,ve.merge(this,ve.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Ee.test(i[1])&&ve.isPlainObject(t))for(i in t)ve.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(o=ae.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return Se.find(e);this.length=1,this[0]=o}return this.context=ae,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ve.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(ve):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ve.makeArray(e,this))};Ne.prototype=ve.fn,Se=ve(ae);var Le=/^(?:parents|prev(?:Until|All))/,Oe={children:!0,contents:!0,next:!0,prev:!0};ve.fn.extend({has:function(e){var t,n=ve(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(ve.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=xe.test(e)||"string"!=typeof e?ve(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ve.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ve.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ve.inArray(this[0],ve(e)):ve.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ve.uniqueSort(ve.merge(this.get(),ve(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ve.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return Re((e.parentNode||{}).firstChild,e)},children:function(e){return Re(e.firstChild)},contents:function(e){return ve.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ve.merge([],e.childNodes)}},function(e,t){ve.fn[e]=function(n,i){var o=ve.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ve.filter(i,o)),this.length>1&&(Oe[e]||(o=ve.uniqueSort(o)),Le.test(e)&&(o=o.reverse())),this.pushStack(o)}});var Ae=/\S+/g;ve.Callbacks=function(e){e="string"==typeof e?u(e):ve.extend({},e);var t,n,i,o,r=[],s=[],a=-1,l=function(){for(o=e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)r[a].apply(n[0],n[1])===!1&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},d={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){ve.each(n,function(n,i){ve.isFunction(i)?e.unique&&d.has(i)||r.push(i):i&&i.length&&"string"!==ve.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return ve.each(arguments,function(e,t){for(var n;(n=ve.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ve.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=!0,n||d.disable(),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ve.extend({Deferred:function(e){var t=[["resolve","done",ve.Callbacks("once memory"),"resolved"],["reject","fail",ve.Callbacks("once memory"),"rejected"],["notify","progress",ve.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ve.Deferred(function(n){ve.each(t,function(t,r){var s=ve.isFunction(e[t])&&e[t];o[r[1]](function(){var e=s&&s.apply(this,arguments);e&&ve.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ve.extend(e,i):i}},o={};return i.pipe=i.then,ve.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=le.call(arguments),s=r.length,a=1!==s||e&&ve.isFunction(e.promise)?s:0,l=1===a?e:ve.Deferred(),u=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?le.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)r[o]&&ve.isFunction(r[o].promise)?r[o].promise().progress(u(o,n,t)).done(u(o,i,r)).fail(l.reject):--a;return a||l.resolveWith(i,r),l.promise()}});var He;ve.fn.ready=function(e){return ve.ready.promise().done(e),this},ve.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ve.readyWait++:ve.ready(!0)},ready:function(e){(e===!0?--ve.readyWait:ve.isReady)||(ve.isReady=!0,e!==!0&&--ve.readyWait>0||(He.resolveWith(ae,[ve]),ve.fn.triggerHandler&&(ve(ae).triggerHandler("ready"),ve(ae).off("ready"))))}}),ve.ready.promise=function(e){if(!He)if(He=ve.Deferred(),"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll)n.setTimeout(ve.ready);else if(ae.addEventListener)ae.addEventListener("DOMContentLoaded",c),n.addEventListener("load",c);else{ae.attachEvent("onreadystatechange",c),n.attachEvent("onload",c);var t=!1;try{t=null==n.frameElement&&ae.documentElement}catch(e){}t&&t.doScroll&&!function e(){if(!ve.isReady){try{t.doScroll("left")}catch(t){return n.setTimeout(e,50)}d(),ve.ready()}}()}return He.promise(e)},ve.ready.promise();var ke;for(ke in ve(pe))break;pe.ownFirst="0"===ke,pe.inlineBlockNeedsLayout=!1,ve(function(){var e,t,n,i;n=ae.getElementsByTagName("body")[0],n&&n.style&&(t=ae.createElement("div"),i=ae.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",pe.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ae.createElement("div");pe.deleteExpando=!0;try{delete e.test}catch(e){pe.deleteExpando=!1}e=null}();var Ie=function(e){var t=ve.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)},Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/([A-Z])/g;ve.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){
return e=e.nodeType?ve.cache[e[ve.expando]]:e[ve.expando],!!e&&!f(e)},data:function(e,t,n){return g(e,t,n)},removeData:function(e,t){return p(e,t)},_data:function(e,t,n){return g(e,t,n,!0)},_removeData:function(e,t){return p(e,t,!0)}}),ve.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=ve.data(r),1===r.nodeType&&!ve._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ve.camelCase(i.slice(5)),h(r,i,o[i])));ve._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ve.data(this,e)}):arguments.length>1?this.each(function(){ve.data(this,e,t)}):r?h(r,e,ve.data(r,e)):void 0},removeData:function(e){return this.each(function(){ve.removeData(this,e)})}}),ve.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ve._data(e,t),n&&(!i||ve.isArray(n)?i=ve._data(e,t,ve.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ve.queue(e,t),i=n.length,o=n.shift(),r=ve._queueHooks(e,t),s=function(){ve.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve._data(e,n)||ve._data(e,n,{empty:ve.Callbacks("once memory").add(function(){ve._removeData(e,t+"queue"),ve._removeData(e,n)})})}}),ve.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ve.queue(this[0],e):void 0===t?this:this.each(function(){var n=ve.queue(this,e,t);ve._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ve.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ve.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ve.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve._data(r[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}}),function(){var e;pe.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ae.getElementsByTagName("body")[0],n&&n.style?(t=ae.createElement("div"),i=ae.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ae.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,We=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),Ke=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===ve.css(e,"display")||!ve.contains(e.ownerDocument,e)},Ve=function(e,t,n,i,o,r,s){var a=0,l=e.length,u=null==n;if("object"===ve.type(n)){o=!0;for(a in n)Ve(e,t,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,ve.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ve(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:u?t.call(e):l?t(e[0],n):r},ze=/^(?:checkbox|radio)$/i,Ue=/<([\w:-]+)/,$e=/^$|\/(?:java|ecma)script/i,qe=/^\s+/,Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ae.createElement("div"),t=ae.createDocumentFragment(),n=ae.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",pe.leadingWhitespace=3===e.firstChild.nodeType,pe.tbody=!e.getElementsByTagName("tbody").length,pe.htmlSerialize=!!e.getElementsByTagName("link").length,pe.html5Clone="<:nav></:nav>"!==ae.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),pe.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ae.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),pe.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.noCloneEvent=!!e.addEventListener,e[ve.expando]=1,pe.attributes=!e.getAttribute(ve.expando)}();var Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:pe.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Ge=/<|&#?\w+;/,Je=/<tbody/i;!function(){var e,t,i=ae.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(pe[e]=t in n)||(i.setAttribute(t,"t"),pe[e]=i.attributes[t].expando===!1);i=null}();var Ze=/^(?:input|select|textarea)$/i,Qe=/^key/,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tt=/^(?:focusinfocus|focusoutblur)$/,nt=/^([^.]*)(?:\.(.+)|)/;ve.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,u,d,c,h,f,g,p,m=ve._data(e);if(m){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ve.guid++),(s=m.events)||(s=m.events={}),(d=m.handle)||(d=m.handle=function(e){return"undefined"==typeof ve||e&&ve.event.triggered===e.type?void 0:ve.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(Ae)||[""],a=t.length;a--;)r=nt.exec(t[a])||[],f=p=r[1],g=(r[2]||"").split(".").sort(),f&&(u=ve.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ve.event.special[f]||{},c=ve.extend({type:f,origType:p,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ve.expr.match.needsContext.test(o),namespace:g.join(".")},l),(h=s[f])||(h=s[f]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,g,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),ve.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var r,s,a,l,u,d,c,h,f,g,p,m=ve.hasData(e)&&ve._data(e);if(m&&(d=m.events)){for(t=(t||"").match(Ae)||[""],u=t.length;u--;)if(a=nt.exec(t[u])||[],f=p=a[1],g=(a[2]||"").split(".").sort(),f){for(c=ve.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,h=d[f]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&p!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,c.remove&&c.remove.call(e,s));l&&!h.length&&(c.teardown&&c.teardown.call(e,g,m.handle)!==!1||ve.removeEvent(e,f,m.handle),delete d[f])}else for(f in d)ve.event.remove(e,f+t[u],n,i,!0);ve.isEmptyObject(d)&&(delete m.handle,ve._removeData(e,"events"))}},trigger:function(e,t,i,o){var r,s,a,l,u,d,c,h=[i||ae],f=ge.call(e,"type")?e.type:e,g=ge.call(e,"namespace")?e.namespace.split("."):[];if(a=d=i=i||ae,3!==i.nodeType&&8!==i.nodeType&&!tt.test(f+ve.event.triggered)&&(f.indexOf(".")>-1&&(g=f.split("."),f=g.shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,e=e[ve.expando]?e:new ve.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:ve.makeArray(t,[e]),u=ve.event.special[f]||{},o||!u.trigger||u.trigger.apply(i,t)!==!1)){if(!o&&!u.noBubble&&!ve.isWindow(i)){for(l=u.delegateType||f,tt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),d=a;d===(i.ownerDocument||ae)&&h.push(d.defaultView||d.parentWindow||n)}for(c=0;(a=h[c++])&&!e.isPropagationStopped();)e.type=c>1?l:u.bindType||f,r=(ve._data(a,"events")||{})[e.type]&&ve._data(a,"handle"),r&&r.apply(a,t),r=s&&a[s],r&&r.apply&&Ie(a)&&(e.result=r.apply(a,t),e.result===!1&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),t)===!1)&&Ie(i)&&s&&i[f]&&!ve.isWindow(i)){d=i[s],d&&(i[s]=null),ve.event.triggered=f;try{i[f]()}catch(e){}ve.event.triggered=void 0,d&&(i[s]=d)}return e.result}},dispatch:function(e){e=ve.event.fix(e);var t,n,i,o,r,s=[],a=le.call(arguments),l=(ve._data(this,"events")||{})[e.type]||[],u=ve.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ve.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,i=((ve.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;n<a;n++)r=t[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?ve(o,this).index(l)>-1:ve.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ve.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=et.test(o)?this.mouseHooks:Qe.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ve.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||ae),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ae,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==R()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===R()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ve.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ve.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=ve.extend(new ve.Event,n,{type:e,isSimulated:!0});ve.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},ve.removeEvent=ae.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},ve.Event=function(e,t){return this instanceof ve.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?C:b):this.type=e,t&&ve.extend(this,t),this.timeStamp=e&&e.timeStamp||ve.now(),void(this[ve.expando]=!0)):new ve.Event(e,t)},ve.Event.prototype={constructor:ve.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ve.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ve.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||ve.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),pe.submit||(ve.event.special.submit={setup:function(){return!ve.nodeName(this,"form")&&void ve.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ve.nodeName(t,"input")||ve.nodeName(t,"button")?ve.prop(t,"form"):void 0;n&&!ve._data(n,"submit")&&(ve.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),ve._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&ve.event.simulate("submit",this.parentNode,e))},teardown:function(){return!ve.nodeName(this,"form")&&void ve.event.remove(this,"._submit")}}),pe.change||(ve.event.special.change={setup:function(){return Ze.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ve.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),ve.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),ve.event.simulate("change",this,e)})),!1):void ve.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ze.test(t.nodeName)&&!ve._data(t,"change")&&(ve.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ve.event.simulate("change",this.parentNode,e)}),ve._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ve.event.remove(this,"._change"),!Ze.test(this.nodeName)}}),pe.focusin||ve.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ve.event.simulate(t,e.target,ve.event.fix(e))};ve.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=ve._data(i,t);o||i.addEventListener(e,n,!0),ve._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ve._data(i,t)-1;o?ve._data(i,t,o):(i.removeEventListener(e,n,!0),ve._removeData(i,t))}}}),ve.fn.extend({on:function(e,t,n,i){return x(this,e,t,n,i)},one:function(e,t,n,i){return x(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ve(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=b),this.each(function(){ve.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ve.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ve.event.trigger(e,t,n,!0)}});var it=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+Ye+")[\\s/>]","i"),rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,st=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^true\/(.*)/,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,dt=v(ae),ct=dt.appendChild(ae.createElement("div"));ve.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a,l=ve.contains(e.ownerDocument,e);if(pe.html5Clone||ve.isXMLDoc(e)||!ot.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(ct.innerHTML=e.outerHTML,ct.removeChild(r=ct.firstChild)),!(pe.noCloneEvent&&pe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ve.isXMLDoc(e)))for(i=y(r),a=y(e),s=0;null!=(o=a[s]);++s)i[s]&&N(o,i[s]);if(t)if(n)for(a=a||y(e),i=i||y(r),s=0;null!=(o=a[s]);s++)D(o,i[s]);else D(e,r);return i=y(r,"script"),i.length>0&&_(i,!l&&y(e,"script")),i=a=o=null,r},cleanData:function(e,t){for(var n,i,o,r,s=0,a=ve.expando,l=ve.cache,u=pe.attributes,d=ve.event.special;null!=(n=e[s]);s++)if((t||Ie(n))&&(o=n[a],r=o&&l[o])){if(r.events)for(i in r.events)d[i]?ve.event.remove(n,i):ve.removeEvent(n,i,r.handle);l[o]&&(delete l[o],u||"undefined"==typeof n.removeAttribute?n[a]=void 0:n.removeAttribute(a),se.push(o))}}}),ve.fn.extend({domManip:L,detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Ve(this,function(e){return void 0===e?ve.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ae).createTextNode(e))},null,e,arguments.length)},append:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.appendChild(e)}})},prepend:function(){return L(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return L(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ve.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ve.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ve.clone(this,e,t)})},html:function(e){return Ve(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(it,""):void 0;if("string"==typeof e&&!st.test(e)&&(pe.htmlSerialize||!ot.test(e))&&(pe.leadingWhitespace||!qe.test(e))&&!Xe[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=ve.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(ve.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return L(this,arguments,function(t){var n=this.parentNode;ve.inArray(this,e)<0&&(ve.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),ve.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ve.fn[e]=function(e){for(var n,i=0,o=[],r=ve(e),s=r.length-1;i<=s;i++)n=i===s?this:this.clone(!0),ve(r[i])[t](n),de.apply(o,n.get());return this.pushStack(o)}});var ht,ft={HTML:"block",BODY:"block"},gt=/^margin/,pt=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),mt=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o},vt=ae.documentElement;!function(){function e(){var e,d,c=ae.documentElement;c.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=o=a=!1,i=s=!0,n.getComputedStyle&&(d=n.getComputedStyle(u),t="1%"!==(d||{}).top,a="2px"===(d||{}).marginLeft,o="4px"===(d||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(d||{marginRight:"4px"}).marginRight,e=u.appendChild(ae.createElement("div")),e.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",s=!parseFloat((n.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",r=0===u.getClientRects().length,r&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",e=u.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===e[0].offsetHeight,r&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),c.removeChild(l)}var t,i,o,r,s,a,l=ae.createElement("div"),u=ae.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",pe.opacity="0.5"===u.style.opacity,pe.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===u.style.backgroundClip,l=ae.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),pe.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ve.extend(pe,{reliableHiddenOffsets:function(){return null==t&&e(),r},boxSizingReliable:function(){return null==t&&e(),o},pixelMarginRight:function(){return null==t&&e(),i},pixelPosition:function(){return null==t&&e(),t},reliableMarginRight:function(){return null==t&&e(),s},reliableMarginLeft:function(){return null==t&&e(),a}}))}();var yt,_t,wt=/^(top|right|bottom|left)$/;n.getComputedStyle?(yt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},_t=function(e,t,n){var i,o,r,s,a=e.style;return n=n||yt(e),s=n?n.getPropertyValue(t)||n[t]:void 0,""!==s&&void 0!==s||ve.contains(e.ownerDocument,e)||(s=ve.style(e,t)),n&&!pe.pixelMarginRight()&&pt.test(s)&&gt.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r),void 0===s?s:s+""}):vt.currentStyle&&(yt=function(e){return e.currentStyle},_t=function(e,t,n){var i,o,r,s,a=e.style;return n=n||yt(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),pt.test(s)&&!wt.test(t)&&(i=a.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(o.left=r)),void 0===s?s:s+""||"auto"});var Mt=/alpha\([^)]*\)/i,Ct=/opacity\s*=\s*([^)]*)/i,bt=/^(none|table(?!-c[ea]).+)/,Rt=new RegExp("^("+Fe+")(.*)$","i"),xt={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:"0",fontWeight:"400"},Tt=["Webkit","O","Moz","ms"],St=ae.createElement("div").style;ve.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_t(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:pe.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=ve.camelCase(t),l=e.style;if(t=ve.cssProps[a]||(ve.cssProps[a]=I(a)||a),s=ve.cssHooks[t]||ve.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:l[t];if(r=typeof n,"string"===r&&(o=We.exec(n))&&o[1]&&(n=m(e,t,o),r="number"),null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(ve.cssNumber[a]?"":"px")),pe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var o,r,s,a=ve.camelCase(t);return t=ve.cssProps[a]||(ve.cssProps[a]=I(a)||a),s=ve.cssHooks[t]||ve.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=_t(e,t,i)),"normal"===r&&t in Et&&(r=Et[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ve.each(["height","width"],function(e,t){ve.cssHooks[t]={get:function(e,n,i){if(n)return bt.test(ve.css(e,"display"))&&0===e.offsetWidth?mt(e,xt,function(){return W(e,t,i)}):W(e,t,i)},set:function(e,n,i){var o=i&&yt(e);return P(e,n,i?F(e,t,i,pe.boxSizing&&"border-box"===ve.css(e,"boxSizing",!1,o),o):0)}}}),pe.opacity||(ve.cssHooks.opacity={get:function(e,t){return Ct.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ve.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ve.trim(r.replace(Mt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=Mt.test(r)?r.replace(Mt,o):r+" "+o)}}),ve.cssHooks.marginRight=k(pe.reliableMarginRight,function(e,t){if(t)return mt(e,{display:"inline-block"},_t,[e,"marginRight"])}),ve.cssHooks.marginLeft=k(pe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_t(e,"marginLeft"))||(ve.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-mt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),ve.each({margin:"",padding:"",border:"Width"},function(e,t){ve.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Ke[i]+t]=r[i]||r[i-2]||r[0];return o}},gt.test(e)||(ve.cssHooks[e+t].set=P)}),ve.fn.extend({css:function(e,t){return Ve(this,function(e,t,n){var i,o,r={},s=0;if(ve.isArray(t)){for(i=yt(e),o=t.length;s<o;s++)r[t[s]]=ve.css(e,t[s],!1,i);return r}return void 0!==n?ve.style(e,t,n):ve.css(e,t)},e,t,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?ve(this).show():ve(this).hide()})}}),ve.Tween=K,K.prototype={constructor:K,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||ve.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ve.cssNumber[n]?"":"px")},cur:function(){var e=K.propHooks[this.prop];return e&&e.get?e.get(this):K.propHooks._default.get(this)},run:function(e){var t,n=K.propHooks[this.prop];return this.options.duration?this.pos=t=ve.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ve.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ve.fx.step[e.prop]?ve.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ve.cssProps[e.prop]]&&!ve.cssHooks[e.prop]?e.elem[e.prop]=e.now:ve.style(e.elem,e.prop,e.now+e.unit)}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ve.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ve.fx=K.prototype.init,ve.fx.step={};var Dt,Nt,Lt=/^(?:toggle|show|hide)$/,Ot=/queueHooks$/;ve.Animation=ve.extend(q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,We.exec(t),n),n}]},tweener:function(e,t){ve.isFunction(e)?(t=e,e=["*"]):e=e.match(Ae);for(var n,i=0,o=e.length;i<o;i++)n=e[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(t)},prefilters:[U],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}}),ve.speed=function(e,t,n){var i=e&&"object"==typeof e?ve.extend({},e):{complete:n||!n&&t||ve.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ve.isFunction(t)&&t};return i.duration=ve.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ve.fx.speeds?ve.fx.speeds[i.duration]:ve.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ve.isFunction(i.old)&&i.old.call(this),i.queue&&ve.dequeue(this,i.queue)},i},ve.fn.extend({fadeTo:function(e,t,n,i){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ve.isEmptyObject(e),r=ve.speed(t,n,i),s=function(){var t=q(this,ve.extend({},e),r);(o||ve._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ve.timers,s=ve._data(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&Ot.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ve.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ve.timers,s=i?i.length:0;for(n.finish=!0,ve.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ve.each(["toggle","show","hide"],function(e,t){var n=ve.fn[t];ve.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,i,o)}}),ve.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ve.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ve.timers=[],ve.fx.tick=function(){var e,t=ve.timers,n=0;for(Dt=ve.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ve.fx.stop(),Dt=void 0},ve.fx.timer=function(e){ve.timers.push(e),e()?ve.fx.start():ve.timers.pop()},ve.fx.interval=13,ve.fx.start=function(){Nt||(Nt=n.setInterval(ve.fx.tick,ve.fx.interval))},ve.fx.stop=function(){n.clearInterval(Nt),Nt=null},ve.fx.speeds={slow:600,fast:200,_default:400},ve.fn.delay=function(e,t){return e=ve.fx?ve.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var o=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(o)}})},function(){var e,t=ae.createElement("input"),n=ae.createElement("div"),i=ae.createElement("select"),o=i.appendChild(ae.createElement("option"));n=ae.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",pe.getSetAttribute="t"!==n.className,pe.style=/top/.test(e.getAttribute("style")),pe.hrefNormalized="/a"===e.getAttribute("href"),pe.checkOn=!!t.value,pe.optSelected=o.selected,pe.enctype=!!ae.createElement("form").enctype,i.disabled=!0,pe.optDisabled=!o.disabled,t=ae.createElement("input"),t.setAttribute("value",""),pe.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),pe.radioValue="t"===t.value}();var At=/\r/g,Ht=/[\x20\t\r\n\f]+/g;ve.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=ve.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ve(this).val()):e,null==o?o="":"number"==typeof o?o+="":ve.isArray(o)&&(o=ve.map(o,function(e){return null==e?"":e+""})),t=ve.valHooks[this.type]||ve.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=ve.valHooks[o.type]||ve.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(At,""):null==n?"":n)}}}),ve.extend({valHooks:{option:{get:function(e){var t=ve.find.attr(e,"value");return null!=t?t:ve.trim(ve.text(e)).replace(Ht," ")}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(n=i[l],(n.selected||l===o)&&(pe.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ve.nodeName(n.parentNode,"optgroup"))){if(t=ve(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=ve.makeArray(t),s=o.length;s--;)if(i=o[s],ve.inArray(ve.valHooks.option.get(i),r)>-1)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),ve.each(["radio","checkbox"],function(){
ve.valHooks[this]={set:function(e,t){if(ve.isArray(t))return e.checked=ve.inArray(ve(e).val(),t)>-1}},pe.checkOn||(ve.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kt,It,Bt=ve.expr.attrHandle,Pt=/^(?:checked|selected)$/i,Ft=pe.getSetAttribute,Wt=pe.input;ve.fn.extend({attr:function(e,t){return Ve(this,ve.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ve.removeAttr(this,e)})}}),ve.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?ve.prop(e,t,n):(1===r&&ve.isXMLDoc(e)||(t=t.toLowerCase(),o=ve.attrHooks[t]||(ve.expr.match.bool.test(t)?It:kt)),void 0!==n?null===n?void ve.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=ve.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&ve.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(Ae);if(r&&1===e.nodeType)for(;n=r[o++];)i=ve.propFix[n]||n,ve.expr.match.bool.test(n)?Wt&&Ft||!Pt.test(n)?e[i]=!1:e[ve.camelCase("default-"+n)]=e[i]=!1:ve.attr(e,n,""),e.removeAttribute(Ft?n:i)}}),It={set:function(e,t,n){return t===!1?ve.removeAttr(e,n):Wt&&Ft||!Pt.test(n)?e.setAttribute(!Ft&&ve.propFix[n]||n,n):e[ve.camelCase("default-"+n)]=e[n]=!0,n}},ve.each(ve.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Bt[t]||ve.find.attr;Wt&&Ft||!Pt.test(t)?Bt[t]=function(e,t,i){var o,r;return i||(r=Bt[t],Bt[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,Bt[t]=r),o}:Bt[t]=function(e,t,n){if(!n)return e[ve.camelCase("default-"+t)]?t.toLowerCase():null}}),Wt&&Ft||(ve.attrHooks.value={set:function(e,t,n){return ve.nodeName(e,"input")?void(e.defaultValue=t):kt&&kt.set(e,t,n)}}),Ft||(kt={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Bt.id=Bt.name=Bt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ve.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:kt.set},ve.attrHooks.contenteditable={set:function(e,t,n){kt.set(e,""!==t&&t,n)}},ve.each(["width","height"],function(e,t){ve.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),pe.style||(ve.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Kt=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;ve.fn.extend({prop:function(e,t){return Ve(this,ve.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ve.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ve.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ve.isXMLDoc(e)||(t=ve.propFix[t]||t,o=ve.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ve.find.attr(e,"tabindex");return t?parseInt(t,10):Kt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.hrefNormalized||ve.each(["href","src"],function(e,t){ve.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),pe.optSelected||(ve.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ve.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ve.propFix[this.toLowerCase()]=this}),pe.enctype||(ve.propFix.enctype="encoding");var Vt=/[\t\r\n\f]/g;ve.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(ve.isFunction(e))return this.each(function(t){ve(this).addClass(e.call(this,t,Y(this)))});if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[l++];)if(o=Y(n),i=1===n.nodeType&&(" "+o+" ").replace(Vt," ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=ve.trim(i),o!==a&&ve.attr(n,"class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(ve.isFunction(e))return this.each(function(t){ve(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[l++];)if(o=Y(n),i=1===n.nodeType&&(" "+o+" ").replace(Vt," ")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");a=ve.trim(i),o!==a&&ve.attr(n,"class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ve.isFunction(e)?this.each(function(n){ve(this).toggleClass(e.call(this,n,Y(this),t),t)}):this.each(function(){var t,i,o,r;if("string"===n)for(i=0,o=ve(this),r=e.match(Ae)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=Y(this),t&&ve._data(this,"__className__",t),ve.attr(this,"class",t||e===!1?"":ve._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Y(n)+" ").replace(Vt," ").indexOf(t)>-1)return!0;return!1}}),ve.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ve.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ve.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var zt=n.location,Ut=ve.now(),$t=/\?/,qt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ve.parseJSON=function(e){if(n.JSON&&n.JSON.parse)return n.JSON.parse(e+"");var t,i=null,o=ve.trim(e+"");return o&&!ve.trim(o.replace(qt,function(e,n,o,r){return t&&n&&(i=0),0===i?e:(t=o||n,i+=!r-!o,"")}))?Function("return "+o)():ve.error("Invalid JSON: "+e)},ve.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{n.DOMParser?(i=new n.DOMParser,t=i.parseFromString(e,"text/xml")):(t=new n.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ve.error("Invalid XML: "+e),t};var Yt=/#.*$/,Xt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,Qt=/^\/\//,en=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,tn={},nn={},on="*/".concat("*"),rn=zt.href,sn=en.exec(rn.toLowerCase())||[];ve.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rn,type:"GET",isLocal:Jt.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":on,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ve.parseJSON,"text xml":ve.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?J(J(e,ve.ajaxSettings),t):J(ve.ajaxSettings,e)},ajaxPrefilter:X(tn),ajaxTransport:X(nn),ajax:function(e,t){function i(e,t,i,o){var r,c,y,_,M,b=t;2!==w&&(w=2,l&&n.clearTimeout(l),d=void 0,a=o||"",C.readyState=e>0?4:0,r=e>=200&&e<300||304===e,i&&(_=Z(h,C,i)),_=Q(h,_,C,r),r?(h.ifModified&&(M=C.getResponseHeader("Last-Modified"),M&&(ve.lastModified[s]=M),M=C.getResponseHeader("etag"),M&&(ve.etag[s]=M)),204===e||"HEAD"===h.type?b="nocontent":304===e?b="notmodified":(b=_.state,c=_.data,y=_.error,r=!y)):(y=b,!e&&b||(b="error",e<0&&(e=0))),C.status=e,C.statusText=(t||b)+"",r?p.resolveWith(f,[c,b,C]):p.rejectWith(f,[C,b,y]),C.statusCode(v),v=void 0,u&&g.trigger(r?"ajaxSuccess":"ajaxError",[C,h,r?c:y]),m.fireWith(f,[C,b]),u&&(g.trigger("ajaxComplete",[C,h]),--ve.active||ve.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,r,s,a,l,u,d,c,h=ve.ajaxSetup({},t),f=h.context||h,g=h.context&&(f.nodeType||f.jquery)?ve(f):ve.event,p=ve.Deferred(),m=ve.Callbacks("once memory"),v=h.statusCode||{},y={},_={},w=0,M="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!c)for(c={};t=Gt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=_[n]=_[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||M;return d&&d.abort(t),i(0,t),this}};if(p.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||rn)+"").replace(Yt,"").replace(Qt,sn[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=ve.trim(h.dataType||"*").toLowerCase().match(Ae)||[""],null==h.crossDomain&&(o=en.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===sn[1]&&o[2]===sn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ve.param(h.data,h.traditional)),G(tn,h,t,C),2===w)return C;u=ve.event&&h.global,u&&0===ve.active++&&ve.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Zt.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=($t.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Xt.test(s)?s.replace(Xt,"$1_="+Ut++):s+($t.test(s)?"&":"?")+"_="+Ut++)),h.ifModified&&(ve.lastModified[s]&&C.setRequestHeader("If-Modified-Since",ve.lastModified[s]),ve.etag[s]&&C.setRequestHeader("If-None-Match",ve.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+on+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)C.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(f,C,h)===!1||2===w))return C.abort();M="abort";for(r in{success:1,error:1,complete:1})C[r](h[r]);if(d=G(nn,h,t,C)){if(C.readyState=1,u&&g.trigger("ajaxSend",[C,h]),2===w)return C;h.async&&h.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,d.send(y,i)}catch(e){if(!(w<2))throw e;i(-1,e)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return ve.get(e,t,n,"json")},getScript:function(e,t){return ve.get(e,void 0,t,"script")}}),ve.each(["get","post"],function(e,t){ve[t]=function(e,n,i,o){return ve.isFunction(n)&&(o=o||i,i=n,n=void 0),ve.ajax(ve.extend({url:e,type:t,dataType:o,data:n,success:i},ve.isPlainObject(e)&&e))}}),ve._evalUrl=function(e){return ve.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ve.fn.extend({wrapAll:function(e){if(ve.isFunction(e))return this.each(function(t){ve(this).wrapAll(e.call(this,t))});if(this[0]){var t=ve(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ve.isFunction(e)?this.each(function(t){ve(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ve(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve.isFunction(e);return this.each(function(n){ve(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ve.nodeName(this,"body")||ve(this).replaceWith(this.childNodes)}).end()}}),ve.expr.filters.hidden=function(e){return pe.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:te(e)},ve.expr.filters.visible=function(e){return!ve.expr.filters.hidden(e)};var an=/%20/g,ln=/\[\]$/,un=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;ve.param=function(e,t){var n,i=[],o=function(e,t){t=ve.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ve.ajaxSettings&&ve.ajaxSettings.traditional),ve.isArray(e)||e.jquery&&!ve.isPlainObject(e))ve.each(e,function(){o(this.name,this.value)});else for(n in e)ne(n,e[n],t,o);return i.join("&").replace(an,"+")},ve.fn.extend({serialize:function(){return ve.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ve.prop(this,"elements");return e?ve.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ve(this).is(":disabled")&&cn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!ze.test(e))}).map(function(e,t){var n=ve(this).val();return null==n?null:ve.isArray(n)?ve.map(n,function(e){return{name:t.name,value:e.replace(un,"\r\n")}}):{name:t.name,value:n.replace(un,"\r\n")}}).get()}}),ve.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?oe():ae.documentMode>8?ie():/^(get|post|head|put|delete|options)$/i.test(this.type)&&ie()||oe()}:ie;var hn=0,fn={},gn=ve.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var e in fn)fn[e](void 0,!0)}),pe.cors=!!gn&&"withCredentials"in gn,gn=pe.ajax=!!gn,gn&&ve.ajaxTransport(function(e){if(!e.crossDomain||pe.cors){var t;return{send:function(i,o){var r,s=e.xhr(),a=++hn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&s.setRequestHeader(r,i[r]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var r,l,u;if(t&&(i||4===s.readyState))if(delete fn[a],t=void 0,s.onreadystatechange=ve.noop,i)4!==s.readyState&&s.abort();else{u={},r=s.status,"string"==typeof s.responseText&&(u.text=s.responseText);try{l=s.statusText}catch(e){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=u.text?200:404}u&&o(r,l,u,s.getAllResponseHeaders())},e.async?4===s.readyState?n.setTimeout(t):s.onreadystatechange=fn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ve.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ve.globalEval(e),e}}}),ve.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ve.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ae.head||ve("head")[0]||ae.documentElement;return{send:function(i,o){t=ae.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var pn=[],mn=/(=)\?(?=&|$)|\?\?/;ve.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pn.pop()||ve.expando+"_"+Ut++;return this[e]=!0,e}}),ve.ajaxPrefilter("json jsonp",function(e,t,i){var o,r,s,a=e.jsonp!==!1&&(mn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ve.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(mn,"$1"+o):e.jsonp!==!1&&(e.url+=($t.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ve.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=n[o],n[o]=function(){s=arguments},i.always(function(){void 0===r?ve(n).removeProp(o):n[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,pn.push(o)),s&&ve.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),ve.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ae;var i=Ee.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=M([e],t,o),o&&o.length&&ve(o).remove(),ve.merge([],i.childNodes))};var vn=ve.fn.load;ve.fn.load=function(e,t,n){if("string"!=typeof e&&vn)return vn.apply(this,arguments);var i,o,r,s=this,a=e.indexOf(" ");return a>-1&&(i=ve.trim(e.slice(a,e.length)),e=e.slice(0,a)),ve.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ve.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ve("<div>").append(ve.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},ve.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ve.fn[t]=function(e){return this.on(t,e)}}),ve.expr.filters.animated=function(e){return ve.grep(ve.timers,function(t){return e===t.elem}).length},ve.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,u,d=ve.css(e,"position"),c=ve(e),h={};"static"===d&&(e.style.position="relative"),a=c.offset(),r=ve.css(e,"top"),l=ve.css(e,"left"),u=("absolute"===d||"fixed"===d)&&ve.inArray("auto",[r,l])>-1,u?(i=c.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ve.isFunction(t)&&(t=t.call(e,n,ve.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):c.css(h)}},ve.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ve.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return t=r.documentElement,ve.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=re(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ve.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ve.nodeName(e[0],"html")||(n=e.offset()),n.top+=ve.css(e[0],"borderTopWidth",!0),n.left+=ve.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ve.css(i,"marginTop",!0),left:t.left-n.left-ve.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!ve.nodeName(e,"html")&&"static"===ve.css(e,"position");)e=e.offsetParent;return e||vt})}}),ve.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ve.fn[e]=function(i){return Ve(this,function(e,i,o){var r=re(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(n?ve(r).scrollLeft():o,n?o:ve(r).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),ve.each(["top","left"],function(e,t){ve.cssHooks[t]=k(pe.pixelPosition,function(e,n){if(n)return n=_t(e,t),pt.test(n)?ve(e).position()[t]+"px":n})}),ve.each({Height:"height",Width:"width"},function(e,t){ve.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ve.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Ve(this,function(t,n,i){var o;return ve.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ve.css(t,n,s):ve.style(t,n,i,s)},t,r?i:void 0,r,null)}})}),ve.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ve.fn.size=function(){return this.length},ve.fn.andSelf=ve.fn.addBack,i=[],o=function(){return ve}.apply(t,i),!(void 0!==o&&(e.exports=o));var yn=n.jQuery,_n=n.$;return ve.noConflict=function(e){return n.$===ve&&(n.$=_n),e&&n.jQuery===ve&&(n.jQuery=yn),ve},r||(n.jQuery=n.$=ve),ve})},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(9),a=n(12),l=n(13),u=n(22),d=n(23),c=n(24),h=n(25),f=n(26),g=n(27),p=n(30),m=n(31),v=n(32),y=n(33),_=n(18),w={data:[],columns:[],keyColumnName:null,selectType:"",autoNumbering:!0,header:{height:40,complexColumns:[]},columnOptions:{minWidth:50,resizable:!0,frozenCount:0},fitToParentHeight:!1,fixedRowHeight:!1,fixedHeight:!1,showDummyRows:!1,virtualScrolling:!1,copyOptions:null,scrollX:!0,scrollY:!0,useClientSort:!0,editingEvent:"dblclick",rowHeight:"auto",bodyHeight:"auto",minRowHeight:40,minBodyHeight:130,selectionUnit:"cell"},M=r.defineClass({init:function(e,t,n){e=i.extend(!0,{},w,e),this.gridId=e.gridId,this.columnModel=this._createColumnModel(e),this.dataModel=this._createDataModel(e,t,n),this.dimensionModel=this._createDimensionModel(e,t,n),this.coordRowModel=this._createCoordRowModel(t),this.focusModel=this._createFocusModel(e,t,n),this.coordColumnModel=this._createCoordColumnModel(e.columnOptions,n),this.renderModel=this._createRenderModel(e),this.coordConverterModel=this._createCoordConverterModel(),this.selectionModel=this._createSelectionModel(e,n),this.summaryModel=this._createSummaryModel(e.summary),this.clipboardModel=this._createClipboardModel(e,n)},_createColumnModel:function(e){return new s({keyColumnName:e.keyColumnName,frozenCount:e.columnOptions.frozenCount,complexHeaderColumns:e.header.complexColumns,copyOptions:e.copyOptions,columns:e.columns,rowHeaders:e.rowHeaders,treeColumnOptions:e.treeColumnOptions})},_createDataModel:function(e,t,n){var i=this.columnModel.hasTreeColumn(),o=i?a:l;return new o([],{gridId:this.gridId,domState:t,domEventBus:n,columnModel:this.columnModel,useClientSort:e.useClientSort,publicObject:e.publicObject})},_createDimensionModel:function(e,t,n){var i,o,r,s=e.columnOptions,a=!isNaN(e.rowHeight),l="auto"!==e.bodyHeight,d=e.minRowHeight,c=e.minBodyHeight,h=a?Math.max(d,e.rowHeight):d,f=l?Math.max(c,e.bodyHeight):c;return o=s.frozenCount?Number(s.frozenBorderWidth)||1:0,r={headerHeight:e.header.height,bodyHeight:f,summaryHeight:e.summary?e.summary.height:0,summaryPosition:e.summary?e.summary.position||"bottom":null,rowHeight:h,fitToParentHeight:"fitToParent"===e.bodyHeight,scrollX:!!e.scrollX,scrollY:!!e.scrollY,fixedRowHeight:a,fixedHeight:l,minRowHeight:d,minBodyHeight:c||h,minimumColumnWidth:s.minWidth,frozenBorderWidth:o},a===!1&&e.virtualScrolling&&(_.warning("If the virtualScrolling is set to true, the rowHeight must be set to number type."),r.fixedRowHeight=!0),i=new u(r,{columnModel:this.columnModel,dataModel:this.dataModel,domState:t,domEventBus:n})},_createCoordRowModel:function(e){return new d(null,{dataModel:this.dataModel,dimensionModel:this.dimensionModel,domState:e})},_createCoordColumnModel:function(e,t){var n={resizable:e.resizable};return new c(n,{columnModel:this.columnModel,dimensionModel:this.dimensionModel,domEventBus:t})},_createCoordConverterModel:function(){return new h(null,{columnModel:this.columnModel,dataModel:this.dataModel,dimensionModel:this.dimensionModel,focusModel:this.focusModel,coordRowModel:this.coordRowModel,renderModel:this.renderModel,coordColumnModel:this.coordColumnModel})},_createFocusModel:function(e,t,n){return new f(null,{columnModel:this.columnModel,dataModel:this.dataModel,coordRowModel:this.coordRowModel,domEventBus:n,domState:t,editingEvent:e.editingEvent})},_createSelectionModel:function(e,t){return new m({selectionUnit:e.selectionUnit},{columnModel:this.columnModel,dataModel:this.dataModel,dimensionModel:this.dimensionModel,coordConverterModel:this.coordConverterModel,coordRowModel:this.coordRowModel,renderModel:this.renderModel,focusModel:this.focusModel,domEventBus:t})},_createRenderModel:function(e){var t,n,i;return t={emptyMessage:e.emptyMessage,showDummyRows:e.showDummyRows},n={columnModel:this.columnModel,dataModel:this.dataModel,dimensionModel:this.dimensionModel,focusModel:this.focusModel,coordRowModel:this.coordRowModel,coordColumnModel:this.coordColumnModel},new(i=e.virtualScrolling?p:g)(t,n)},_createSummaryModel:function(e){return e?new v(null,{dataModel:this.dataModel,columnModel:this.columnModel,columnContent:e.columnContent,defaultContent:e.defaultContent}):null},_createClipboardModel:function(e,t){return new y(null,{columnModel:this.columnModel,dataModel:this.dataModel,selectionModel:this.selectionModel,renderModel:this.renderModel,focusModel:this.focusModel,copyOptions:e.copyOptions,domEventBus:t})},destroy:function(){o.each(this,function(e,t){e&&r.isFunction(e._destroy)&&e._destroy(),e&&r.isFunction(e.stopListening)&&e.stopListening(),this[t]=null},this)}});e.exports=M},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(10),a=n(11).frame,l={rowNum:{type:"rowNum",title:"No.",name:"_number",align:"center",fixedWidth:!0,width:50,hidden:!1},checkbox:{type:"checkbox",title:'<input type="checkbox" />',name:"_button",align:"center",fixedWidth:!0,width:50,hidden:!1,editOptions:{type:"mainButton"}},radio:{type:"radio",title:"select",name:"_button",align:"center",fixedWidth:!0,width:50,hidden:!1,editOptions:{type:"mainButton"}}},u=s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments),this.textType={normal:!0,text:!0,password:!0},this._setColumns(this.get("rowHeaders"),this.get("columns")),this.on("change",this._onChange,this)},defaults:{keyColumnName:null,frozenCount:0,rowHeaders:[],dataColumns:[],visibleColumns:[],selectType:"",columnModelMap:{},relationsMap:{},complexHeaderColumns:[],copyOptions:{useFormattedValue:!1},treeColumnOptions:{name:null,useIcon:!0,useCascadingCheckbox:!0}},at:function(e,t){var n=t?this.getVisibleColumns():this.get("dataColumns");return n[e]},indexOfColumnName:function(e,t){var n;return n=t?this.getVisibleColumns():this.get("dataColumns"),o.findIndex(n,{name:e})},isLside:function(e){var t=this.indexOfColumnName(e,!0),n=this.getVisibleFrozenCount(!1);return t>-1&&t<n},getVisibleColumns:function(e,t){var n,i=t?0:this.getVisibleMetaColumnCount(),o=this.getVisibleFrozenCount(t);return e=e&&e.toUpperCase(),n=e===a.L?this.get("visibleColumns").slice(i,o):e===a.R?this.get("visibleColumns").slice(o):this.get("visibleColumns").slice(i)},getVisibleMetaColumnCount:function(){var e=this.get("rowHeaders"),t=e.length,n=o.where(e,{hidden:!0}).length;return t-n},getVisibleFrozenCount:function(e){var t,n,i=this.get("frozenCount"),r=o.first(this.get("dataColumns"),i);return t=o.filter(r,function(e){return!e.hidden}),n=t.length,e&&(n+=this.getVisibleMetaColumnCount()),n},getColumnModel:function(e){return this.get("columnModelMap")[e]},isTextType:function(e){return!!this.textType[this.getEditType(e)]},isTreeType:function(e){return this.get("treeColumnOptions").name===e},hasTreeColumn:function(){return r.isString(this.get("treeColumnOptions").name)},useTreeIcon:function(){var e=this.get("treeColumnOptions").useIcon;return!!o.isUndefined(e)||e},useCascadingCheckbox:function(){var e=this.get("treeColumnOptions").useCascadingCheckbox;return!!o.isUndefined(e)||e},getEditType:function(e){var t=this.getColumnModel(e),n="normal";return"_button"===e||"_number"===e?n=e:t&&t.editOptions&&t.editOptions.type&&(n=t.editOptions.type),n},copyVisibleTextOfEditingColumn:function(e){var t=this.getColumnModel(e);return!!r.pick(t,"editOptions","listItems")&&!!r.pick(t,"copyOptions","useListItemText")},_makeVisibleColumns:function(e,t){return e=e||this.get("rowHeaders"),t=t||this.get("dataColumns"),o.filter(e.concat(t),function(e){return!e.hidden})},_getRelationListMap:function(e){var t={};return o.each(e,function(e){var n=e.name;e.relations&&(t[n]=e.relations)}),t},getIgnoredColumnNames:function(){var e=this.get("dataColumns"),t=[];return o.each(e,function(e){e.ignored&&t.push(e.name)}),t},_setColumns:function(e,t,n){var s,a,l;r.isUndefined(n)&&(n=this.get("frozenCount")),e=this._getRowHeadersData(e),l=i.extend(!0,[],t),s=this._getRelationListMap(l),a=this._makeVisibleColumns(e,l),this.set({selectType:this._getSelectType(e),rowHeaders:e,dataColumns:l,columnModelMap:o.indexBy(e.concat(l),"name"),relationsMap:s,frozenCount:Math.max(0,n),visibleColumns:a},{silent:!0}),this.unset("columns",{silent:!0}),this.trigger("columnModelChange")},_getRowHeadersData:function(e){var t,n,r,s,a=[];return o.each(e,function(e){n=o.isObject(e),t=n?e.type:e,r=l[t],n?(s=e.title,e=i.extend({},r,e)):e=r,e.template&&!s&&"rowNum"!==t&&(e.title=e.template({className:"",name:"",disabled:"",checked:""})),o.findIndex(a,{name:e.name})===-1&&a.push(e)},this),a},_getSelectType:function(e){var t=o.findWhere(e,{name:"_button"});return t?t.type:""},_onChange:function(e){var t=e.changed,n=t.frozenCount,i=t.columns||this.get("dataColumns"),o=t.rowHeaders||this.get("rowHeaders");this._setColumns(o,i,n)},setHidden:function(e,t){for(var n,i,o,r;e.length;)n=e.shift(),o=this.getColumnModel(n),o?o.hidden=t:(i=this.getUnitColumnNamesIfMerged(n),e.push.apply(e,i));r=this._makeVisibleColumns(this.get("rowHeaders"),this.get("dataColumns")),this.set("visibleColumns",r,{silent:!0}),this.trigger("columnModelChange")},getUnitColumnNamesIfMerged:function(e){var t,n,i,r=this.get("complexHeaderColumns"),s=[],a=[];for(s.push(e);s.length;)t=s.shift(),n=this.getColumnModel(t),n?a.push(t):(i=o.findWhere(r,{name:t}),i&&s.push.apply(s,i.childNames));return o.uniq(a)},getCopyOptions:function(e){var t=this.getColumnModel(e);return o.extend({},this.get("copyOptions"),t.copyOptions)},getTreeColumnName:function(){return this.get("treeColumnOptions").name}});u._defaultRowHeaders=l,e.exports=u},function(e,t,n){"use strict";var i=n(6),o=i.Model.extend({});e.exports=o},function(e,t,n){"use strict";var i=n(2),o={TAB:9,ENTER:13,CTRL:17,ESC:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,CHAR_A:65,CHAR_C:67,CHAR_F:70,CHAR_R:82,CHAR_V:86,LEFT_WINDOW_KEY:91,F5:116,BACKSPACE:8,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,DEL:46,UNDEFINED:229};e.exports={keyCode:o,keyName:i.invert(o),renderState:{LOADING:"LOADING",DONE:"DONE",EMPTY:"EMPTY"},dimension:{CELL_BORDER_WIDTH:1,TABLE_BORDER_WIDTH:1,RESIZE_HANDLE_WIDTH:7,SCROLLBAR_WIDTH:17,INDENT_WIDTH:22},frame:{L:"L",R:"R"},attrName:{ROW_KEY:"data-row-key",COLUMN_NAME:"data-column-name",COLUMN_INDEX:"data-column-index",EDIT_TYPE:"data-edit-type",GRID_ID:"data-grid-id"},themeName:{DEFAULT:"default",STRIPED:"striped",CLEAN:"clean"},selectionType:{CELL:"CELL",ROW:"ROW",COLUMN:"COLUMN"},summaryType:{SUM:"sum",AVG:"avg",CNT:"cnt",MAX:"max",MIN:"min"},summaryPosition:{TOP:"top",BOTTOM:"bottom"},treeState:{EXPAND:"EXPAND",COLLAPSE:"COLLAPSE"}}},function(e,t,n){"use strict";function i(){return{_treeData:{hasNextSibling:[]}}}var o,r=n(2),s=n(4),a=n(13),l=n(21);o=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments),this._rootRow=i()},model:l,_formatData:function(e,t){var n,o,a,l=i(),u=[];return n=r.filter(e,r.isObject),n=s.isArray(n)?n:[n],t?(a=t.parentRowKey,r.isNumber(a)||r.isString(a)?(o=this.get(t.parentRowKey),l._treeData.childrenRowKeys=o.getTreeChildrenRowKeys(),l._treeData.hasNextSibling=o.hasTreeNextSibling().slice(0),l.rowKey=t.parentRowKey):l=this._rootRow):this._rootRow=l,this._flattenRow(n,u,[l]),o&&o.setTreeChildrenRowKeys(l._treeData.childrenRowKeys),r.each(u,function(e,t){this.isRowSpanEnable()&&this._setExtraRowSpanData(u,t)},this),u},_flattenRow:function(e,t,n){var i,o=e[e.length-1];i=n[n.length-1],i._treeData.childrenRowKeys=i._treeData.childrenRowKeys||[],r.each(e,function(e){e=this._baseFormat(e),e._treeData={parentRowKey:i.rowKey,hasNextSibling:i._treeData.hasNextSibling.concat([o!==e]),childrenRowKeys:e._children?[]:null},i._treeData.childrenRowKeys.push(e.rowKey),t.push(e),s.isArray(e._children)&&(this._flattenRow(e._children,t,n.concat([e])),delete e._children)},this)},_indexOfParentRowKeyAndOffset:function(e,t){var n,i,o;return i=this.get(e),
i?(o=i.getTreeChildrenRowKeys(),n=this.indexOf(i)):(o=this._rootRow._treeData.childrenRowKeys,n=-1),t=Math.max(0,t),t=Math.min(t,o.length),0===o.length||0===t?n+=1:o.length>t?n=this.indexOf(this.get(o[t])):(n=this.indexOf(this.get(o[o.length-1])),n+=this.getTreeDescendantRowKeys(n).length+1),n},_syncHasTreeNextSiblingData:function(e){var t,n,i,o=this.get(e);o&&(t=o.getTreeDepth(),n=this.get(this.getTreePrevSiblingRowKey(e)),i=this.get(this.getTreeNextSiblingRowKey(e)),o.hasTreeNextSibling()[t-1]=!!i,n&&(n.hasTreeNextSibling()[t-1]=!0))},appendRow:function(e,t){var n;return t=r.extend({at:this._indexOfParentRowKeyAndOffset(t.parentRowKey,t.offset)},t),n=this._appendRow(e,t),this._syncHasTreeNextSiblingData(n[0].get("rowKey")),n.length>1&&this._syncHasTreeNextSiblingData(n[n.length-1].get("rowKey")),this.trigger("add",n,t),n},prependRow:function(e,t){return t=t||{},t.parentRowKey=null,t.offset=0,this.appendRow(e,t)},_removeChildFromParent:function(e){var t=this.get(e).getTreeParentRowKey(),n=this.get(t),i=this._rootRow._treeData;n?n.removeTreeChildrenRowKey(e):i.childrenRowKeys=r.filter(i.childrenRowKeys,function(t){return t!==e},this)},_removeRow:function(e,t){this._removeChildFromParent(e),a.prototype._removeRow.call(this,e,t)},removeRow:function(e,t){var n,i=this.get(e),o=i.getTreeParentRowKey(),s=this.indexOf(i),a=this.getTreePrevSiblingRowKey(e);i&&(n=this.getTreeDescendantRowKeys(e),n.reverse().push(e),r.each(n,function(e){this._removeRow(e,t)},this),(r.isNumber(a)||r.isString(a))&&this._syncHasTreeNextSiblingData(a),t&&t.removeOriginalData&&this.setOriginalRowList(),this.trigger("remove",e,s,n,o))},getTreeSiblingRowKeys:function(e){var t,n=this.get(this.get(e).getTreeParentRowKey());return t=n?n.getTreeChildrenRowKeys():this._rootRow._treeData.childrenRowKeys.slice(0)},getTreePrevSiblingRowKey:function(e){var t=this.getTreeSiblingRowKeys(e),n=t.indexOf(e);return n>0?t[n-1]:null},getTreeNextSiblingRowKey:function(e){var t=this.getTreeSiblingRowKeys(e),n=t.indexOf(e);return n+1>=t.length?null:t[n+1]},getTopMostRowKeys:function(){return this._rootRow._treeData.childrenRowKeys},getTreeChildrenRowKeys:function(e){var t=this.get(e);return t.getTreeChildrenRowKeys()},getTreeDescendantRowKeys:function(e){for(var t=0,n=[e];t<n.length;)n=n.concat(this.getTreeChildrenRowKeys(n[t])),t+=1;return n.shift(),n},treeExpand:function(e,t,n){var i=this.getTreeDescendantRowKeys(e),o=this.get(e);return o.setTreeExpanded(!0),t?r.each(i,function(e){var t=this.get(e);t.hasTreeChildren()&&t.setTreeExpanded(!0)},this):i=r.filter(i,function(e){return this.isTreeVisible(e)},this),n||this.trigger("expanded",{rowKey:e,descendantRowKeys:i.slice(0)}),i},treeExpandAll:function(){var e=this.getTopMostRowKeys();r.each(e,function(e){this.treeExpand(e,!0,!0)},this),this.trigger("expandedAll")},treeCollapse:function(e,t,n){var i=this.get(e),o=this.getTreeDescendantRowKeys(e);return t?r.each(o,function(e){var t=this.get(e);t.hasTreeChildren()&&t.setTreeExpanded(!1)},this):o=r.filter(o,function(e){return this.isTreeVisible(e)},this),i.setTreeExpanded(!1),n||this.trigger("collapsed",{rowKey:e,descendantRowKeys:o.slice(0)}),o},treeCollapseAll:function(){var e=this.getTopMostRowKeys();r.each(e,function(e){this.treeCollapse(e,!0,!0)},this),this.trigger("collapsedAll")},getTreeParent:function(e){var t=this.get(e);return t?this.get(t.getTreeParentRowKey()):null},getTreeAncestors:function(e){for(var t=[],n=this.getTreeParent(e);n;)t.push(n),n=this.getTreeParent(n.get("rowKey"));return t.reverse()},getTreeChildren:function(e){var t=this.getTreeChildrenRowKeys(e);return r.map(t,function(e){return this.get(e)},this)},getTreeDescendants:function(e){var t=this.getTreeDescendantRowKeys(e);return r.map(t,function(e){return this.get(e)},this)},getTreeDepth:function(e){var t,n=this.get(e);return n?n.getTreeDepth():t},isTreeVisible:function(e){var t=!0;return r.each(this.getTreeAncestors(e),function(e){t=t&&e.getTreeExpanded()},this),t},isVisibleRow:function(e){return this.isTreeVisible(e)},check:function(e){var t=this.columnModel.get("selectType");"radio"===t&&this.uncheckAll(),this._setCheckedState(e,!0)},uncheck:function(e){this._setCheckedState(e,!1)},_setCheckedState:function(e,t){var n=this.columnModel.useCascadingCheckbox();this.setValue(e,"_button",t),n&&(this._updateDecendantsCheckedState(e,t),this._updateAncestorsCheckedState(e))},_updateDecendantsCheckedState:function(e,t){var n=this.getTreeDescendants(e);r.each(n,function(e){this.setValue(e,"_button",t)},this)},_updateAncestorsCheckedState:function(e){for(var t=this.get(e).getTreeParentRowKey();t>-1;)this._setCheckedStateToParent(t),t=this.get(t).getTreeParentRowKey()},_setCheckedStateToParent:function(e){var t,n=this.get(e).getTreeChildrenRowKeys(),i=0;r.each(n,function(e){this.get(e).get("_button")&&(i+=1)},this),t=i===n.length,this.setValue(e,"_button",t)}}),e.exports=o},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(14),s=n(15),a=n(17),l=r.extend({initialize:function(e,t){r.prototype.initialize.apply(this,arguments),o.assign(this,{columnModel:t.columnModel,domState:t.domState,gridId:t.gridId,lastRowKey:-1,originalRows:[],originalRowMap:{},startIndex:t.startIndex||1,sortOptions:{columnName:"rowKey",ascending:!0,useClient:!o.isBoolean(t.useClientSort)||t.useClientSort},disabled:!1,publicObject:t.publicObject}),this.sortOptions.useClient||(this.comparator=null),t.domEventBus&&(this.listenTo(t.domEventBus,"click:headerCheck",this._onClickHeaderCheck),this.listenTo(t.domEventBus,"click:headerSort",this._onClickHeaderSort))},model:s,parse:function(e){return e=e&&e.contents||e,this._formatData(e)},_onClickHeaderCheck:function(e){e.checked?this.checkAll():this.uncheckAll()},_onClickHeaderSort:function(e){this.sortByField(e.columnName)},_formatData:function(e){var t=o.filter(e,o.isObject);return o.each(t,function(e,n){t[n]=this._baseFormat(t[n]),this.isRowSpanEnable()&&this._setExtraRowSpanData(t,n)},this),t},_baseFormat:function(e){var t={rowSpan:null,rowSpanData:null,rowState:null},n=this.columnModel.get("keyColumnName"),o=null===n?this._createRowKey():e[n];return e._extraData=i.extend(t,e._extraData),e._button="CHECKED"===e._extraData.rowState,e.rowKey=o,e},_createRowKey:function(){return this.lastRowKey+=1,this.lastRowKey},_setExtraRowSpanData:function(e,t){function n(e,t){var n=e._extraData;return!(!n.rowSpanData||!n.rowSpanData[t])}function i(e,t,n){var i=e._extraData;return i.rowSpanData=i&&i.rowSpanData||{},i.rowSpanData[t]=n,i}var r,s,a,l=e[t],u=l&&l._extraData&&l._extraData.rowSpan,d=l&&l.rowKey;return u&&o.each(u,function(o,u){if(!n(l,u))for(i(l,u,{count:o,isMainRow:!0,mainRowKey:d}),r=-1,a=t+1;a<t+o;a+=1)s=e[a],s[u]=l[u],s._extraData=s._extraData||{},i(s,u,{count:r,isMainRow:!1,mainRowKey:d}),r-=1}),e},setOriginalRowList:function(e){return this.originalRows=e?this._formatData(e):this.toJSON(),this.originalRowMap=o.indexBy(this.originalRows,"rowKey"),this.originalRows},getOriginalRowList:function(e){return e=!!o.isUndefined(e)||e,e?o.clone(this.originalRows):this.originalRows},getOriginalRow:function(e){return o.clone(this.originalRowMap[e])},getOriginal:function(e,t){return o.clone(this.originalRowMap[e][t])},getMainRowKey:function(e,t){var n,i=this.get(e);return this.isRowSpanEnable()&&(n=i&&i.getRowSpanData(t),e=n?n.mainRowKey:e),e},indexOfRowKey:function(e){return this.indexOf(this.get(e))},isRowSpanEnable:function(){return!this.isSortedByField()},isSortedByField:function(){return"rowKey"!==this.sortOptions.columnName},setSortOptionValues:function(e,t,n){var i=this.sortOptions,r=!1;o.isUndefined(e)&&(e="rowKey"),o.isUndefined(t)&&(t=!0),i.columnName===e&&i.ascending===t||(r=!0),i.columnName=e,i.ascending=t,r&&this.trigger("sortChanged",{columnName:e,ascending:t,requireFetch:n})},sortByField:function(e,t){var n=this.sortOptions;o.isUndefined(t)&&(t=n.columnName!==e||!n.ascending),this.setSortOptionValues(e,t,!n.useClient),n.useClient&&this.sort()},getRows:function(e,t){var n,i;return e?(i=this.where({_button:!0}),n=[],o.each(i,function(e){n.push(e.attributes)},this)):n=this.toJSON(),t?n:this._removePrivateProp(n)},findRows:function(e){var t;return t=o.isFunction(e)?this.filter(function(t){return e(t.toJSON())}):this.where(e),o.map(t,function(e){return e.toJSON()})},syncRowSpannedData:function(e,t,n){var i,o,r;if(this.isRowSpanEnable())if(o=e.getRowSpanData(t),o.isMainRow)for(i=this.indexOfRowKey(e.get("rowKey")),r=0;r<o.count-1;r+=1)this.at(r+1+i).set(t,n);else this.get(o.mainRowKey).set(t,n)},comparator:function(e,t){var n=this.sortOptions.columnName,i=this.sortOptions.ascending,r=e.get(n),s=t.get(n),a=o.isNull(r)||o.isUndefined(r)||""===r,l=o.isNull(s)||o.isUndefined(s)||""===s,u=0;return a&&!l?u=-1:!a&&l?u=1:r<s?u=-1:r>s&&(u=1),i||(u=-u),u},_removePrivateProp:function(e){return o.map(e,function(e){return o.omit(e,s.privateProperties)})},_removeRow:function(e,t){var n,i,r,s,a=this.get(e);return a?(t&&t.keepRowSpanData&&(r=o.clone(a.attributes)),s=this.indexOf(a),n=o.clone(a.getRowSpanData()),i=this.at(s+1),this.remove(a,{silent:!0}),this._syncRowSpanDataForRemove(n,i,r),s):-1},removeRow:function(e,t){var n=this._removeRow(e,t);t&&t.removeOriginalData&&this.setOriginalRowList(),this.trigger("remove",e,n)},_syncRowSpanDataForRemove:function(e,t,n){e&&o.each(e,function(e,i){var o,r,s,a={};if(e.isMainRow){if(1===e.count)return;o=t,s=e.count-1,r=1,s>1&&(a.mainRowKey=o.get("rowKey"),a.isMainRow=!0),o.set(i,n?n[i]:"",{silent:!0})}else o=this.get(e.mainRowKey),s=o.getRowSpanData(i).count-1,r=-e.count;s>1?(a.count=s,o.setRowSpanData(i,a),this._updateSubRowSpanData(o,i,r,s)):o.setRowSpanData(i,null)},this)},_createDummyRow:function(){var e=this.columnModel.get("dataColumns"),t={};return o.each(e,function(e){t[e.name]=""},this),t},_appendRow:function(e,t){var n=this._createModelList(e,t);return this.add(n,{at:t.at,add:!0,silent:!0}),this._syncRowSpanDataForAppend(t.at,n.length,t.extendPrevRowSpan),n},appendRow:function(e,t){var n;return t=o.extend({at:this.length},t),n=this._appendRow(e,t),this.trigger("add",n,t),n},prependRow:function(e,t){return t=t||{},t.at=0,this.appendRow(e,t)},getRowData:function(e,t){var n=this.get(e),i=n?n.toJSON():null;return t?JSON.stringify(i):i},getRowDataAt:function(e,t){var n=this.at(e),i=n?n.toJSON():null;return t?JSON.stringify(n):i},getValue:function(e,t,n){var i,o;return n?i=this.getOriginal(e,t):(o=this.get(e),i=o&&o.get(t)),i},setValue:function(e,t,n,i){var o=this.get(e);return!!o&&(o.set(t,n,{silent:i}),!0)},getColumnValues:function(e,t){var n=this.pluck(e);return t?JSON.stringify(n):n},setColumnValues:function(e,t,n,i){var r={},s={disabled:!1,editable:!0};r[e]=t,n=!!o.isUndefined(n)||n,this.forEach(function(t){n&&(s=t.getCellState(e)),!s.disabled&&s.editable&&t.set(r,{silent:i})},this)},getRowSpanData:function(e,t){var n=this.get(e);return n?n.getRowSpanData(t):null},isModified:function(){var e=o.values(this.getModifiedRows());return o.some(e,function(e){return e.length>0})},setDisabled:function(e){this.disabled!==e&&(this.disabled=e,this.trigger("disabledChanged"))},enableRow:function(e){this.get(e).setRowState("")},disableRow:function(e){this.get(e).setRowState("DISABLED")},enableCheck:function(e){this.get(e).setRowState("")},disableCheck:function(e){this.get(e).setRowState("DISABLED_CHECK")},check:function(e,t){var n=this.get(e).getRowState().isDisabledCheck,i=this.columnModel.get("selectType");!n&&i&&("radio"===i&&this.uncheckAll(),this.setValue(e,"_button",!0,t))},uncheck:function(e,t){this.setValue(e,"_button",!1,t)},checkAll:function(){this.setColumnValues("_button",!0)},uncheckAll:function(){this.setColumnValues("_button",!1)},_createModelList:function(e,t){var n,i=[];return e=e||this._createDummyRow(),o.isArray(e)||(e=[e]),n=this._formatData(e,t),o.each(n,function(e){var t=this.model,n=new t(e,{collection:this,parse:!0});i.push(n)},this),i},_syncRowSpanDataForAppend:function(e,t,n){var i=this.at(e-1);i&&o.each(i.getRowSpanData(),function(e,o){var r,s,a,l;0!==e.count&&(e.isMainRow?(r=i,s=e,a=1):(r=this.get(e.mainRowKey),s=r.getRowSpanData()[o],a=-e.count+1),(s.count>a||n)&&(s.count+=t,l=s.count,this._updateSubRowSpanData(r,o,a,l)))},this)},_updateSubRowSpanData:function(e,t,n,i){var o,r,s=this.indexOf(e),a=e.get("rowKey");for(r=n;r<i;r+=1)o=this.at(s+r),o.set(t,e.get(t),{silent:!0}),o.setRowSpanData(t,{count:-r,mainRowKey:a,isMainRow:!1})},_isModifiedRow:function(e,t,n){var i=o.omit(e,n),r=o.some(i,function(e,n){return"object"==typeof e?JSON.stringify(e)!==JSON.stringify(t[n]):e!==t[n]},this);return r},getModifiedRows:function(e){var t=e&&e.withRawData,n=!!this.columnModel.getColumnModel("_button"),i=n&&e&&e.checkedOnly,r=e&&e.rowKeyOnly,s=t?this.originalRows:this._removePrivateProp(this.originalRows),a=t?this.toJSON():this._removePrivateProp(this.toJSON()),l=e&&e.ignoredColumns,u={createdRows:[],updatedRows:[],deletedRows:[]};return s=o.indexBy(s,"rowKey"),a=o.indexBy(a,"rowKey"),l=o.union(l,this.columnModel.getIgnoredColumnNames()),o.each(a,function(e,t){var n=s[t],a=r?e.rowKey:o.omit(e,l);(!i||i&&this.get(t).get("_button"))&&(n?this._isModifiedRow(e,n,l)&&u.updatedRows.push(a):u.createdRows.push(a))},this),o.each(s,function(e,t){var n=r?e.rowKey:o.omit(e,l);a[t]||u.deletedRows.push(n)},this),u},resetData:function(e,t,n){e||(e=[]),o.isUndefined(t)&&(t=!0),this.trigger("beforeReset",e.length),this.lastRowKey=-1,this.reset(e,{parse:t}),o.isFunction(n)&&n()},setData:function(e,t,n){var i=o.bind(function(){this.setOriginalRowList(),o.isFunction(n)&&n()},this);this.resetData(e,t,i)},restore:function(){var e=this.getOriginalRowList();this.resetData(e,!0)},del:function(e,t,n){var i=this.getMainRowKey(e,t),r=this.get(i).getCellState(t),s=this.columnModel.getEditType(t),a=o.contains(["text","password"],s);a&&r.editable&&!r.disabled&&this.setValue(i,t,"",n)},delRange:function(e){var t,n,i=this.columnModel.getVisibleColumns(),r=o.range(e.row[0],e.row[1]+1),s=o.range(e.column[0],e.column[1]+1);t=o.map(r,function(e){return this.at(e).get("rowKey")},this),n=o.map(s,function(e){return i[e].name}),o.each(t,function(e){o.each(n,function(t){this.del(e,t,!0),this.get(e).validateCell(t,!0)},this)},this),this.trigger("deleteRange",new a(null,{rowKeys:t,columnNames:n}))},paste:function(e,t){var n=this._getEndIndexToPaste(e,t);o.each(e,function(e,i){this._setValueForPaste(e,t.row+i,t.column,n.column)},this),this.trigger("paste",{startIdx:t,endIdx:n})},validate:function(){var e=[],t=o.chain(this.columnModel.getVisibleColumns()).filter(function(e){return e.validation&&e.validation.required===!0}).pluck("name").value();return this.each(function(n){var i=[];o.each(t,function(e){var t=n.validateCell(e);t&&i.push({columnName:e,errorCode:t})}),i.length&&e.push({rowKey:n.get("rowKey"),errors:i})}),e},_getEndIndexToPaste:function(e,t){var n=this.columnModel.getVisibleColumns(),i=e.length+t.row-1,o=Math.min(e[0].length+t.column,n.length)-1;return{row:i,column:o}},_setValueForPaste:function(e,t,n,i){var o,r,s,a,l=this.at(t),u=this.columnModel,d={};for(l||(l=this.appendRow({})[0]),o=n;o<=i;o+=1)r=u.at(o,!0).name,s=l.getCellState(r),a=l.getRowSpanData(r),s.editable&&!s.disabled&&(!a||a.count>=0)&&(d[r]=e[o-n]);l.set(d)},getElement:function(e,t){var n=this.getMainRowKey(e,t);return this.domState.getElement(n,t)},getCheckedState:function(){var e=0,t=0;return this.forEach(function(n){var i=n.getCellState("_button");!i.disabled&&i.editable&&(e+=1,n.get("_button")&&(t+=1))}),{available:e,checked:t}},isVisibleRow:function(){return!0}});e.exports=l},function(e,t,n){"use strict";var i=n(6),o=i.Collection.extend({clear:function(){return this.each(function(e){e.stopListening(),e=null}),this.reset([],{silent:!0}),this}});e.exports=o},function(e,t,n){"use strict";var i=n(2),o=n(6),r=n(4),s=n(10),a=n(16),l=n(17),u=n(18),d=n(19),c=n(20),h=["_button","_number","_extraData"],f="REQUIRED",g="TYPE_NUMBER",p=s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments),this.extraDataManager=new a(this.get("_extraData")),this.columnModel=this.collection.columnModel,this.validateMap={},this.on("change",this._onChange,this)},idAttribute:"rowKey",set:function(e,t,n){var r,s=i.isObject(e);s&&(n=t),!this.columnModel||n&&n.silent?o.Model.prototype.set.apply(this,arguments):(s?r=e:(r={},r[e]=t),i.each(r,function(e,t){this._executeOnBeforeChange(t,e)||delete r[t]},this),o.Model.prototype.set.call(this,r,n))},parse:function(e){return e._extraData||(e._extraData={}),e},_triggerExtraDataChangeEvent:function(){this.trigger("extraDataChanged",this.get("_extraData"))},_triggerCheckboxChangeEvent:function(e){var t={rowKey:this.get("rowKey")};e?this.trigger("check",t):this.trigger("uncheck",t)},_onChange:function(){var e=i.omit(this.changed,this.getPrivateProperties());i.has(this.changed,"_button")&&this._triggerCheckboxChangeEvent(this.changed._button),this.isDuplicatedPublicChanged(e)||i.each(e,function(e,t){var n=this.columnModel.getColumnModel(t);n&&(this.collection.syncRowSpannedData(this,t,e),this._executeOnAfterChange(t),this.validateCell(t,!0))},this)},_validateCellData:function(e){var t,n=this.columnModel.getColumnModel(e).validation,o="";return n&&(t=this.get(e),n.required&&u.isBlank(t)?o=f:"number"!==n.dataType||i.isNumber(t)||(o=g)),o},validateCell:function(e,t){var n;return!t&&e in this.validateMap?this.validateMap[e]:(n=this._validateCellData(e),n?this.addCellClassName(e,c.CELL_INVALID):this.removeCellClassName(e,c.CELL_INVALID),this.validateMap[e]=n,n)},_createChangeCallbackEvent:function(e,t){return new l(null,{rowKey:this.get("rowKey"),columnName:e,value:t,instance:this.collection.publicObject})},_executeOnBeforeChange:function(e,t){var n,i=this.columnModel.getColumnModel(e),o=this.get(e)!==t;return!(o&&i&&i.onBeforeChange)||(n=this._createChangeCallbackEvent(e,t),i.onBeforeChange(n),!n.isStopped())},_executeOnAfterChange:function(e){var t,n=this.columnModel.getColumnModel(e),i=this.get(e);return!n.onAfterChange||(t=this._createChangeCallbackEvent(e,i),n.onAfterChange(t),!t.isStopped())},getPrivateProperties:function(){return h},getRowState:function(){return this.extraDataManager.getRowState()},getClassNameList:function(e){var t=this.columnModel.getColumnModel(e),n=u.isMetaColumn(e),i=this.extraDataManager.getClassNameList(e),o=this.getCellState(e);return t.className&&i.push(t.className),t.ellipsis&&i.push(c.CELL_ELLIPSIS),t.validation&&t.validation.required&&i.push(c.CELL_REQUIRED),n?i.push(c.CELL_ROW_HEAD):o.editable&&i.push(c.CELL_EDITABLE),o.disabled&&i.push(c.CELL_DISABLED),r.pick(t,"editOptions","useViewMode")===!1&&i.push(c.CELL_HAS_INPUT),this._makeUniqueStringArray(i)},_makeUniqueStringArray:function(e){var t=i.uniq(e.join(" ").split(" "));return i.without(t,"")},getCellState:function(e){var t,n,o=["_number","normal"],r=this.columnModel,s=this.collection.disabled,a=!0,l=r.getEditType(e);return n=this.executeRelationCallbacksAll(["disabled","editable"])[e],t=this.getRowState(),s||(s="_button"===e?t.disabledCheck:t.disabled,s=s||!(!n||!n.disabled)),a=!i.contains(o,l)&&!(n&&n.editable===!1),{editable:a,disabled:s}},isEditable:function(e){var t=this.getCellState(e);return!t.disabled&&t.editable},isDisabled:function(e){var t=this.getCellState(e);return t.disabled},getRowSpanData:function(e){var t=this.collection.isRowSpanEnable(),n=this.get("rowKey");return this.extraDataManager.getRowSpanData(e,n,t)},getHeight:function(){return this.extraDataManager.getHeight()},setHeight:function(e){this.extraDataManager.setHeight(e),this._triggerExtraDataChangeEvent()},setRowSpanData:function(e,t){this.extraDataManager.setRowSpanData(e,t),this._triggerExtraDataChangeEvent()},setRowState:function(e,t){this.extraDataManager.setRowState(e),t||this._triggerExtraDataChangeEvent()},addCellClassName:function(e,t){this.extraDataManager.addCellClassName(e,t),this._triggerExtraDataChangeEvent()},addClassName:function(e){this.extraDataManager.addClassName(e),this._triggerExtraDataChangeEvent()},removeCellClassName:function(e,t){this.extraDataManager.removeCellClassName(e,t),this._triggerExtraDataChangeEvent()},removeClassName:function(e){this.extraDataManager.removeClassName(e),this._triggerExtraDataChangeEvent()},_getStringOfListItems:function(e,t){var n,o,s,a,l,d=this.get(e),c=this.columnModel.getColumnModel(e);return r.isExisty(r.pick(c,"editOptions","listItems"))?(n=this.executeRelationCallbacksAll(["listItems"])[e],l=n&&n.listItems,o=l?n.listItems:c.editOptions.listItems,s=typeof o[0].value,a=u.toString(d).split(","),s!==typeof a[0]&&(a=i.map(a,function(e){return u.convertValueType(e,s)})),i.each(a,function(e,n){var r=i.findWhere(o,{value:e}),s=r&&(t?r.text:r.value)||"";a[n]=s},this),a.join(",")):""},_isListType:function(e){return i.contains(["select","radio","checkbox"],e)},isDuplicatedPublicChanged:function(e){return!(!this._timeoutIdForChanged||!i.isEqual(this._lastPublicChanged,e))||(clearTimeout(this._timeoutIdForChanged),this._timeoutIdForChanged=setTimeout(i.bind(function(){this._timeoutIdForChanged=null},this),10),this._lastPublicChanged=e,!1)},getValueString:function(e){var t=this.columnModel,n=t.copyVisibleTextOfEditingColumn(e),i=t.getEditType(e),o=t.getColumnModel(e),s=this.get(e);if(this._isListType(i)){if(!r.isExisty(r.pick(o,"editOptions","listItems",0,"value")))throw new Error('Check "'+e+"\"'s editOptions.listItems property out in your ColumnModel.");s=this._getStringOfListItems(e,n)}else"password"===i&&(s="");return s=u.toString(s),s=d.addDoubleQuotes(s)},executeRelationCallbacksAll:function(e){var t=this.attributes,n=this.columnModel.get("relationsMap"),o={};return i.isEmpty(e)&&(e=["listItems","disabled","editable"]),i.each(n,function(n,r){var s=t[r];i.each(n,function(n){this._executeRelationCallback(n,e,s,t,o)},this)},this),o},_executeRelationCallback:function(e,t,n,o,r){var s=this.getRowState(),a=e.targetNames;i.each(t,function(t){var l;s.disabled&&"disabled"===t||(l=e[t],"function"==typeof l&&i.each(a,function(e){r[e]=r[e]||{},r[e][t]=l(n,o)},this))},this)}},{privateProperties:h});e.exports=p},function(e,t,n){"use strict";var i=n(2),o=n(4),r=o.defineClass({init:function(e){this.data=e||{}},getRowSpanData:function(e,t,n){var i=null;return n&&(i=this.data.rowSpanData,e&&i&&(i=i[e])),!i&&e&&(i={count:0,isMainRow:!0,mainRowKey:t}),i},getRowState:function(){var e={disabledCheck:!1,disabled:!1,checked:!1};switch(this.data.rowState){case"DISABLED":e.disabled=!0;case"DISABLED_CHECK":e.disabledCheck=!0;break;case"CHECKED":e.checked=!0}return e},setRowState:function(e){this.data.rowState=e},setRowSpanData:function(e,t){var n=i.assign({},this.data.rowSpanData);e&&(t?n[e]=t:n[e]&&delete n[e],this.data.rowSpanData=n)},addCellClassName:function(e,t){var n,o;n=this.data.className||{},n.column=n.column||{},o=n.column[e]||[],i.contains(o,t)||(o.push(t),n.column[e]=o,this.data.className=n)},addClassName:function(e){var t,n;t=this.data.className||{},n=t.row||[],o.inArray(e,n)===-1&&(n.push(e),t.row=n,this.data.className=t)},getClassNameList:function(e){var t=this.data.className,n=Array.prototype.push,i=[];return t&&(t.row&&n.apply(i,t.row),e&&t.column&&t.column[e]&&n.apply(i,t.column[e])),i},_removeClassNameFromArray:function(e,t){var n=e.join(" ").split(" ");return i.without(n,t)},removeCellClassName:function(e,t){var n=this.data.className;o.pick(n,"column",e)&&(n.column[e]=this._removeClassNameFromArray(n.column[e],t),this.data.className=n)},removeClassName:function(e){var t=this.data.className;t&&t.row&&(t.row=this._removeClassNameFromArray(t.row,e),this.className=t)},setHeight:function(e){this.data.height=e},getHeight:function(){return this.data.height},setTreeState:function(e){this.data.treeState=e},getTreeState:function(){return this.data.treeState}});e.exports=r},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(18),s=n(11).attrName,a={ROW_HEAD:"rowHead",COLUMN_HEAD:"columnHead",DUMMY:"dummy",CELL:"cell",ETC:"etc"},l=o.defineClass({init:function(e,t){this._stopped=!1,e&&(this.nativeEvent=e),t&&this.setData(t)},setData:function(e){i.extend(this,e)},stop:function(){this._stopped=!0},isStopped:function(){return this._stopped}});l.getTargetInfo=function(e){var t,n,i=e.closest("td"),o=a.ETC;return 1===i.length?(t=i.attr(s.ROW_KEY),n=i.attr(s.COLUMN_NAME),o=t&&n?r.isMetaColumn(n)?a.ROW_HEAD:a.CELL:a.DUMMY):(i=e.closest("th"),1===i.length&&(n=i.attr(s.COLUMN_NAME),o=a.COLUMN_HEAD)),r.pruneObject({targetType:o,rowKey:r.strToNumber(t),columnName:n})},l.targetTypeConst=a,e.exports=l},function(e,t,n){"use strict";function i(e,t){var n,i,o,r="",s=0;for(t=!!t,i=e.split(/(%(?:d0|d1)%.{2})/),n=i.length;s<n;s+=1){try{o=decodeURIComponent(i[s])}catch(e){o=t?i[s].replace(/%(?!\d+)/g,"%25"):i[s]}r+=o}return r}var o,r=n(7),s=n(2),a=n(4),l=n(11).dimension.CELL_BORDER_WIDTH;o={uniqueId:0,getAttributesString:function(e){var t="";return s.each(e,function(e,n){t+=" "+n+'="'+e+'"'},this),t},sum:function(e){return s.reduce(e,function(e,t){return e+=t},0)},getMinMax:function(e){return{min:Math.min.apply(null,e),max:Math.max.apply(null,e)}},strToNumber:function(e){var t=Number(e);return isNaN(t)?e:t},pruneObject:function(e){var t={};return s.each(e,function(e,n){s.isUndefined(e)||s.isNull(e)||(t[n]=e)}),t},getHeight:function(e,t){return 0===e?e:e*(t+l)},getDisplayRowCount:function(e,t){return Math.ceil(e/(t+l))},getRowHeight:function(e,t){return 0===e?0:Math.floor((t-l)/e)},isMetaColumn:function(e){return s.contains(["_button","_number"],e)},isEqual:function(e,t){var n,i=function(e,t){var n=!1;return a.forEach(e,function(e,i){return n=e===t[i]}),n},o=!0;return typeof e!=typeof t?o=!1:s.isArray(e)&&e.length!==t.length?o=!1:s.isObject(e)?(n=!i(e,t)||!i(t,e),o=!n):e!==t&&(o=!1),o},isBlank:function(e){return s.isString(e)?!e.length:s.isUndefined(e)||s.isNull(e)},stripTags:function(e){var t;return e=e.replace(/[\n\r\t]/g,""),a.hasEncodableString(e)&&(/<img/i.test(e)?(t=e.match(/<img[^>]*\ssrc=["']?([^>"']+)["']?[^>]*>/i),e=t?t[1]:""):e=e.replace(/<button.*?<\/button>/gi,""),e=r.trim(a.decodeHTMLEntity(e.replace(/<\/?(?:h[1-5]|[a-z]+(?::[a-z]+)?)[^>]*>/gi,"")))),e},toString:function(e){return s.isUndefined(e)||s.isNull(e)?"":String(e)},getUniqueKey:function(){return this.uniqueId+=1,this.uniqueId},toQueryString:function(e){var t=[];return s.each(e,function(e,n){s.isString(e)||s.isNumber(e)||(e=JSON.stringify(e)),e=encodeURIComponent(unescape(e)),e&&t.push(n+"="+e)}),t.join("&")},toQueryObject:function(e){var t=e.split("&"),n={};return s.each(t,function(e){var t,o,r=e.split("=");t=r[0],o=i(r[1]);try{o=JSON.parse(o)}catch(e){}s.isNull(o)||(n[t]=o)}),n},convertValueType:function(e,t){var n=e;return"string"===t?n=String(e):"number"===t?n=Number(e):"boolean"===t&&(n=Boolean(e)),n},toUpperCaseFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},clamp:function(e,t,n){var i;return t>n&&(i=t,t=n,n=i),Math.max(t,Math.min(e,n))},isOptionEnabled:function(e){return s.isObject(e)||e===!0},appendStyleElement:function(e,t){var n=document.createElement("style");n.type="text/css",n.id=e,n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(n)},warning:function(e){console&&console.warn&&console.warn(e)},replaceText:function(e,t){return e.replace(/\{\{(\w*)\}\}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""})},isRightClickEvent:function(e){var t;return e=e||window.event,e.which?t=3===e.which:e.button&&(t=2===e.button),t}},e.exports=o},function(e,t,n){"use strict";function i(e,t,n,i){var o,r,s=n[0],a=n[1],l=i[0],u=i[1];for(r=l;r<u;r+=1)for(o=s;o<a;o+=1)t[r][o]=l===r&&s===o?e:" "}var o,r=n(2),s="___tui_grid_lf___",a="___tui_grid_cr___",l=new RegExp(s,"g"),u=new RegExp(a,"g"),d="\n",c="\r";o={convertTableToData:function(e){for(var t,n,o,s=[],a=e.rows,l=0,u=a.length;l<u;l+=1)s[l]=[];return r.each(a,function(e,a){t=0,r.each(e.cells,function(e){for(var r=e.textContent||e.innerText;s[a][t];)t+=1;n=[t,t+(e.colSpan||1)],o=[a,a+(e.rowSpan||1)],i(r,s,n,o),t=n[1]})}),s},convertTextToData:function(e){return e=o.replaceNewlineToSubchar(e),r.map(e.split(/\r?\n/),function(e){return r.map(e.split("\t"),function(e){return e=o.removeDoubleQuotes(e),e.replace(l,d).replace(u,c)})})},addDoubleQuotes:function(e){return e.match(/\r?\n/g)&&(e='"'+e.replace(/"/g,'""')+'"'),e},removeDoubleQuotes:function(e){return e.match(l)&&(e=e.substring(1,e.length-1).replace(/""/g,'"')),e},replaceNewlineToSubchar:function(e){return e.replace(/"([^"]|"")*"/g,function(e){return e.replace(d,s).replace(c,a)})}},o.CUSTOM_LF_SUBCHAR=s,o.CUSTOM_CR_SUBCHAR=a,e.exports=o},function(e,t,n){"use strict";var i=n(2),o="tui-grid-",r={CONTAINER:"container",CLIPBOARD:"clipboard",NO_SCROLL_X:"no-scroll-x",NO_SCROLL_Y:"no-scroll-y",HAS_SUMMARY_TOP:"has-summary-top",HAS_SUMMARY_BOTTOM:"has-summary-bottom",SHOW_LSIDE_AREA:"show-lside-area",LAYER_STATE:"layer-state",LAYER_STATE_CONTENT:"layer-state-content",LAYER_STATE_LOADING:"layer-state-loading",LAYER_EDITING:"layer-editing",LAYER_FOCUS:"layer-focus",LAYER_FOCUS_BORDER:"layer-focus-border",LAYER_FOCUS_DEACTIVE:"layer-focus-deactive",LAYER_SELECTION:"layer-selection",LAYER_DATE_PICKER:"layer-datepicker",BORDER_LINE:"border-line",BORDER_TOP:"border-line-top",BORDER_LEFT:"border-line-left",BORDER_RIGHT:"border-line-right",BORDER_BOTTOM:"border-line-bottom",CONTENT_AREA:"content-area",LSIDE_AREA:"lside-area",RSIDE_AREA:"rside-area",HEAD_AREA:"head-area",BODY_AREA:"body-area",SUMMARY_AREA:"summary-area",FROZEN_BORDER:"frozen-border",FROZEN_BORDER_TOP:"frozen-border-top",FROZEN_BORDER_BOTTOM:"frozen-border-bottom",COLUMN_RESIZE_CONTAINER:"column-resize-container",COLUMN_RESIZE_HANDLE:"column-resize-handle",COLUMN_RESIZE_HANDLE_LAST:"column-resize-handle-last",BODY_CONTAINER:"body-container",BODY_TABLE_CONTAINER:"table-container",SCROLLBAR_RIGHT_TOP:"scrollbar-right-top",SCROLLBAR_Y_INNER_BORDER:"scrollbar-y-inner-border",SCROLLBAR_Y_OUTER_BORDER:"scrollbar-y-outer-border",SCROLLBAR_FROZEN_BORDER:"scrollbar-frozen-border",SCROLLBAR_RIGHT_BOTTOM:"scrollbar-right-bottom",SCROLLBAR_LEFT_BOTTOM:"scrollbar-left-bottom",PAGINATION:"pagination",TABLE:"table",ROW_ODD:"row-odd",ROW_EVEN:"row-even",CELL:"cell",CELL_HEAD:"cell-head",CELL_ROW_HEAD:"cell-row-head",CELL_SUMMARY:"cell-summary",CELL_ROW_ODD:"cell-row-odd",CELL_ROW_EVEN:"cell-row-even",CELL_EDITABLE:"cell-editable",CELL_DUMMY:"cell-dummy",CELL_REQUIRED:"cell-required",CELL_DISABLED:"cell-disabled",CELL_SELECTED:"cell-selected",CELL_INVALID:"cell-invalid",CELL_ELLIPSIS:"cell-ellipsis",CELL_CURRENT_ROW:"cell-current-row",CELL_MAIN_BUTTON:"cell-main-button",CELL_HAS_INPUT:"cell-has-input",CELL_HAS_TREE:"cell-has-tree",CELL_CONTENT:"cell-content",CELL_CONTENT_BEFORE:"content-before",CELL_CONTENT_AFTER:"content-after",CELL_CONTENT_INPUT:"content-input",CELL_CONTENT_TEXT:"content-text",BTN_TEXT:"btn-text",BTN_SORT:"btn-sorting",BTN_SORT_UP:"btn-sorting-up",BTN_SORT_DOWN:"btn-sorting-down",BTN_EXCEL:"btn-excel-download",BTN_EXCEL_ICON:"btn-excel-icon",BTN_EXCEL_PAGE:"btn-excel-page",BTN_EXCEL_ALL:"btn-excel-all",BTN_TREE:"btn-tree",HEIGHT_RESIZE_BAR:"height-resize-bar",HEIGHT_RESIZE_HANDLE:"height-resize-handle",TREE_WARPPER_RELATIVE:"tree-wrapper-relative",TREE_WARPPER_VALIGN_CENTER:"tree-wrapper-valign-center",TREE_EXTRA_CONTENT:"tree-extra-content",TREE_DEPTH:"tree-depth",TREE_BUTTON_EXPAND:"tree-button-expand",TREE_BUTTON_COLLAPSE:"tree-button-collapse",TREE_ICON:"tree-icon"},t=i.mapObject(r,function(e){return o+e});t.PREFIX=o,e.exports=t},function(e,t,n){"use strict";var i=n(2),o=n(15),r=n(11).treeState,s=["_button","_number","_extraData","_treeData","_children"],a=o.extend({getPrivateProperties:function(){return s},setTreeExpanded:function(e){var t=this.getTreeExpanded();this.extraDataManager.setTreeState(e?r.EXPAND:r.COLLAPSE),e!==t&&this._triggerExtraDataChangeEvent()},getTreeExpanded:function(){return this.extraDataManager.getTreeState()===r.EXPAND},_getTreeData:function(){return this.get("_treeData")},getTreeDepth:function(){return this.hasTreeNextSibling().length},hasTreeChildren:function(){var e=this._getTreeData().childrenRowKeys,t=i.isArray(e)&&!!e.length;return this.get("_children")&&(t=!0),
t},getTreeChildrenRowKeys:function(){return this._getTreeData().childrenRowKeys||[]},setTreeChildrenRowKeys:function(e){this._getTreeData().childrenRowKeys=e},removeTreeChildrenRowKey:function(e){var t=this._getTreeData();t.childrenRowKeys=i.filter(t.childrenRowKeys,function(t){return t!==e},this)},hasTreeNextSibling:function(){return this._getTreeData().hasNextSibling},getTreeParentRowKey:function(){return this._getTreeData().parentRowKey}},{privateProperties:s,treeState:r});e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(10),r=n(11),s=r.dimension,a=r.summaryPosition,l=s.TABLE_BORDER_WIDTH,u=s.CELL_BORDER_WIDTH,d=o.extend({initialize:function(e,t){o.prototype.initialize.apply(this,arguments),this.columnModel=t.columnModel,this.dataModel=t.dataModel,this.domState=t.domState,this.on("change:fixedHeight",this._resetSyncHeightHandler),t.domEventBus&&(this.listenTo(t.domEventBus,"windowResize",this._onResizeWindow),this.listenTo(t.domEventBus,"dragmove:resizeHeight",i.debounce(i.bind(this._onDragMoveForHeight,this)))),this._resetSyncHeightHandler()},defaults:{offsetLeft:0,offsetTop:0,width:0,headerHeight:0,bodyHeight:0,summaryHeight:0,summaryPosition:null,resizeHandleHeight:0,paginationHeight:0,rowHeight:0,totalRowHeight:0,fixedRowHeight:!0,rsideWidth:0,lsideWidth:0,minimumColumnWidth:0,scrollBarSize:17,scrollX:!0,scrollY:!0,fitToParentHeight:!1,fixedHeight:!1,minRowHeight:0,minBodyHeight:0,frozenBorderWidth:0},_onResizeWindow:function(){this.refreshLayout()},_onDragMoveForHeight:function(e){var t=e.pageY-this.get("offsetTop")-e.startData.mouseOffsetY;this.setHeight(t)},_resetSyncHeightHandler:function(){this.get("fixedHeight")?this.off("change:totalRowHeight"):this.on("change:totalRowHeight",this._syncBodyHeightWithTotalRowHeight)},_syncBodyHeightWithTotalRowHeight:function(){var e=this.get("totalRowHeight")+this.getScrollXHeight(),t=this.get("minBodyHeight"),n=Math.max(t,e);this.set("bodyHeight",n)},isDivisionBorderDoubled:function(){return this.columnModel.getVisibleFrozenCount()>0},getAvailableTotalWidth:function(e){var t=this.get("width"),n=e+1+(this.isDivisionBorderDoubled()?1:0),i=n*u;return t-this.getScrollYWidth()-i-this.get("frozenBorderWidth")},getBodySize:function(){var e=this.get("lsideWidth"),t=this.get("rsideWidth")-this.getScrollYWidth(),n=this.get("bodyHeight")-this.getScrollXHeight();return{height:n,rsideWidth:t,totalWidth:e+t}},getOverflowFromMousePosition:function(e,t){var n=this.getPositionFromBodyArea(e,t),i=this.getBodySize();return this._judgeOverflow(n,i)},_judgeOverflow:function(e,t){var n=e.x,i=e.y,o=0,r=0;return i<0?o=-1:i>t.height&&(o=1),n<0?r=-1:n>t.totalWidth&&(r=1),{x:r,y:o}},getScrollXHeight:function(){return this.get("scrollX")?this.get("scrollBarSize"):0},getScrollYWidth:function(){return this.get("scrollY")?this.get("scrollBarSize"):0},_calcRealBodyHeight:function(e){var t=this.get("headerHeight")+this.get("summaryHeight")+l;return e-t},_getMinBodyHeight:function(){return this.get("minBodyHeight")+2*u+this.getScrollXHeight()},_getMinLeftSideWidth:function(){var e,t=this.get("minimumColumnWidth"),n=this.columnModel.getVisibleFrozenCount(!0),i=0;return n&&(e=(n+1)*u,i=e+t*n),i},getMaxLeftSideWidth:function(){var e=Math.ceil(.9*this.get("width"));return e&&(e=Math.max(e,this._getMinLeftSideWidth())),e},setWidth:function(e){e>0&&(this.set("width",e),this.trigger("setWidth",e))},setHeight:function(e){e>0&&this.set("bodyHeight",Math.max(this._calcRealBodyHeight(e),this._getMinBodyHeight()))},getHeight:function(){return this.get("bodyHeight")+this.get("headerHeight")},refreshLayout:function(){var e=this.domState,t=e.getOffset();this.set({offsetTop:t.top,offsetLeft:t.left,width:e.getWidth()}),this.get("fitToParentHeight")&&this.setHeight(e.getParentHeight())},getBodyOffsetTop:function(){var e=this.domState.getOffset().top,t=this.get("summaryPosition")===a.TOP?this.get("summaryHeight"):0;return e+this.get("headerHeight")+t+u+l},getPositionFromBodyArea:function(e,t){var n=this.domState.getOffset().left,i=this.getBodyOffsetTop();return{x:e-n,y:t-i}}});e.exports=d},function(e,t,n){"use strict";var i=n(2),o=n(18),r=n(10),s=n(11).dimension.CELL_BORDER_WIDTH,a=r.extend({initialize:function(e,t){this.dataModel=t.dataModel,this.dimensionModel=t.dimensionModel,this.domState=t.domState,this.rowHeights=[],this.rowOffsets=[],this.dimensionModel.get("fixedRowHeight")&&this.listenTo(this.dataModel,"add remove reset sort",this.syncWithDataModel).listenTo(this.dataModel,"expanded",this._onExpanded).listenTo(this.dataModel,"collapsed",this._onCollapsed)},_onExpanded:function(e){var t=e.descendantRowKeys;i.each(t,function(e){var t=this.dataModel.indexOfRowKey(e),n=this.dataModel.at(t);this.rowHeights[t]=this._getRowHeight(n)},this),this._resetOffsets(),this._setTotalRowHeight()},_onCollapsed:function(e){var t=e.descendantRowKeys;i.each(t,function(e){var t=this.dataModel.indexOfRowKey(e);this.rowHeights[t]=0},this),this._resetOffsets(),this._setTotalRowHeight()},_getRowHeight:function(e){var t=this.dimensionModel.get("rowHeight"),n=e.getHeight();return i.isNumber(n)?n:t},_getHeightFromData:function(){var e,t=[];return this.dataModel.each(function(n,i){e=this._getRowHeight(n),this.dataModel.isVisibleRow(n.get("rowKey"))||(e=0),t[i]=e},this),t},_getPreviousVisbleRowOffsetByIndex:function(e){for(var t=this.rowHeights,n=0,i=-1;e>=n&&!t[e];e-=1)i-=1;return i},_getNextVisibleRowOffsetByIndex:function(e){for(var t=this.rowHeights,n=t.length,i=1;e<n&&!t[e];e+=1)i+=1;return i},_resetOffsets:function(){var e,t,n=this.rowHeights,o=[],r=0;i.each(n,function(i,a){i?(e=a?n[r]:n[0],t=a?e+o[r]+s:0,r=a):t=-1,o[a]=t}),this.rowOffsets=o},_setTotalRowHeight:function(){var e,t,n=0,i=this.rowHeights,o=this.rowOffsets,r=i.length;r&&(e=this._getPreviousVisbleRowOffsetByIndex(r-1),t=r+e,n=o[t]+i[t]+s),this.dimensionModel.set("totalRowHeight",n)},_reset:function(e){this.rowHeights=e,this._resetOffsets(),this._setTotalRowHeight(),this.trigger("reset")},syncWithDom:function(){var e,t,n,i,o,r=0;if(!this.dimensionModel.get("fixedRowHeight")){for(e=this.domState.getRowHeights(),t=this._getHeightFromData(),n=[],i=0,o=t.length;i<o;i+=1)t[i]?(n[i]=Math.max(e[r],t[i]),r+=1):n[i]=0;this._reset(n)}},syncWithDataModel:function(){this._reset(this._getHeightFromData())},getHeightAt:function(e){return this.rowHeights[e]},getOffsetAt:function(e){return this.rowOffsets[e]},getHeight:function(e){var t=this.dataModel.indexOfRowKey(e);return this.getHeightAt(t)},getOffset:function(e){var t=this.dataModel.indexOfRowKey(e);return this.getOffsetAt(t)},indexOf:function(e){var t=this.rowOffsets,n=0,i=0;for(e+=2*s;t[n]-s<=e;)t[n]>-1?i=0:i+=1,n+=1;return n-i-1},getPageMovedIndex:function(e,t){var n,i=this.getOffsetAt(e),r=this.dimensionModel.get("bodyHeight");return t||(r=-r),n=this.indexOf(i+r),o.clamp(n,0,this.dataModel.length-1)},getPreviousOffset:function(e){var t=this.dataModel.indexOfRowKey(e),n=t-1;return this._getPreviousVisbleRowOffsetByIndex(n)},getNextOffset:function(e){var t=this.dataModel.indexOfRowKey(e),n=t+1;return this._getNextVisibleRowOffsetByIndex(n)}});e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(10),s=n(18),a=n(11),l=a.dimension,u=a.frame,d=l.CELL_BORDER_WIDTH,c=r.extend({initialize:function(e,t){this.dimensionModel=t.dimensionModel,this.columnModel=t.columnModel,this._fixedWidthFlags=null,this._minWidths=null,this._isModified=!1,this.listenTo(this.columnModel,"columnModelChange",this.resetColumnWidths),this.listenTo(this.dimensionModel,"change:width",this._onDimensionWidthChange),t.domEventBus&&(this.listenTo(t.domEventBus,"dragmove:resizeColumn",this._onDragResize),this.listenTo(t.domEventBus,"dblclick:resizeColumn",this._onDblClick)),this.resetColumnWidths()},defaults:{widths:[],resizable:!0},resetColumnWidths:function(){var e=this.columnModel.getVisibleColumns(null,!0),t=this.dimensionModel.get("minimumColumnWidth"),n=[],o=[],r=[];i.each(e,function(e){var i,a,l=e.width||"auto",u=!isNaN(l);a=s.isMetaColumn(e.name)?i:e.minWidth||t,i=u?l:a,i<a&&(i=a),n.push(i),r.push(a),o.push(u)},this),this._fixedWidthFlags=o,this._minWidths=r,this._setColumnWidthVariables(this._calculateColumnWidth(n),!0)},_onDragResize:function(e){this.setColumnWidth(e.columnIndex,e.width)},_onDblClick:function(e){this.restoreColumnWidth(e.columnIndex)},_setColumnWidthVariables:function(e,t){var n,o,r,s,a=this.dimensionModel.get("width"),l=this.dimensionModel.get("frozenBorderWidth"),u=this.dimensionModel.getMaxLeftSideWidth(),d=this.columnModel.getVisibleFrozenCount(!0);r=e.slice(0,d),s=e.slice(d),o=this._getFrameWidth(r),u&&u<o&&(r=this._adjustLeftSideWidths(r,u),o=this._getFrameWidth(r),e=r.concat(s)),n=a-o,this.set({widths:e}),this.dimensionModel.set({rsideWidth:n,lsideWidth:o-l}),t&&this.set("originalWidths",i.clone(e)),this.trigger("columnWidthChanged")},_adjustLeftSideWidths:function(e,t){var n,i=e.length-1,o=this.dimensionModel.get("minimumColumnWidth"),r=this._getFrameWidth(e),s=r-t;if(s>0)for(;i>=0&&s>0;)n=Math.max(o,e[i]-s),s-=e[i]-n,e[i]=n,i-=1;else s<0&&(e[i]+=Math.abs(s));return e},_calculateColumnWidth:function(e){return e=this._fillEmptyWidth(e),e=this._applyMinimumWidth(e),e=this._adjustWidths(e)},_fillEmptyWidth:function(e){var t=this.dimensionModel.getAvailableTotalWidth(e.length),n=t-s.sum(e),o=[];return i.each(e,function(e,t){e||o.push(t)}),this._distributeExtraWidthEqually(e,n,o)},_getFrameWidth:function(e){var t=0;return e.length&&(t=s.sum(e)+(e.length+1)*d),t},_addExtraColumnWidth:function(e,t){var n=this._fixedWidthFlags,o=[];return i.each(n,function(e,t){e||o.push(t)}),this._distributeExtraWidthEqually(e,t,o)},_reduceExcessColumnWidth:function(e,t){var n=this._minWidths,o=this._fixedWidthFlags,r=[];return i.each(e,function(e,t){o[t]||r.push({index:t,width:e-n[t]})}),this._reduceExcessColumnWidthSub(i.clone(e),t,r)},_reduceExcessColumnWidthSub:function(e,t,n){var o,r=Math.round(t/n.length),s=[];return i.each(n,function(n){n.width<Math.abs(r)?(t+=n.width,e[n.index]-=n.width):s.push(n)}),n.length>s.length?this._reduceExcessColumnWidthSub(e,t,s):(o=i.pluck(n,"index"),this._distributeExtraWidthEqually(e,t,o))},_distributeExtraWidthEqually:function(e,t,n){var o=n.length,r=Math.round(t/o),s=r*o-t,a=i.clone(e);return i.each(n,function(e){a[e]+=r}),n.length&&(a[i.last(n)]-=s),a},_applyMinimumWidth:function(e){var t=this._minWidths,n=i.clone(e);return i.each(n,function(e,i){var o=t[i];e<o&&(n[i]=o)}),n},_adjustWidths:function(e,t){var n,o=e.length,r=this.dimensionModel.getAvailableTotalWidth(o),a=r-s.sum(e),l=i.filter(this._fixedWidthFlags).length;return n=a>0&&o>l?this._addExtraColumnWidth(e,a):t&&a<0?this._reduceExcessColumnWidth(e,a):e},_onDimensionWidthChange:function(){var e=this.get("widths");this._isModified||(e=this._adjustWidths(e,!0)),this._setColumnWidthVariables(e)},getWidths:function(e){var t=this.columnModel.getVisibleFrozenCount(!0),n=[];switch(e){case u.L:n=this.get("widths").slice(0,t);break;case u.R:n=this.get("widths").slice(t);break;default:n=this.get("widths")}return n},getFrameWidth:function(e){var t=this.columnModel.getVisibleFrozenCount(!0),n=this.getWidths(e),o=this._getFrameWidth(n);return i.isUndefined(e)&&t>0&&(o+=d),o},setColumnWidth:function(e,t){var n=this.get("widths"),i=this._minWidths[e];n[e]&&(n[e]=Math.max(t,i),this._setColumnWidthVariables(n),this._isModified=!0)},indexOf:function(e,t){var n=this.getWidths(),i=this.getFrameWidth(),r=t?0:this.columnModel.getVisibleMetaColumnCount(),s=0;return e>=i?s=n.length-1:o.forEachArray(n,function(t,n){return t+=d,s=n,e>t&&void(e-=t)}),Math.max(0,s-r)},restoreColumnWidth:function(e){var t=this.get("originalWidths")[e];this.setColumnWidth(e,t)}});e.exports=c},function(e,t,n){"use strict";var i=n(4),o=n(10),r=n(11).dimension,s=r.TABLE_BORDER_WIDTH,a=r.CELL_BORDER_WIDTH,l=o.extend({initialize:function(e,t){this.dataModel=t.dataModel,this.columnModel=t.columnModel,this.focusModel=t.focusModel,this.dimensionModel=t.dimensionModel,this.renderModel=t.renderModel,this.coordRowModel=t.coordRowModel,this.coordColumnModel=t.coordColumnModel,this.listenTo(this.focusModel,"focus",this._onFocus)},getIndexFromMousePosition:function(e,t,n){var i=this.dimensionModel.getPositionFromBodyArea(e,t),o=this._getScrolledPosition(i);return{row:this.coordRowModel.indexOf(o.y),column:this.coordColumnModel.indexOf(o.x,n)}},_getScrolledPosition:function(e){var t=this.renderModel,n=e.x>this.dimensionModel.get("lsideWidth"),i=n?t.get("scrollLeft"):0,o=t.get("scrollTop");return{x:e.x+i,y:e.y+o}},_getRowSpanCount:function(e,t){var n=this.dataModel.get(e).getRowSpanData(t);return n.isMainRow||(e=n.mainRowKey,n=this.dataModel.get(e).getRowSpanData(t)),n.count||1},_getCellVerticalPosition:function(e,t){var n,i,o,r,s=this.coordRowModel;return n=this.dataModel.indexOfRowKey(e),i=n+t-1,o=s.getOffsetAt(n),r=s.getOffsetAt(i)+s.getHeightAt(i)+a,{top:o,bottom:r}},_getCellHorizontalPosition:function(e){for(var t=this.columnModel,n=t.getVisibleMetaColumnCount(),i=this.coordColumnModel.get("widths"),o=t.getVisibleFrozenCount()+n,r=t.indexOfColumnName(e,!0)+n,s=o>r?0:o,l=0;s<r;s+=1)l+=i[s]+a;return{left:l,right:l+i[r]+a}},getCellPosition:function(e,t){var n,i,o;return e=this.dataModel.getMainRowKey(e,t),this.dataModel.get(e)?(n=this._getRowSpanCount(e,t),i=this._getCellVerticalPosition(e,n),o=this._getCellHorizontalPosition(t),{top:i.top,bottom:i.bottom,left:o.left,right:o.right}):{}},_judgeScrollDirection:function(e,t,n){var i,o,r,s,a=this.renderModel,l=a.get("scrollTop"),u=a.get("scrollLeft");return i=e.top<l,o=!i&&e.bottom>l+n.height,t?(r=e.left<u,s=!r&&e.right>u+n.rsideWidth-1):r=s=!1,{isUp:i,isDown:o,isLeft:r,isRight:s}},_onFocus:function(e,t,n){var o;n&&(o=this.getScrollPosition(e,t),i.isEmpty(o)||this.renderModel.set(o))},_makeScrollPosition:function(e,t,n){var i={};return e.isUp?i.scrollTop=t.top:e.isDown&&(i.scrollTop=t.bottom-n.height),e.isLeft?i.scrollLeft=t.left:e.isRight&&(i.scrollLeft=t.right-n.rsideWidth+s),i},getScrollPosition:function(e,t){var n=!this.columnModel.isLside(t),i=this.getCellPosition(e,t),o=this.dimensionModel.getBodySize(),r=this._judgeScrollDirection(i,n,o);return this._makeScrollPosition(r,i,o)}});e.exports=l},function(e,t,n){"use strict";var i=n(2),o=n(10),r=n(18),s=n(17),a=o.extend({initialize:function(e,t){var n,r=t.editingEvent+":cell";o.prototype.initialize.apply(this,arguments),i.assign(this,{dataModel:t.dataModel,columnModel:t.columnModel,coordRowModel:t.coordRowModel,domEventBus:t.domEventBus,domState:t.domState}),this.listenTo(this.dataModel,"reset",this._onResetData),this.listenTo(this.dataModel,"add",this._onAddDataModel),this.domEventBus&&(n=this.domEventBus,this.listenTo(n,r,this._onMouseClickEdit),this.listenTo(n,"mousedown:focus",this._onMouseDownFocus),this.listenTo(n,"key:move",this._onKeyMove),this.listenTo(n,"key:edit",this._onKeyEdit))},defaults:{rowKey:null,columnName:null,prevRowKey:null,prevColumnName:"",editingAddress:null,active:!1},_onResetData:function(){this.blur()},_onAddDataModel:function(e,t){t.focus&&this.focusAt(t.at,0)},_onMouseClickEdit:function(e){this.focusIn(e.rowKey,e.columnName)},_onKeyMove:function(e){var t,n;switch(e.command){case"up":t=this.prevRowKey();break;case"down":t=this.nextRowKey();break;case"left":n=this.prevColumnName();break;case"right":n=this.nextColumnName();break;case"pageUp":t=this._getPageMovedRowKey(!1);break;case"pageDown":t=this._getPageMovedRowKey(!0);break;case"firstColumn":n=this.firstColumnName();break;case"lastColumn":n=this.lastColumnName();break;case"firstCell":t=this.firstRowKey(),n=this.firstColumnName();break;case"lastCell":t=this.lastRowKey(),n=this.lastColumnName()}t=i.isUndefined(t)?this.get("rowKey"):t,n=n||this.get("columnName"),this.focus(t,n,!0)},_onKeyEdit:function(e){var t;switch(e.command){case"currentCell":t=this.which();break;case"nextCell":t=this.nextAddress();break;case"prevCell":t=this.prevAddress()}t&&this.focusIn(t.rowKey,t.columnName,!0)},_getPageMovedRowKey:function(e){var t,n=this.dataModel.indexOfRowKey(this.get("rowKey")),i=this.coordRowModel.getPageMovedIndex(n,e);return t=e?this.nextRowKey(i-n):this.prevRowKey(n-i)},_onMouseDownFocus:function(){this.focusClipboard()},_savePrevious:function(){null!==this.get("rowKey")&&this.set("prevRowKey",this.get("rowKey")),this.get("columnName")&&this.set("prevColumnName",this.get("columnName"))},isCurrentCell:function(e,t,n){var i=this.get("columnName"),o=this.get("rowKey");return n&&(o=this.dataModel.getMainRowKey(o,i)),String(o)===String(e)&&i===t},focus:function(e,t,n){return this.get("active")||this.set("active",!0),!(this._isValidCell(e,t)&&!r.isMetaColumn(t)&&!this.isCurrentCell(e,t))||!!this._triggerFocusChangeEvent(e,t)&&(this.blur(),this.set({rowKey:e,columnName:t}),this.trigger("focus",e,t,n),"radio"===this.columnModel.get("selectType")&&this.dataModel.check(e),!0)},_triggerFocusChangeEvent:function(e,t){var n=new s(null,{rowKey:e,prevRowKey:this.get("rowKey"),columnName:t,prevColumnName:this.get("columnName")});return this.trigger("focusChange",n),!n.isStopped()},focusAt:function(e,t,n){var i=this.dataModel.at(e),o=this.columnModel.at(t,!0),r=!1;return i&&o&&(r=this.focus(i.get("rowKey"),o.name,n)),r},focusIn:function(e,t,n){var i=this.focus(e,t,n);return i&&(e=this.dataModel.getMainRowKey(e,t),this.dataModel.get(e).isEditable(t)?(this.finishEditing(),this.startEditing(e,t)):this.focusClipboard()),i},focusInAt:function(e,t,n){var i=this.dataModel.at(e),o=this.columnModel.at(t,!0),r=!1;return i&&o&&(r=this.focusIn(i.get("rowKey"),o.name,n)),r},focusClipboard:function(){this.trigger("focusClipboard")},refreshState:function(){var e;this.domState.hasFocusedElement()?this.has()||(e=this.restore(),e||this.focusAt(0,0)):this.set("active",!1)},blur:function(){return this.has()?(this.has(!0)&&this._savePrevious(),this.trigger("blur",this.get("rowKey"),this.get("columnName")),this.set({rowKey:null,columnName:null}),this):this},which:function(){return{rowKey:this.get("rowKey"),columnName:this.get("columnName")}},indexOf:function(e){var t=e?this.get("prevRowKey"):this.get("rowKey"),n=e?this.get("prevColumnName"):this.get("columnName");return{row:this.dataModel.indexOfRowKey(t),column:this.columnModel.indexOfColumnName(n,!0)}},has:function(e){var t=this.get("rowKey"),n=this.get("columnName");return e?this._isValidCell(t,n):!r.isBlank(t)&&!r.isBlank(n)},restore:function(){var e=this.get("prevRowKey"),t=this.get("prevColumnName"),n=!1;return this._isValidCell(e,t)&&(this.focus(e,t),this.set({prevRowKey:null,prevColumnName:null}),n=!0),n},isEditingCell:function(e,t){var n=this.get("editingAddress");return n&&String(n.rowKey)===String(e)&&n.columnName===t},startEditing:function(e,t){if(this.get("editingAddress"))return!1;if(i.isUndefined(e)&&i.isUndefined(t))e=this.get("rowKey"),t=this.get("columnName");else if(!this.isCurrentCell(e,t,!0))return!1;return e=this.dataModel.getMainRowKey(e,t),!!this.dataModel.get(e).isEditable(t)&&(this.set("editingAddress",{rowKey:e,columnName:t}),!0)},finishEditing:function(){return!!this.get("editingAddress")&&(this.set("editingAddress",null),!0)},_isValidCell:function(e,t){var n=!r.isBlank(e)&&!!this.dataModel.get(e),i=!r.isBlank(t)&&!!this.columnModel.getColumnModel(t);return n&&i},_findRowKey:function(e){var t,n,i=this.dataModel,o=null;return this.has(!0)&&(t=Math.max(Math.min(i.indexOfRowKey(this.get("rowKey"))+e,this.dataModel.length-1),0),n=i.at(t),n&&(o=n.get("rowKey"))),o},_findColumnName:function(e){var t,n=this.columnModel,i=n.getVisibleColumns(),o=n.indexOfColumnName(this.get("columnName"),!0),r=null;return this.has(!0)&&(t=Math.max(Math.min(o+e,i.length-1),0),r=i[t]&&i[t].name),r},_getRowSpanData:function(e,t){return!(!e||!t)&&this.dataModel.get(e).getRowSpanData(t)},nextColumnIndex:function(){var e=this.nextColumnName();return this.columnModel.indexOfColumnName(e,!0)},prevColumnIndex:function(){var e=this.prevColumnName();return this.columnModel.indexOfColumnName(e,!0)},nextRowKey:function(e){var t,n,i=this.which(),o=i.rowKey;return e="number"==typeof e?e:1,e>1?(o=this._findRowKey(e),n=this._getRowSpanData(o,i.columnName),n&&!n.isMainRow&&(o=this._findRowKey(n.count+e))):(n=this._getRowSpanData(o,i.columnName),n.isMainRow&&n.count>0?o=this._findRowKey(n.count):n&&!n.isMainRow?(t=n.count,n=this._getRowSpanData(n.mainRowKey,i.columnName),o=this._findRowKey(n.count+t)):(e=this.coordRowModel.getNextOffset(o),o=this._findRowKey(e))),o},prevRowKey:function(e){var t,n=this.which(),i=n.rowKey;return e="number"==typeof e?e:1,e*=-1,e<-1?(i=this._findRowKey(e),t=this._getRowSpanData(i,n.columnName),t&&!t.isMainRow&&(i=this._findRowKey(t.count+e))):(t=this._getRowSpanData(i,n.columnName),t&&!t.isMainRow?i=this._findRowKey(t.count-1):(e=this.coordRowModel.getPreviousOffset(i),i=this._findRowKey(e))),i},nextColumnName:function(){return this._findColumnName(1)},prevColumnName:function(){return this._findColumnName(-1)},firstRowKey:function(){return this.dataModel.at(0).get("rowKey")},lastRowKey:function(){return this.dataModel.at(this.dataModel.length-1).get("rowKey")},firstColumnName:function(){var e=this.columnModel.getVisibleColumns();return e[0].name},lastColumnName:function(){var e=this.columnModel.getVisibleColumns(),t=e.length-1;return e[t].name},prevAddress:function(){var e,t,n=this.get("rowKey"),i=this.get("columnName"),o=i===this.firstColumnName(),r=n===this.firstRowKey();return r&&o?(e=n,t=i):o?(e=this.prevRowKey(),t=this.lastColumnName()):(e=n,t=this.prevColumnName()),{rowKey:e,columnName:t}},nextAddress:function(){var e,t,n=this.get("rowKey"),i=this.get("columnName"),o=i===this.lastColumnName(),r=n===this.lastRowKey();return r&&o?(e=n,t=i):o?(e=this.nextRowKey(),t=this.firstColumnName()):(e=n,t=this.nextColumnName()),{rowKey:e,columnName:t}}});e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(10),s=n(28),a=n(29),l=n(11).renderState,u=n(11).dimension.CELL_BORDER_WIDTH,d=1e3,c=r.extend({initialize:function(e,t){var n,o,r;i.assign(this,{dataModel:t.dataModel,columnModel:t.columnModel,focusModel:t.focusModel,dimensionModel:t.dimensionModel,coordRowModel:t.coordRowModel,coordColumnModel:t.coordColumnModel}),n={dataModel:this.dataModel,columnModel:this.columnModel,focusModel:this.focusModel},o=new a([],n),r=new a([],n),this.set({lside:[],rside:[],partialLside:o,partialRside:r}),this.listenTo(this.columnModel,"columnModelChange change",this._onColumnModelChange).listenTo(this.dataModel,"reset",this._initializeScrollValues).listenTo(this.dataModel,"sort reset",this._onDataModelChange).listenTo(this.dataModel,"deleteRange",this._onRangeDataModelChange).listenTo(this.dataModel,"add",this._onAddDataModelChange).listenTo(this.dataModel,"remove",this._onRemoveDataModelChange).listenTo(this.dataModel,"beforeReset",this._onBeforeResetData).listenTo(this.dataModel,"expanded ",this._onExpanded).listenTo(this.dataModel,"collapsed ",this._onCollapsed).listenTo(this.focusModel,"change:editingAddress",this._onEditingAddressChange).listenTo(o,"valueChange",this._executeRelation).listenTo(r,"valueChange",this._executeRelation).listenTo(this.coordRowModel,"reset",this._onChangeRowHeights).listenTo(this.dimensionModel,"columnWidthChanged",this.finishEditing).listenTo(this.dimensionModel,"change:width",this._updateMaxScrollLeft).listenTo(this.dimensionModel,"change:totalRowHeight change:scrollBarSize change:bodyHeight",this._updateMaxScrollTop),this.get("showDummyRows")&&(this.listenTo(this.dimensionModel,"change:bodyHeight change:totalRowHeight",this._resetDummyRowCount),this.on("change:dummyRowCount",this._resetDummyRows)),this.on("change",this._onChangeIndex,this),this._onChangeLayoutBound=i.bind(this._onChangeLayout,this)},defaults:{top:0,bottom:0,scrollTop:0,scrollLeft:0,maxScrollLeft:0,maxScrollTop:0,startIndex:-1,endIndex:-1,startNumber:1,lside:null,rside:null,partialLside:null,partialRside:null,showDummyRows:!1,dummyRowCount:0,emptyMessage:null,state:l.DONE},_onExpanded:function(e){var t,n,o,r,s,a,l=e.descendantRowKeys,u=this.dataModel,d=this._getColumnNamesOfEachSide();i.each(l,function(e){s=u.indexOfRowKey(e),a=u.at(s),t=this.coordRowModel.getHeightAt(s),i.each(["lside","rside"],function(e){o=s+1,n=this._createViewDataFromDataModel(a,d[e],t,o),r=this._createRowModel(n,!0),this.get(e)[s]=r},this)},this),this._setRenderingRange(),this.refresh({type:"add",dataListChanged:!0})},_onCollapsed:function(e){var t=e.descendantRowKeys;i.each(t,function(e){var t=this.dataModel.indexOfRowKey(e);i.each(["lside","rside"],function(e){delete this.get(e)[t]},this)},this),this._setRenderingRange(),this.refresh({type:"deleteRange",dataListChanged:!0})},_onChangeLayout:function(){this.focusModel.finishEditing(),this.focusModel.focusClipboard()},_onChangeIndex:function(e){var t=e.changed,n=i.has(t,"startIndex"),o=i.has(t,"endIndex");(n||o)&&this.refresh()},_onChangeRowHeights:function(){for(var e,t,n=this.get("partialLside"),i=this.get("partialRside"),o=0,r=n.length;o<r;o+=1)e=n.at(o).get("rowKey"),t=this.coordRowModel.getHeight(e),n.at(o).set("height",t),i.at(o).set("height",t)},_updateMaxScrollLeft:function(){var e=this.dimensionModel,t=this.coordColumnModel.getFrameWidth("R")-e.get("rsideWidth")+e.getScrollYWidth();this.set("maxScrollLeft",t)},_updateMaxScrollTop:function(){var e=this.dimensionModel,t=e.get("totalRowHeight")-e.get("bodyHeight")+e.getScrollXHeight();this.set("maxScrollTop",t)},_onBeforeResetData:function(e){e>d&&this.set("state",l.LOADING)},_onEditingAddressChange:function(e,t){var n=t,o=!0,r=this;t||(n=e.previous("editingAddress"),o=!1),this._updateCellData(n.rowKey,n.columnName,{editing:o}),this._triggerEditingStateChanged(n.rowKey,n.columnName),i.defer(function(){r._toggleChangeLayoutEventHandlers(o)})},_toggleChangeLayoutEventHandlers:function(e){var t="change:scrollTop change:scrollLeft",n="columnWidthChanged";e?(this.listenToOnce(this.dimensionModel,n,this._onChangeLayoutBound),this.once(t,this._onChangeLayoutBound)):(this.stopListening(this.dimensionModel,n,this._onChangeLayoutBound),this.off(t,this._onChangeLayoutBound))},_triggerEditingStateChanged:function(e,t){var n=this.getCellData(e,t);o.pick(n,"columnModel","editOptions","useViewMode")!==!1&&null===n.convertedHTML&&this.trigger("editingStateChanged",n)},_updateCellData:function(e,t,n){var i=this._getRowModel(e,t);i&&i.setCell(t,n)},_updateTreeCellData:function(e){var t=this.columnModel.getTreeColumnName(),n=this._getRowModel(e,t);n&&n.setCell(t,{hasChildren:this.dataModel.get(e).hasTreeChildren()})},initializeVariables:function(){this.set({top:0,scrollTop:0,scrollLeft:0,startNumber:1})},_initializeScrollValues:function(){this.set({scrollTop:0,scrollLeft:0})},getCollection:function(e){var t=this._getPartialWhichSideType(e);return this.get(t)},_getPartialWhichSideType:function(e){return o.isString(e)?"partial"+e+"side":"partialRside"},_onColumnModelChange:function(){this.set({scrollLeft:0,scrollTop:0},{silent:!0}),this._resetViewModelList(),this._setRenderingRange(!0),this.refresh({change:!1,columnModelChanged:!0}),this._updateMaxScrollLeft()},_onDataModelChange:function(){this._resetViewModelList(),this._setRenderingRange(!0),this.refresh({type:"reset",dataListChanged:!0})},_onAddDataModelChange:function(e,t){var n,o,r,s,a=this._getColumnNamesOfEachSide(),l=t.at;i.each(e,function(e,t){n=this.coordRowModel.getHeightAt(t),i.each(["lside","rside"],function(i){r=l+t+1,o=this._createViewDataFromDataModel(e,a[i],n,r),s=this._createRowModel(o,!0),this.get(i).splice(l+t,0,s)},this)},this),this._updateTreeCellData(t.parentRowKey),this._setRenderingRange(!0),this.refresh({type:"add",dataListChanged:!0}),t.focus&&this.focusModel.focusAt(t.at,0)},_onRemoveDataModelChange:function(e,t,n,o){var r=n?n.length:1;i.each(["lside","rside"],function(e){this.get(e).splice(t,r)},this),this._updateTreeCellData(o),this._setRenderingRange(!0),this.refresh({dataListChanged:!0})},_onRangeDataModelChange:function(e){var t=this.columnModel,n=e.rowKeys,o=e.columnNames;this._setRenderingRange(!0),i.each(["partialLside","partialRside"],function(e){i.each(this.get(e).models,function(e){var r=e.get("rowKey"),s=i.contains(n,r);s&&i.each(o,function(e){t.getColumnModel(e).editOptions&&this._updateCellData(r,e,{value:"",formattedValue:""})},this)},this)},this),this.refresh({type:"deleteRange",dataListChanged:!0})},_resetDummyRows:function(){this._clearDummyRows(),this._fillDummyRows(),this.trigger("rowListChanged")},_setRenderingRange:function(e){var t=this.dataModel.length;this.set({startIndex:t?0:-1,endIndex:t-1},{silent:e})},_createViewDataFromDataModel:function(e,t,n,o){var r={rowNum:o,height:n,rowKey:e.get("rowKey"),_extraData:e.get("_extraData")};return i.each(t,function(t){var n=e.get(t);"_number"!==t||i.isNumber(n)||(n=o),r[t]=n}),r},_getColumnNamesOfEachSide:function(){var e=this.columnModel.getVisibleFrozenCount(!0),t=this.columnModel.getVisibleColumns(null,!0),n=i.pluck(t,"name");return{lside:n.slice(0,e),rside:n.slice(e)}},_addViewModelListWithRange:function(e,t){var n,i,o,r=this.dataModel,s=this._getColumnNamesOfEachSide();if(!(e<0||t<0))for(n=e;n<t+1;n+=1)i=r.at(n),o=this.coordRowModel.getHeightAt(n),r.isVisibleRow(i.get("rowKey"))&&this._addViewModelList(i,s,o,n)},_addViewModelList:function(e,t,n,o){i.each(["lside","rside"],function(i){var r;this.get(i)[o]||(r=this._createViewDataFromDataModel(e,t[i],n,o+1),this.get(i)[o]=this._createRowModel(r,!0))},this)},_updateRowNumber:function(e,t){for(var n,i,o,r=this.get("lside"),s=e;s<=t;s+=1)n=r[s],o=s+1,n&&(i=n.get("rowNum"),o=s+this.get("startNumber"),i!==o&&(n.set({rowNum:o},{silent:!0}),n.setCell("_number",{formattedValue:o,value:o})))},_resetPartialViewModelList:function(e,t){var n,o,r,s;i.each(["L","R"],function(i){s=[],n=i.toLowerCase()+"side",o=this._getPartialWhichSideType(i),r=this.get(n),s=this._getPartialViewModelList(r,e,t),this.get(o).reset(s)},this)},_getPartialViewModelList:function(e,t,n){for(var i,o=t,r=n+1,s=[];o<r;o+=1)i=e[o],i&&this.dataModel.isVisibleRow(i.get("rowKey"))&&s.push(i);return s},_getActualRowCount:function(){return this.get("endIndex")-this.get("startIndex")+1},_clearDummyRows:function(){var e=this.get("endIndex")-this.get("startIndex")+1;i.each(["lside","rside"],function(t){for(var n=this.get(t);n.length>e;)n.pop()},this)},_resetDummyRowCount:function(){var e=this.dimensionModel,t=e.get("totalRowHeight"),n=e.get("rowHeight")+u,i=e.get("bodyHeight")-e.getScrollXHeight(),o=0;t<i&&(o=Math.ceil((i-t)/n)),this.set("dummyRowCount",o)},_fillDummyRows:function(){var e,t,n=this.get("dummyRowCount");n&&(e=this.get("startNumber")+this.get("endIndex")+1,t=this.dimensionModel.get("rowHeight"),i.times(n,function(){i.each(["partialLside","partialRside"],function(n){this.get(n).push(this._createRowModel({height:t,rowNum:e}))},this),e+=1},this))},refresh:function(e){var t,n,i,o=!!e&&e.columnModelChanged,r=!!e&&e.dataListChanged,s=!!e&&e.type;if(t=this.get("startIndex"),n=this.get("endIndex"),"add"!==s&&"deleteRange"!==s&&this._addViewModelListWithRange(t,n),"deleteRange"!==s&&this._updateRowNumber(t,n),this._resetPartialViewModelList(t,n),this._fillDummyRows(),t>=0&&n>=0)for(i=t;i<=n;i+=1)this._executeRelation(i);o?this.trigger("columnModelChanged"):(this.trigger("rowListChanged",r),r&&this.coordRowModel.syncWithDom()),this._refreshState()},_refreshState:function(){this.dataModel.length?this.set("state",l.DONE):this.set("state",l.EMPTY)},_getCollectionByColumnName:function(e){var t,n=this.get("partialLside");return t=n.at(0)&&n.at(0).get(e)?n:this.get("partialRside")},_getRowModel:function(e,t){var n=this._getCollectionByColumnName(t);return n.get(e)},getCellData:function(e,t){var n=this._getRowModel(e,t),i=null;return n&&(i=n.get(t)),i},_executeRelation:function(e){var t,n,o=this.dataModel.at(e),r=e-this.get("startIndex");n=o.executeRelationCallbacksAll(),i.each(n,function(e,n){t=this._getCollectionByColumnName(n).at(r),t&&t.setCell(n,e)},this)},_createRowModel:function(e,t){return new s(e,{parse:t,dataModel:this.dataModel,columnModel:this.columnModel,focusModel:this.focusModel})},_resetViewModelList:function(){i.each(["lside","rside"],function(e){this.set(e,new Array(this.dataModel.length));
},this)}});e.exports=c},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(10),s=n(18),a=r.extend({initialize:function(e,t){var n=e&&e.rowKey,i=t.dataModel,o=i.get(n);this.dataModel=i,this.columnModel=t.columnModel,this.focusModel=t.focusModel,o&&(this.listenTo(o,"change",this._onDataModelChange),this.listenTo(o,"restore",this._onDataModelRestore),this.listenTo(o,"extraDataChanged",this._setRowExtraData),this.listenTo(i,"disabledChanged",this._onDataModelDisabledChanged),this.rowData=o)},idAttribute:"rowKey",_onDataModelChange:function(e){i.each(e.changed,function(t,n){var i,o;this.has(n)&&(i=this.columnModel.getColumnModel(n),o=this.columnModel.isTextType(n),this.setCell(n,this._getValueAttrs(t,e,i,o)))},this)},_onDataModelRestore:function(e){var t=this.get(e);t&&this.trigger("restore",t)},_getColumnNameList:function(){var e=this.columnModel.getVisibleColumns(null,!0);return i.pluck(e,"name")},_onDataModelDisabledChanged:function(){var e=this._getColumnNameList();i.each(e,function(e){this.setCell(e,{disabled:this.rowData.isDisabled(e),className:this._getClassNameString(e)})},this)},_setRowExtraData:function(){i.each(this._getColumnNameList(),function(e){var t=this.get(e);!o.isUndefined(t)&&t.isMainRow&&(t.tree?this._setTreeCell(e):this._setCell(e))},this)},_setCell:function(e){var t=this.rowData.getCellState(e);this.setCell(e,{disabled:t.disabled,editable:t.editable,className:this._getClassNameString(e)})},_setTreeCell:function(e){this.setCell(e,{isExpanded:this.rowData.getTreeExpanded()})},parse:function(e,t){return this._formatData(e,t.dataModel,t.columnModel,t.focusModel)},_formatData:function(e,t,n,r){var s,a,l=e.rowKey,u=e.height;return i.isUndefined(l)?e:(a=t.get(l),s=i.omit(e,"rowKey","_extraData","height","rowNum"),i.each(s,function(s,d){var c=this._getRowSpanData(d,e,t.isRowSpanEnable()),h=a.getCellState(d),f=n.isTextType(d),g=n.getColumnModel(d);e[d]={rowKey:l,height:u,columnName:d,rowSpan:c.count,isMainRow:c.isMainRow,mainRowKey:c.mainRowKey,editable:h.editable,disabled:h.disabled,editing:r.isEditingCell(l,d),whiteSpace:g.whiteSpace||"nowrap",valign:g.valign,listItems:o.pick(g,"editOptions","listItems"),className:this._getClassNameString(d,a,r),columnModel:g,changed:[]},i.assign(e[d],this._getValueAttrs(s,a,g,f)),i.assign(e[d],this._getTreeAttrs(s,a,g,n))},this),e)},_getClassNameString:function(e,t,n){var i;return t||(t=this.dataModel.get(this.get("rowKey")))?(n||(n=this.focusModel),i=t.getClassNameList(e),i.join(" ")):""},_getTreeAttrs:function(e,t,n,i){var o={};return i.isTreeType(n.name)&&(o={tree:i.hasTreeColumn(),depth:t.getTreeDepth(),isExpanded:t.getTreeExpanded(),hasChildren:t.hasTreeChildren(),useIcon:i.useTreeIcon()}),o},_getValueAttrs:function(e,t,n,i){var r=o.pick(n,"editOptions","prefix"),s=o.pick(n,"editOptions","postfix"),a=o.pick(n,"editOptions","converter"),l=t.toJSON();return{value:this._getValueToDisplay(e,n,i),formattedValue:this._getFormattedValue(e,l,n),prefix:this._getExtraContent(r,e,l),postfix:this._getExtraContent(s,e,l),convertedHTML:this._getConvertedHTML(a,e,l)}},_getFormattedValue:function(e,t,n){var o;return o=i.isFunction(n.formatter)?n.formatter(e,t,n):e,i.isNumber(o)?o=String(o):o||(o=""),o},_getExtraContent:function(e,t,n){var r="";return i.isFunction(e)?r=e(t,n):o.isExisty(e)&&(r=e),r},_getConvertedHTML:function(e,t,n){var o=null;return i.isFunction(e)&&(o=e(t,n)),o===!1&&(o=null),o},_getValueToDisplay:function(e,t,n){var i=o.isExisty,r=t.useHtmlEntity,s=t.defaultValue;return i(e)||(e=i(s)?s:""),n&&r&&o.hasEncodableString(e)&&(e=o.encodeHTMLEntity(e)),e},_getRowSpanData:function(e,t,n){var i=o.pick(t,"_extraData","rowSpanData",e);return n&&i||(i={mainRowKey:t.rowKey,count:0,isMainRow:!0}),i},updateClassName:function(e){this.setCell(e,{className:this._getClassNameString(e)})},setCell:function(e,t){var n,o,r,a=!1,l=[];this.has(e)&&(o=this.get("rowKey"),r=i.clone(this.get(e)),i.each(t,function(e,t){s.isEqual(r[t],e)||(a="value"===t||a,r[t]=e,l.push(t))},this),l.length&&(r.changed=l,this.set(e,r,{silent:this._shouldSetSilently(r,a)}),a&&(n=this.dataModel.indexOfRowKey(o),this.trigger("valueChange",n))))},_shouldSetSilently:function(e,t){var n=e.editing&&t,r=o.pick(e,"columnModel","editOptions","useViewMode")!==!1,s=i.contains(e.changed,"editing")&&e.editing;return n||r&&s}});e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(14),r=n(28),s=o.extend({initialize:function(e,t){i.assign(this,{dataModel:t.dataModel,columnModel:t.columnModel,focusModel:t.focusModel})},model:r});e.exports=s},function(e,t,n){"use strict";var i=n(2),o=n(27),r=n(11).dimension,s=r.CELL_BORDER_WIDTH,a=.3,l=.1,u=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments),this.on("change:scrollTop",this._onChangeScrollTop,this),this.listenTo(this.dimensionModel,"change:bodyHeight",this._onChangeBodyHeight)},_onChangeScrollTop:function(){this._shouldRefresh(this.get("scrollTop"))&&this._setRenderingRange()},_onChangeBodyHeight:function(){this._setRenderingRange()},_setRenderingRange:function(e){var t,n,i=this.get("scrollTop"),o=this.dimensionModel,r=this.dataModel,l=this.coordRowModel,u=o.get("bodyHeight"),d=parseInt(u*a,10),c=Math.max(l.indexOf(i-d),0),h=Math.min(l.indexOf(i+u+d),r.length-1);r.isRowSpanEnable()&&(c+=this._getStartRowSpanMinCount(c),h+=this._getEndRowSpanMaxCount(h)),t=l.getOffsetAt(c),n=l.getOffsetAt(h)+l.getHeightAt(h)+s,this.set({top:t,bottom:n,startIndex:c,endIndex:h},{silent:e})},_getStartRowSpanMinCount:function(e){var t,n=this.dataModel.at(e),o=0;return n&&(t=i.pluck(n.getRowSpanData(),"count"),t.push(0),o=i.min(t)),o},_getEndRowSpanMaxCount:function(e){var t,n=this.dataModel.at(e),o=0;return n&&(t=i.pluck(n.getRowSpanData(),"count"),t.push(0),o=i.max(t)),o>0&&(o-=1),o},_shouldRefresh:function(e){var t=this.dimensionModel.get("bodyHeight"),n=e+t,i=this.dimensionModel.get("totalRowHeight"),o=this.get("top"),r=this.get("bottom"),s=parseInt(t*l,10),a=e-o<s,u=r-n<s;return a&&o>0||u&&r<i}});u.BUFFER_RATIO=a,u.BUFFER_HIT_RATIO=l,e.exports=u},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(10),s=n(17),a=n(18),l=n(11).selectionType,u=r.extend({initialize:function(e,t){var n;r.prototype.initialize.apply(this,arguments),o.assign(this,{dataModel:t.dataModel,columnModel:t.columnModel,dimensionModel:t.dimensionModel,focusModel:t.focusModel,renderModel:t.renderModel,coordRowModel:t.coordRowModel,coordConverterModel:t.coordConverterModel,domEventBus:t.domEventBus,inputRange:null,minimumColumnRange:null,intervalIdForAutoScroll:null,scrollPixelScale:40,enabled:!0,selectionType:l.CELL}),this.listenTo(this.dataModel,"add remove sort reset",this.end),this.listenTo(this.dataModel,"paste",this._onPasteData),this.isEnabled()&&t.domEventBus&&(n=t.domEventBus,this.listenTo(n,"dragstart:header",this._onDragStartHeader),this.listenTo(n,"dragmove:header",this._onDragMoveHeader),this.listenTo(n,"dragmove:body",this._onDragMoveBody),this.listenTo(n,"dragend:body",this._onDragEndBody),this.listenTo(n,"mousedown:body",this._onMouseDownBody),this.listenTo(n,"key:move key:edit",this._onKeyMoveOrEdit),this.listenTo(n,"key:select",this._onKeySelect),this.listenTo(n,"key:delete",this._onKeyDelete)),this.on("change:range",this._triggerSelectionEvent)},defaults:{range:null,selectionUnit:"cell"},_onDragStartHeader:function(e){var t,n=this.columnModel,i=n.getUnitColumnNamesIfMerged(e.columnName);return o.some(i,a.isMetaColumn)?void e.stop():(t=this._getColumnRangeWithNames(i),void(e.shiftKey?(this.update(0,t[1],l.COLUMN),this._extendColumnSelection(t,e.pageX,e.pageY)):(this.minimumColumnRange=t,this.selectColumn(t[0]),this.update(0,t[1]))))},_onDragMoveHeader:function(e){var t,n,i=this.columnModel;e.isOnHeaderArea&&!e.columnName||(t=i.getUnitColumnNamesIfMerged(e.columnName),t.length&&(n=this._getColumnRangeWithNames(t)),this._extendColumnSelection(n,e.pageX,e.pageY))},_onKeyMoveOrEdit:function(){this.end()},_onKeySelect:function(e){var t=this._getRecentAddress(),n=this.dataModel.length-1,i=this.columnModel.getVisibleColumns().length-1,o=this.dataModel.at(t.row).get("rowKey");switch(e.command){case"up":t.row+=this.coordRowModel.getPreviousOffset(o);break;case"down":t.row+=this.coordRowModel.getNextOffset(o);break;case"left":t.column-=1;break;case"right":t.column+=1;break;case"pageUp":t.row=this.coordRowModel.getPageMovedIndex(t.row,!1);break;case"pageDown":t.row=this.coordRowModel.getPageMovedIndex(t.row,!0);break;case"firstColumn":t.column=0;break;case"lastColumn":t.column=i;break;case"firstCell":t.row=0,t.column=0;break;case"lastCell":t.row=n,t.column=i;break;case"all":this.selectAll(),t=null;break;default:t=null}t&&(this.update(t.row,t.column),this._scrollTo(t.row,t.column))},_onKeyDelete:function(){var e,t=this.dataModel;this.hasSelection()?t.delRange(this.get("range")):(e=this.focusModel.which(),t.del(e.rowKey,e.columnName))},_getRecentAddress:function(){var e,t,n=this.focusModel.indexOf(),i=this.get("range"),r=o.assign({},n);return i&&(e=i.row,t=i.column,r.row=e[0],r.column=t[0],e[1]>n.row&&(r.row=e[1]),t[1]>n.column&&(r.column=t[1])),r},_isValidAddress:function(e){return!!this.dataModel.at(e.row)&&!!this.columnModel.at(e.colummn)},_scrollTo:function(e,t){var n,i,o,r,s=this.dataModel.at(e),a=this.columnModel.at(t);s&&a&&(n=s.get("rowKey"),i=a.name,r=this.coordConverterModel.getScrollPosition(n,i),r&&(o=this.getType(),o===l.COLUMN?delete r.scrollTop:o===l.ROW&&delete r.scrollLeft,this.renderModel.set(r)))},_getTypeByColumnIndex:function(e){var t=this.columnModel.getVisibleColumns(null,!0),n=t[e].name;switch(n){case"_button":return null;case"_number":return l.ROW;default:return l.CELL}},_onMouseDownBody:function(e){var t,n,i=this.coordConverterModel.getIndexFromMousePosition(e.pageX,e.pageY,!0),o=this._getTypeByColumnIndex(i.column);o&&(t=i.row,n=i.column-this.columnModel.getVisibleMetaColumnCount(),e.shiftKey?this.update(t,Math.max(n,0)):o===l.ROW?this.selectRow(t):(this.focusModel.focusAt(t,n),this.end()))},_onDragMoveBody:function(e){var t=this.coordConverterModel.getIndexFromMousePosition(e.pageX,e.pageY);this.update(t.row,t.column),this._setScrolling(e.pageX,e.pageY)},_onDragEndBody:function(){this.stopAutoScroll()},_onPasteData:function(e){this.start(e.startIdx.row,e.startIdx.column),this.update(e.endIdx.row,e.endIdx.column)},_getColumnRangeWithNames:function(e){var t=this.columnModel,n=o.map(e,function(e){return t.indexOfColumnName(e,!0)}),i=a.getMinMax(n);return[i.min,i.max]},setType:function(e){this.selectionType=l[e]||this.selectionType},getType:function(){return this.selectionType},getSelectionUnit:function(){return this.get("selectionUnit").toUpperCase()},enable:function(){this.enabled=!0},disable:function(){this.end(),this.enabled=!1},isEnabled:function(){return this.enabled},start:function(e,t,n){this.isEnabled()&&(this.setType(n),this.inputRange={row:[e,e],column:[t,t]},this._resetRangeAttribute())},update:function(e,t,n){var i;!this.enabled||n!==l.COLUMN&&e<0||n!==l.ROW&&t<0||(this.hasSelection()?this.setType(n):(i=this.focusModel.indexOf(),this.getSelectionUnit()===l.ROW?this.start(i.row,0,l.ROW):this.start(i.row,i.column,l.CELL)),this._updateInputRange(e,t),this._resetRangeAttribute())},_updateInputRange:function(e,t){var n=this.inputRange;this.selectionType===l.ROW?t=this.columnModel.getVisibleColumns().length-1:this.selectionType===l.COLUMN&&(e=this.dataModel.length-1),n.row[1]=e,n.column[1]=t},_extendColumnSelection:function(e,t,n){var i,o=this.minimumColumnRange,r=this.coordConverterModel.getIndexFromMousePosition(t,n),s={row:[0,this.dataModel.length-1],column:[]};e&&e.length||(e=[r.column]),this._setScrolling(t,n),o?i=a.getMinMax(e.concat(o)):(e.push(this.inputRange.column[0]),i=a.getMinMax(e)),s.column.push(i.min,i.max),this._resetRangeAttribute(s)},_setScrolling:function(e,t){var n=this.dimensionModel.getOverflowFromMousePosition(e,t);this.stopAutoScroll(),this._isAutoScrollable(n.x,n.y)&&(this.intervalIdForAutoScroll=setInterval(o.bind(this._adjustScroll,this,n.x,n.y)))},end:function(){this.inputRange=null,this.unset("range"),this.minimumColumnRange=null},stopAutoScroll:function(){o.isNull(this.intervalIdForAutoScroll)||(clearInterval(this.intervalIdForAutoScroll),this.intervalIdForAutoScroll=null)},selectRow:function(e){this.isEnabled()&&(this.focusModel.focusAt(e,0),this.start(e,0,l.ROW),this.update(e,this.columnModel.getVisibleColumns().length-1))},selectColumn:function(e){this.isEnabled()&&(this.focusModel.focusAt(0,e),this.start(0,e,l.COLUMN),this.update(this.dataModel.length-1,e))},selectAll:function(){this.isEnabled()&&(this.start(0,0,l.CELL),this.update(this.dataModel.length-1,this.columnModel.getVisibleColumns().length-1))},getStartIndex:function(){var e=this.get("range");return{row:e.row[0],column:e.column[0]}},getEndIndex:function(){var e=this.get("range");return{row:e.row[1],column:e.column[1]}},hasSelection:function(){return!!this.get("range")},_isSingleCell:function(e,t){var n=1===e.length,i=1===t.length,o=n&&!i&&t[0].getRowSpanData(e[0]).count===t.length;return n&&i||o},getValuesToString:function(){var e=this,t=this._getRangeRowList(),n=this._getRangeColumnNames(),i=o.map(t,function(t){return o.map(n,function(n){return e.getValueToString(t.get("rowKey"),n)}).join("\t")});return this._isSingleCell(n,t)?i[0]:i.join("\n")},getValueToString:function(e,t){var n,i=this.columnModel,o=this.renderModel.getCellData(e,t),r=i.getCopyOptions(t),s=i.getColumnModel(t),a=this.dataModel.get(e),l=a.getValueString(t);return n=r.customValue?this._getCustomValue(r.customValue,l,a.toJSON(),s):r.useListItemText?l:r.useFormattedValue?o.formattedValue:l},_getCustomValue:function(e,t,n,i){var r;return r=o.isFunction(e)?e(t,n,i):e},_getRangeRowList:function(){for(var e=this.get("range").row,t=e[0],n=e[1]+1,i=[];t<n;t+=1)this.coordRowModel.getHeightAt(t)&&i.push(this.dataModel.at(t));return i},_getRangeColumnNames:function(){var e=this.get("range").column,t=this.columnModel.getVisibleColumns().slice(e[0],e[1]+1);return o.pluck(t,"name")},_isAutoScrollable:function(e,t){return!(0===e&&0===t)},_adjustScroll:function(e,t){var n=this.renderModel;e&&this._adjustScrollLeft(e,n.get("scrollLeft"),n.get("maxScrollLeft")),t&&this._adjustScrollTop(t,n.get("scrollTop"),n.get("maxScrollTop"))},_adjustScrollLeft:function(e,t,n){var i=t,o=this.scrollPixelScale;e<0?i=Math.max(0,t-o):e>0&&(i=Math.min(n,t+o)),this.renderModel.set("scrollLeft",i)},_adjustScrollTop:function(e,t,n){var i=t,o=this.scrollPixelScale;e<0?i=Math.max(0,t-o):e>0&&(i=Math.min(n,t+o)),this.renderModel.set("scrollTop",i)},_resetRangeAttribute:function(e){var t,n,i,r=this.dataModel;if(e=e||this.inputRange,!e)return void this.set("range",null);if(n={row:o.sortBy(e.row),column:o.sortBy(e.column)},r.isRowSpanEnable()&&this.selectionType===l.CELL){do i=o.assign([],n.row),n=this._getRowSpannedIndex(n),t=n.row[0]!==i[0]||n.row[1]!==i[1];while(t);this._setRangeMinMax(n.row,n.column)}this.set("range",n)},_triggerSelectionEvent:function(){var e,t,n,i,o,r,a,l=this.get("range"),u=this.dataModel,d=this.columnModel;l&&(e=l.row,t=l.column,i=u.getRowDataAt(e[0]),r=d.at(t[0]),o=u.getRowDataAt(e[1]),a=d.at(t[1]),i&&o&&r&&a&&(n=new s(null,{range:{start:[i.rowKey,r.name],end:[o.rowKey,a.name]}}),this.trigger("selection",n)))},_setRangeMinMax:function(e,t){e&&(e[0]=Math.max(0,e[0]),e[1]=Math.min(this.dataModel.length-1,e[1])),t&&(t[0]=Math.max(0,t[0]),t[1]=Math.min(this.columnModel.getVisibleColumns().length-1,t[1]))},_concatRowSpanIndexFromStart:function(e){var t,n=e.startIndex,i=e.endIndex,o=e.columnName,r=e.startRowSpanDataMap&&e.startRowSpanDataMap[o],s=e.startIndexList,a=e.endIndexList;r&&(r.isMainRow?(t=n+r.count-1,t>i&&a.push(t)):(t=n+r.count,s.push(t)))},_concatRowSpanIndexFromEnd:function(e){var t,n,i=e.endIndex,o=e.columnName,r=e.endRowSpanDataMap&&e.endRowSpanDataMap[o],s=e.endIndexList,a=e.dataModel;r&&(r.isMainRow?(t=i+r.count-1,s.push(t)):(t=i+r.count,n=a.at(t).getRowSpanData(o),t+=n.count-1,t>i&&s.push(t)))},_getRowSpannedIndex:function(e){var t,n,r,s=this.columnModel.getVisibleColumns().slice(e.column[0],e.column[1]+1),a=this.dataModel,l=[e.row[0]],u=[e.row[1]],d=a.at(e.row[0]),c=a.at(e.row[1]),h=i.extend({},e);return d&&c?(t=a.at(e.row[0]).getRowSpanData(),n=a.at(e.row[1]).getRowSpanData(),o.each(s,function(i){r={columnName:i.name,startIndex:e.row[0],endIndex:e.row[1],endRowSpanDataMap:n,startRowSpanDataMap:t,startIndexList:l,endIndexList:u,dataModel:a},this._concatRowSpanIndexFromStart(r),this._concatRowSpanIndexFromEnd(r)},this),h.row=[Math.min.apply(null,l),Math.max.apply(null,u)],h):h}});e.exports=u},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(10),a=n(11).summaryType,l=s.extend({initialize:function(e,t){this.dataModel=t.dataModel,this.columnModel=t.columnModel,this.autoColumnNameSet={},this.columnTemplateMap={},this.columnSummaryMap={},this.defaultContent=t.defaultContent,this.columnContent=t.columnContent,this.listenTo(this.dataModel,"add remove reset",this._onChangeDataRows),this.listenTo(this.dataModel,"change",this._onChangeDataCells),this.listenTo(this.dataModel,"deleteRange",this._onDeleteRangeData),this.listenTo(this.columnModel,"columnModelChange",this._resetAll),this._resetAll()},_resetColumnContent:function(){var e={},t=this.defaultContent,n=this.columnContent||{};t?o.forEach(this.columnModel.getVisibleColumns(),function(i){e[i.name]=n[i.name]||t}):e=n,o.each(e,function(e,t){this.setColumnContent(t,e)},this)},_resetAll:function(){this._resetColumnContent(),this._resetColumnSummaryMap()},_calculate:function(e){var t,n,i=Number.MAX_VALUE,o=Number.MIN_VALUE,r=e.length,s=0,l=0,u={};for(t=0;t<r;t+=1)n=Number(e[t]),isNaN(n)&&(n=0),s+=n,i>n&&(i=n),o<n&&(o=n);return r?l=s/r:o=i=l=0,u[a.SUM]=s,u[a.MIN]=i,u[a.MAX]=o,u[a.AVG]=l,u[a.CNT]=r,u},_resetColumnSummaryMap:function(e){var t=o.keys(this.autoColumnNameSet);e&&(t=o.intersection(e,t)),o.each(t,function(e){this._changeColumnSummaryValue(e)},this)},_changeColumnSummaryValue:function(e){var t=this.dataModel.getColumnValues(e),n=this._calculate(t);this.columnSummaryMap[e]=n,this.trigger("change",e,n)},_onChangeDataRows:function(){this._resetColumnSummaryMap()},_onChangeDataCells:function(e){this._resetColumnSummaryMap(o.keys(e.changed))},_onDeleteRangeData:function(e){this._resetColumnSummaryMap(e.columnNames)},getValue:function(e,t){var n,i=this.columnSummaryMap[e];return t?(n=r.pick(i,t),o.isUndefined(n)?null:n):o.isUndefined(i)?null:i},getValues:function(e){return e?i.extend({},this.columnSummaryMap[e]):i.extend(!0,{},this.columnSummaryMap)},_isVisibleColumn:function(e){return this.columnModel.getVisibleColumns().indexOf(e)!==-1},getTemplate:function(e){var t=this.columnTemplateMap[e];return!t&&this.defaultContent&&this._isVisibleColumn(e)&&(t=this.defaultContent.template),t},setColumnContent:function(e,t,n){o.isObject(t)&&o.isFunction(t.template)?(this.columnTemplateMap[e]=t.template,t.useAutoSummary!==!1&&(this.autoColumnNameSet[e]=!0)):o.isString(t)&&(delete this.autoColumnNameSet[e],this.columnTemplateMap[e]=t),n&&this._changeColumnSummaryValue(e)}});e.exports=l},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(10),s=r.extend({initialize:function(e,t){r.prototype.initialize.apply(this,arguments),o.assign(this,{columnModel:t.columnModel,dataModel:t.dataModel,selectionModel:t.selectionModel,renderModel:t.renderModel,focusModel:t.focusModel,copyOptions:t.copyOptions,domEventBus:t.domEventBus}),this.listenTo(t.domEventBus,"key:clipboard",this._onKeyClipboard)},defaults:{text:null},setClipboardText:function(){this.set("text",this._getClipboardText())},pasteClipboardDataToGrid:function(e){var t,n,i,o,r=this.selectionModel,s=this.focusModel,a=this.dataModel;r.hasSelection()?(t=r.get("range"),n=t.row[1]-t.row[0]+1,i=t.column[1]-t.column[0]+1,e=this._duplicateData(e,n,i),o=r.getStartIndex()):o=s.indexOf(),a.paste(e,o)},_onKeyClipboard:function(e){var t=e.command;"copy"===t&&this.setClipboardText()},_duplicateData:function(e,t,n){var r=e.length,s=e[0].length,a=Math.floor(t/r)-1,l=Math.floor(n/s)-1,u=i.extend(!0,[],e);return o.times(a,function(){o.forEach(e,function(e){u.push(e.slice(0))})}),o.forEach(u,function(e){var t=e.slice(0);o.times(l,function(){[].push.apply(e,t)})}),u},_getClipboardText:function(){var e,t=this.selectionModel,n=this.focusModel.which();return e=t.hasSelection()?t.getValuesToString():t.getValueToString(n.rowKey,n.columnName)}});e.exports=s},function(e,t,n){"use strict";var i=n(4),o=n(35),r=n(36),s=n(37),a=n(38),l=n(40),u=n(42),d=n(44),c=n(46),h=n(48),f=n(49),g=n(50),p=n(51),m=n(52),v=n(53),y=n(54),_=n(55),w=n(56),M=n(57),C=n(58),b=n(18).isOptionEnabled,R=n(11).frame,x=i.defineClass({init:function(e){this.domState=e.domState,this.domEventBus=e.domEventBus,this.modelManager=e.modelManager,this.painterManager=e.painterManager,this.componentHolder=e.componentHolder,this.summaryOptions=e.summary,this.heightResizable=e.heightResizable},createContainer:function(){return new r({el:this.domState.$el,gridId:this.modelManager.gridId,domEventBus:this.domEventBus,dataModel:this.modelManager.dataModel,dimensionModel:this.modelManager.dimensionModel,viewFactory:this})},createContentArea:function(){return new s({dimensionModel:this.modelManager.dimensionModel,viewFactory:this})},createPagination:function(){return b(this.componentHolder.getOptions("pagination"))?new a({componentHolder:this.componentHolder,dimensionModel:this.modelManager.dimensionModel,focusModel:this.modelManager.focusModel}):null},createHeightResizeHandle:function(){return b(this.heightResizable)?new l({dimensionModel:this.modelManager.dimensionModel,domEventBus:this.domEventBus}):null},createStateLayer:function(){return new u({dimensionModel:this.modelManager.dimensionModel,renderModel:this.modelManager.renderModel})},createClipboard:function(){return new d({clipboardModel:this.modelManager.clipboardModel,focusModel:this.modelManager.focusModel,domEventBus:this.domEventBus})},createFrame:function(e){var t=e===R.L?c:h;return new t({dimensionModel:this.modelManager.dimensionModel,renderModel:this.modelManager.renderModel,viewFactory:this})},createHeader:function(e){return new f({whichSide:e,headerHeight:this.modelManager.dimensionModel.get("headerHeight"),renderModel:this.modelManager.renderModel,focusModel:this.modelManager.focusModel,selectionModel:this.modelManager.selectionModel,dataModel:this.modelManager.dataModel,columnModel:this.modelManager.columnModel,coordRowModel:this.modelManager.coordRowModel,coordColumnModel:this.modelManager.coordColumnModel,domEventBus:this.domEventBus,viewFactory:this})},createSummary:function(e){return this.summaryOptions?new v({whichSide:e,columnModel:this.modelManager.columnModel,renderModel:this.modelManager.renderModel,dimensionModel:this.modelManager.dimensionModel,coordColumnModel:this.modelManager.coordColumnModel,summaryModel:this.modelManager.summaryModel}):null},createHeaderResizeHandle:function(e,t,n){return new g({whichSide:e,handleHeights:t,frozenBorder:n,columnModel:this.modelManager.columnModel,dimensionModel:this.modelManager.dimensionModel,coordColumnModel:this.modelManager.coordColumnModel,domEventBus:this.domEventBus})},createBody:function(e){return new p({whichSide:e,renderModel:this.modelManager.renderModel,dimensionModel:this.modelManager.dimensionModel,domEventBus:this.domEventBus,viewFactory:this})},createBodyTable:function(e){return new m({whichSide:e,dimensionModel:this.modelManager.dimensionModel,coordColumnModel:this.modelManager.coordColumnModel,renderModel:this.modelManager.renderModel,columnModel:this.modelManager.columnModel,painterManager:this.painterManager,viewFactory:this})},createRowList:function(e){return new y({el:e.el,whichSide:e.whichSide,bodyTableView:e.bodyTableView,dataModel:this.modelManager.dataModel,columnModel:this.modelManager.columnModel,dimensionModel:this.modelManager.dimensionModel,selectionModel:this.modelManager.selectionModel,renderModel:this.modelManager.renderModel,focusModel:this.modelManager.focusModel,coordRowModel:this.modelManager.coordRowModel,painterManager:this.painterManager})},createSelectionLayer:function(e){return new _({whichSide:e,selectionModel:this.modelManager.selectionModel,dimensionModel:this.modelManager.dimensionModel,columnModel:this.modelManager.columnModel,coordRowModel:this.modelManager.coordRowModel,coordColumnModel:this.modelManager.coordColumnModel})},createEditingLayer:function(){return new w({renderModel:this.modelManager.renderModel,inputPainters:this.painterManager.getInputPainters(!0),domState:this.domState})},createDatePickerLayer:function(){return o?new M({focusModel:this.modelManager.focusModel,columnModel:this.modelManager.columnModel,textPainter:this.painterManager.getInputPainters().text,domState:this.domState,domEventBus:this.domEventBus}):null},createFocusLayer:function(e){return new C({whichSide:e,dimensionModel:this.modelManager.dimensionModel,columnModel:this.modelManager.columnModel,focusModel:this.modelManager.focusModel,coordRowModel:this.modelManager.coordRowModel,coordColumnModel:this.modelManager.coordColumnModel,coordConverterModel:this.modelManager.coordConverterModel})}});e.exports=x},function(e,n){e.exports=t},function(e,t,n){"use strict";var i=n(7),o=n(5),r=n(17),s=r.targetTypeConst,a=n(11).attrName,l=n(20),u=o.extend({initialize:function(e){o.prototype.initialize.call(this),this.gridId=e.gridId,this.dimensionModel=e.dimensionModel,this.dataModel=e.dataModel,this.viewFactory=e.viewFactory,this.domEventBus=e.domEventBus,this._createChildViews(),this.listenTo(this.dimensionModel,"setWidth",this._onSetWidth),i(window).on("resize.grid",i.proxy(this._onResizeWindow,this)),this.__$el=this.$el.clone()},events:{click:"_onClick",dblclick:"_onDblClick",mousedown:"_onMouseDown",mouseover:"_onMouseOver",mouseout:"_onMouseOut",selectstart:"_preventDrag",dragstart:"_preventDrag"},_createChildViews:function(){var e=this.viewFactory;this._addChildren([e.createContentArea(),e.createHeightResizeHandle(),e.createPagination(),e.createStateLayer(),e.createEditingLayer(),e.createDatePickerLayer(),e.createClipboard()])},_onResizeWindow:function(){this.domEventBus.trigger("windowResize")},_preventDrag:function(){return!1},_onSetWidth:function(){this.$el.width(this.dimensionModel.get("width"))},_onClick:function(e){var t=e.pageX-window.pageXOffset,n=e.pageY-window.pageYOffset,o=i(document.elementFromPoint(t,n)),a=new r(e,r.getTargetInfo(o));this.domEventBus.trigger("click",a),a.isStopped()||a.targetType!==s.CELL||this.domEventBus.trigger("click:cell",a)},_onDblClick:function(e){var t=i(e.target),n=new r(e,r.getTargetInfo(t));this.domEventBus.trigger("dblclick",n),n.isStopped()||n.targetType!==s.CELL||this.domEventBus.trigger("dblclick:cell",n)},_onMouseOver:function(e){var t=i(e.target),n=new r(e,r.getTargetInfo(t));this.domEventBus.trigger("mouseover",n)},_onMouseOut:function(e){var t=i(e.target),n=new r(e,r.getTargetInfo(t));this.domEventBus.trigger("mouseout",n)},_onMouseDown:function(e){var t=i(e.target),n=new r(e,r.getTargetInfo(t)),o=!t.is("input, a, button, select, textarea"),s="_button"===n.columnName&&t.parent().is("label");o&&!s&&(e.preventDefault(),t[0].unselectable=!0,this.domEventBus.trigger("mousedown:focus",n))},render:function(){var e=this._renderChildren();return this.$el.addClass(l.CONTAINER).attr(a.GRID_ID,this.gridId).append(e),this._triggerChildrenAppended(),this},destroy:function(){this.stopListening(),i(window).off("resize.grid"),this._destroyChildren(),this.$el.replaceWith(this.__$el),this.$el=this.__$el=null}});e.exports=u},function(e,t,n){"use strict";function i(e){return r("<div>").addClass(a.BORDER_LINE).addClass(e)}var o,r=n(7),s=n(5),a=n(20),l=n(11),u=l.frame;o=s.extend({initialize:function(e){s.prototype.initialize.call(this),this.viewFactory=e.viewFactory,this.dimensionModel=e.dimensionModel,this._addFrameViews()},className:a.CONTENT_AREA,_addFrameViews:function(){var e=this.viewFactory;this._addChildren([e.createFrame(u.L),e.createFrame(u.R)])},render:function(){var e=this.dimensionModel,t=e.getScrollXHeight(),n=this._renderChildren().concat([i(a.BORDER_TOP),i(a.BORDER_LEFT),i(a.BORDER_RIGHT),i(a.BORDER_BOTTOM).css("bottom",t)]),o=[];return e.get("scrollX")||o.push(a.NO_SCROLL_X),e.get("scrollY")||o.push(a.NO_SCROLL_Y),e.get("summaryHeight")&&(e.get("summaryPosition")===l.summaryPosition.TOP?o.push(a.HAS_SUMMARY_TOP):o.push(a.HAS_SUMMARY_BOTTOM)),e.get("rsideWidth")&&o.push(a.SHOW_LSIDE_AREA),this.$el.addClass(o.join(" ")),this.$el.append(n),this}}),e.exports=o},function(e,t,n){"use strict";var i=n(2),o=n(39),r=n(5),s=n(20),a={totalItems:1,itemsPerPage:10,visiblePages:5,centerAlign:!0},l="tui-pagination "+s.PAGINATION,u=r.extend({initialize:function(e){this.dimensionModel=e.dimensionModel,this.componentHolder=e.componentHolder,this._stopEventPropagation(),this.on("appended",this._onAppended)},className:l,render:function(){return this._destroyChildren(),this.componentHolder.setInstance("pagination",this._createComponent()),this},_stopEventPropagation:function(){this.$el.mousedown(function(e){e.stopPropagation()})},_onAppended:function(){this.dimensionModel.set("paginationHeight",this.$el.outerHeight())},_createOptionObject:function(){var e=this.componentHolder.getOptions("pagination");return e===!0&&(e={}),i.assign({},a,e)},_createComponent:function(){var e=o;if(!e)throw new Error("Cannot find component 'tui.Pagination'");return new e(this.$el,this._createOptionObject())}});e.exports=u},function(e,t){e.exports=n},function(e,t,n){"use strict";var i=n(5),o=n(20),r=n(41),s=i.extend({initialize:function(e){this.dimensionModel=e.dimensionModel,this.domEventBus=e.domEventBus,this.dragEmitter=new r({type:"resizeHeight",cursor:"row-resize",domEventBus:this.domEventBus}),this.on("appended",this._onAppended)},className:o.HEIGHT_RESIZE_HANDLE,events:{mousedown:"_onMouseDown"},_onAppended:function(){this.dimensionModel.set("resizeHandleHeight",this.$el.outerHeight())},_onMouseDown:function(e){e.preventDefault(),this.dragEmitter.start(e,{mouseOffsetY:e.offsetY})},render:function(){return this.$el.html("<button><span></span></button>"),this}});e.exports=s},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(17),a=r.defineClass({init:function(e){o.assign(this,{type:e.type,domEventBus:e.domEventBus,onDragMove:e.onDragMove,onDragEnd:e.onDragEnd,cursor:e.cursor,startData:null})},start:function(e,t){var n=new s(e,t);this.domEventBus.trigger("dragstart:"+this.type,n),n.isStopped()||this._startDrag(e.target,t)},_startDrag:function(e,t){this.startData=t,this._attachDragEvents(),this.cursor&&i("body").css("cursor",this.cursor),e.setCapture&&e.setCapture()},_endDrag:function(){this.startData=null,this._detachDragEvents(),this.cursor&&i("body").css("cursor","default"),document.releaseCapture&&document.releaseCapture()},_onMouseMove:function(e){var t;return e.buttons?(t=new s(e,{startData:this.startData,pageX:e.pageX,pageY:e.pageY}),o.isFunction(this.onDragMove)&&this.onDragMove(t),void(t.isStopped()||this.domEventBus.trigger("dragmove:"+this.type,t))):void this._endDrag()},_onMouseUp:function(e){var t=new s(e,{startData:this.startData});o.isFunction(this.onDragEnd)&&this.onDragEnd(t),t.isStopped()||(this.domEventBus.trigger("dragend:"+this.type,t),this._endDrag())},_onSelectStart:function(e){e.preventDefault()},_attachDragEvents:function(){i(document).on("mousemove.grid",o.bind(this._onMouseMove,this)).on("mouseup.grid",o.bind(this._onMouseUp,this)).on("selectstart.grid",o.bind(this._onSelectStart,this))},_detachDragEvents:function(){i(document).off(".grid")}});e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(5),r=n(11).renderState,s=n(20),a=n(43),l=n(11).dimension.TABLE_BORDER_WIDTH,u=o.extend({initialize:function(e){this.dimensionModel=e.dimensionModel,this.renderModel=e.renderModel,this.listenTo(this.dimensionModel,"change",this._refreshLayout),this.listenTo(this.renderModel,"change:state",this.render)},className:s.LAYER_STATE,template:i.template('<div class="'+s.LAYER_STATE_CONTENT+'">    <p><%= text %></p>    <% if (isLoading) { %>    <div class="'+s.LAYER_STATE_LOADING+'"></div>    <% } %></div>'),render:function(){
var e=this.renderModel.get("state");return e===r.DONE?this.$el.hide():this._showLayer(e),this},_showLayer:function(e){var t=this.template({text:this._getMessage(e),isLoading:e===r.LOADING});this.$el.html(t).show(),this._refreshLayout()},_getMessage:function(e){switch(e){case r.LOADING:return a.get("display.loadingData");case r.EMPTY:return a.get("display.noData");default:return null}},_refreshLayout:function(){var e=this.dimensionModel,t=e.get("headerHeight"),n=e.get("bodyHeight"),i=e.getScrollXHeight(),o=e.getScrollYWidth();this.$el.css({top:t,height:n-i-l,left:0,right:o})}});e.exports=u},function(e,t,n){"use strict";function i(e){var t,n={};return o.each(e,function(e,i){o.each(e,function(e,o){t=[i,o].join("."),n[t]=e})},this),n}var o=n(2),r=n(18),s={en:{display:{noData:"No data.",loadingData:"Loading data.",resizeHandleGuide:"You can change the width of the column by mouse drag, and initialize the width by double-clicking."},net:{confirmCreate:"Are you sure you want to create {{count}} data?",confirmUpdate:"Are you sure you want to update {{count}} data?",confirmDelete:"Are you sure you want to delete {{count}} data?",confirmModify:"Are you sure you want to modify {{count}} data?",noDataToCreate:"No data to create.",noDataToUpdate:"No data to update.",noDataToDelete:"No data to delete.",noDataToModify:"No data to modify.",failResponse:"An error occurred while requesting data.\nPlease try again."}},ko:{display:{noData:"  .",loadingData:"  .",resizeHandleGuide:"      ,       ."},net:{confirmCreate:"{{count}}  ?",confirmUpdate:"{{count}}  ?",confirmDelete:"{{count}}  ?",confirmModify:"{{count}}  ?",noDataToCreate:"  .",noDataToUpdate:"  .",noDataToDelete:"  .",noDataToModify:"  .",failResponse:"    .\n   ."}}},a={};e.exports={setLanguage:function(e,t){var n,r,l=s[e];if(!l&&!t)throw new Error("You should set messages to map the locale code.");r=i(t),l?(n=i(l),a=o.extend(n,r)):a=r},get:function(e,t){var n=a[e];return t&&(n=r.replaceText(n,t)),n}}},function(e,t,n){"use strict";function i(e){return"key:clipboard"!==e.type}function o(e){return"key:clipboard"===e.type&&"paste"===e.command}var r,s=n(7),a=n(2),l=n(4),u=n(5),d=n(19),c=n(45),h=n(20),f=10,g=l.browser.edge,p=!!window.clipboardData;r=u.extend({initialize:function(e){a.assign(this,{focusModel:e.focusModel,clipboardModel:e.clipboardModel,domEventBus:e.domEventBus,isLocked:!1,lockTimerId:null}),this.listenTo(this.focusModel,"focusClipboard",this._onFocusClipboard),this.listenTo(this.clipboardModel,"change:text",this._onClipboardTextChange)},tagName:"div",className:h.CLIPBOARD,attributes:{contenteditable:!0},events:{keydown:"_onKeyDown",copy:"_onCopy",paste:"_onPaste",blur:"_onBlur"},render:function(){return this},_onBlur:function(){var e=this.focusModel;setTimeout(function(){e.refreshState()},0)},_onKeyDown:function(e){var t;return this.isLocked?void e.preventDefault():(t=c.generate(e),void(t&&(this._lock(),i(t)&&e.preventDefault(),o(t)||this.domEventBus.trigger(t.type,t))))},_onCopy:function(e){var t=this.clipboardModel.get("text");p||(e.originalEvent||e).clipboardData.setData("text/plain",t),e.preventDefault()},_onPaste:function(e){var t=(e.originalEvent||e).clipboardData||window.clipboardData;g||p?this._pasteInMSBrowsers(t):(e.preventDefault(),this._pasteInOtherBrowsers(t))},_onFocusClipboard:function(){try{this._hasFocus()||(this.$el.focus(),this._hasFocus()||this.$el.focus())}catch(e){}},_onClipboardTextChange:function(){var e=this.clipboardModel.get("text");p?window.clipboardData.setData("Text",e):this.$el.html(e).focus()},_pasteInOtherBrowsers:function(e){var t,n=this.clipboardModel,i=e.getData("text/html");i&&s(i).find("tbody").length>0?(this.$el.html("<table>"+s(i).find("tbody").html()+"</table>"),t=this.$el.find("table")[0],i=d.convertTableToData(t),this.$el.html("")):(i=e.getData("text/plain"),i=d.convertTextToData(i)),n.pasteClipboardDataToGrid(i)},_pasteInMSBrowsers:function(e){var t,n=this,i=this.clipboardModel,o=e.getData("Text");o=d.convertTextToData(o),setTimeout(function(){n.$el.find("table").length>0&&(t=n.$el.find("table")[0],o=d.convertTableToData(t)),n.$el.html(""),i.pasteClipboardDataToGrid(o)},0)},_lock:function(){this.isLocked=!0,this.lockTimerId=setTimeout(a.bind(this._unlock,this),f)},_unlock:function(){this.isLocked=!1,this.lockTimerId=null},_hasFocus:function(){return this.$el.is(":focus")}}),r.KEYDOWN_LOCK_TIME=f,e.exports=r},function(e,t,n){"use strict";function i(e){var t=[];return(e.ctrlKey||e.metaKey)&&t.push("ctrl"),e.shiftKey&&t.push("shift"),t.push(a[e.keyCode]),t.join("-")}var o=n(2),r=n(17),s={backspace:8,tab:9,enter:13,ctrl:17,esc:27,left:37,up:38,right:39,down:40,a:65,c:67,v:86,space:32,pageUp:33,pageDown:34,home:36,end:35,del:46},a=o.invert(s),l={up:["move","up"],down:["move","down"],left:["move","left"],right:["move","right"],pageUp:["move","pageUp"],pageDown:["move","pageDown"],home:["move","firstColumn"],end:["move","lastColumn"],enter:["edit","currentCell"],space:["edit","currentCell"],tab:["edit","nextCell"],backspace:["delete"],del:["delete"],"shift-tab":["edit","prevCell"],"shift-up":["select","up"],"shift-down":["select","down"],"shift-left":["select","left"],"shift-right":["select","right"],"shift-pageUp":["select","pageUp"],"shift-pageDown":["select","pageDown"],"shift-home":["select","firstColumn"],"shift-end":["select","lastColumn"],"ctrl-a":["select","all"],"ctrl-c":["clipboard","copy"],"ctrl-v":["clipboard","paste"],"ctrl-home":["move","firstCell"],"ctrl-end":["move","lastCell"],"ctrl-shift-home":["select","firstCell"],"ctrl-shift-end":["select","lastCell"]};e.exports={generate:function(e){var t,n=i(e),o=l[n];return o&&(t=new r(e,{type:"key:"+o[0],command:o[1]})),t}}},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(47),s=n(20),a=n(11).frame,l=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments),o.assign(this,{whichSide:a.L}),this.listenTo(this.dimensionModel,"change:lsideWidth",this._onFrameWidthChanged)},className:s.LSIDE_AREA,_onFrameWidthChanged:function(){this.$el.css({width:this.dimensionModel.get("lsideWidth")})},beforeRender:function(){this.$el.css({display:"block",width:this.dimensionModel.get("lsideWidth")})},afterRender:function(){this.dimensionModel.get("scrollX")&&this.$el.append(i("<div />").addClass(s.SCROLLBAR_LEFT_BOTTOM))}});e.exports=l},function(e,t,n){"use strict";var i=n(2),o=n(5),r=n(11),s=r.frame,a=r.summaryPosition,l=o.extend({initialize:function(e){o.prototype.initialize.call(this),i.assign(this,{viewFactory:e.viewFactory,renderModel:e.renderModel,dimensionModel:e.dimensionModel,whichSide:e.whichSide||s.R}),this.listenTo(this.renderModel,"columnModelChanged",this.render)},render:function(){return this.$el.empty(),this._destroyChildren(),this.beforeRender(),this._addChildren(this._createChildren()),this.$el.append(this._renderChildren()),this.afterRender(),this},beforeRender:function(){},afterRender:function(){},_createChildren:function(){var e,t=this.viewFactory,n=this.dimensionModel.get("summaryPosition"),i=t.createHeader(this.whichSide),o=t.createBody(this.whichSide),r=t.createSummary(this.whichSide,n);return e=n===a.TOP?[i,r,o]:n===a.BOTTOM?[i,o,r]:[i,o]}});e.exports=l},function(e,t,n){"use strict";function i(e,t){var n=r("<div />").addClass(e);return t&&n.css(t),n}var o,r=n(7),s=n(2),a=n(47),l=n(20),u=n(11),d=u.frame,c=u.dimension,h=u.summaryPosition,f=c.CELL_BORDER_WIDTH;o=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments),s.assign(this,{whichSide:d.R,$scrollBorder:null}),this.listenTo(this.dimensionModel,"change:lsideWidth change:rsideWidth",this._onFrameWidthChanged),this.listenTo(this.dimensionModel,"change:bodyHeight change:headerHeight",this._resetScrollBorderHeight)},className:l.RSIDE_AREA,_onFrameWidthChanged:function(){this._refreshLayout()},_refreshLayout:function(){var e=this.dimensionModel,t=e.get("rsideWidth"),n=e.get("lsideWidth"),i=e.get("frozenBorderWidth");n>0&&!e.isDivisionBorderDoubled()&&(t+=f,n-=f),this.$el.css({width:t,marginLeft:n+i})},_resetScrollBorderHeight:function(){var e,t;this.$scrollBorder&&(e=this.dimensionModel,t=e.get("bodyHeight")-e.getScrollXHeight(),this.$scrollBorder.height(t))},beforeRender:function(){this.$el.css("display","block"),this._refreshLayout()},afterRender:function(){var e=this.dimensionModel,t=e.get("scrollX"),n=e.get("scrollY"),i=this._getSpaceHeights(t,n);this._setScrollbar(t,n,i),e.get("frozenBorderWidth")&&this._setFrozenBorder(t),this._resetScrollBorderHeight()},_getSpaceHeights:function(e,t){var n=this.dimensionModel,i=n.get("summaryHeight"),o=n.get("summaryPosition"),r=n.get("headerHeight"),s=e?c.SCROLLBAR_WIDTH:0;return t&&i&&(o===h.TOP?r+=i+c.TABLE_BORDER_WIDTH:s+=i),{top:r,bottom:s}},_setScrollbar:function(e,t,n){var o,r,s,a,u;e&&(u=i(l.SCROLLBAR_FROZEN_BORDER,{height:c.SCROLLBAR_WIDTH})),t&&(s=i(l.SCROLLBAR_RIGHT_TOP,{height:n.top-2}),o=i(l.SCROLLBAR_Y_INNER_BORDER,{top:n.top}),r=i(l.SCROLLBAR_Y_OUTER_BORDER)),(e||t)&&(a=i(l.SCROLLBAR_RIGHT_BOTTOM,{height:n.bottom})),this.$el.append(o,r,s,a,u),this.$scrollBorder=o},_setFrozenBorder:function(){var e=this.dimensionModel,t=e.get("headerHeight"),n=e.get("frozenBorderWidth"),o=this.viewFactory.createHeaderResizeHandle(d.L,[t],!0),r=o.render().$el,s=i(l.FROZEN_BORDER,{marginLeft:-n,width:n});this.$el.append(r,s).find("."+l.SCROLLBAR_FROZEN_BORDER).css({marginLeft:-(n+f),width:n})}}),e.exports=o},function(e,t,n){"use strict";function i(e,t){for(var n=0,i=Math.min(e.length,t.length);n<i&&e[n].name===t[n].name;n+=1);return n}var o,r=n(7),s=n(2),a=n(5),l=n(18),u=n(11),d=n(20),c=n(17),h=n(41),f=u.frame,g=10,p=u.keyCode,m=u.attrName.COLUMN_NAME,v=u.dimension.CELL_BORDER_WIDTH,y=u.dimension.TABLE_BORDER_WIDTH,_=200;o=a.extend({initialize:function(e){a.prototype.initialize.call(this),s.assign(this,{renderModel:e.renderModel,coordColumnModel:e.coordColumnModel,selectionModel:e.selectionModel,focusModel:e.focusModel,columnModel:e.columnModel,dataModel:e.dataModel,coordRowModel:e.coordRowModel,viewFactory:e.viewFactory,domEventBus:e.domEventBus,headerHeight:e.headerHeight,whichSide:e.whichSide||f.R}),this.dragEmitter=new h({type:"header",domEventBus:this.domEventBus,onDragMove:s.bind(this._onDragMove,this)}),this.listenTo(this.renderModel,"change:scrollLeft",this._onScrollLeftChange).listenTo(this.coordColumnModel,"columnWidthChanged",this._onColumnWidthChanged).listenTo(this.selectionModel,"change:range",this._refreshSelectedHeaders).listenTo(this.focusModel,"change:columnName",this._refreshSelectedHeaders).listenTo(this.dataModel,"sortChanged",this._updateBtnSortState),this.whichSide===f.L&&"checkbox"===this.columnModel.get("selectType")&&this.listenTo(this.dataModel,"change:_button disabledChanged extraDataChanged add remove reset",s.debounce(s.bind(this._syncCheckedState,this),g))},className:d.HEAD_AREA,events:{click:"_onClick","keydown input":"_onKeydown","mousedown th":"_onMouseDown"},template:s.template('<table class="'+d.TABLE+'"><colgroup><%=colGroup%></colgroup><tbody><%=tBody%></tbody></table>'),templateHeader:s.template('<th <%=attrColumnName%>="<%=columnName%>" class="<%=className%>" height="<%=height%>" <%if(colspan > 0) {%>colspan=<%=colspan%> <%}%><%if(rowspan > 0) {%>rowspan=<%=rowspan%> <%}%>><%=title%><%=btnSort%></th>'),templateCol:s.template('<col <%=attrColumnName%>="<%=columnName%>" style="width:<%=width%>px">'),markupBtnSort:'<a class="'+d.BTN_SORT+'"></a>',_getColGroupMarkup:function(){var e=this._getColumnData(),t=e.widths,n=e.columns,i=[];return s.each(t,function(e,t){i.push(this.templateCol({attrColumnName:m,columnName:n[t].name,width:e+v}))},this),i.join("")},_getSelectedColumnNames:function(){var e=this.selectionModel.get("range").column,t=this.columnModel.getVisibleColumns(),n=t.slice(e[0],e[1]+1);return s.pluck(n,"name")},_onDragMove:function(e){var t=r(e.target);e.setData({columnName:t.closest("th").attr(m),isOnHeaderArea:r.contains(this.el,t[0])})},_getContainingMergedColumnNames:function(e){var t=this.columnModel,n=s.pluck(t.get("complexHeaderColumns"),"name");return s.filter(n,function(n){var i=t.getUnitColumnNamesIfMerged(n);return s.every(i,function(t){return s.contains(e,t)})})},_refreshSelectedHeaders:function(){var e,t,n=this.$el.find("th");this.selectionModel.hasSelection()?e=this._getSelectedColumnNames():this.focusModel.has(!0)&&(e=[this.focusModel.get("columnName")]),n.removeClass(d.CELL_SELECTED),e&&(t=this._getContainingMergedColumnNames(e),s.each(e.concat(t),function(e){n.filter("["+m+'="'+e+'"]').addClass(d.CELL_SELECTED)}))},_onKeydown:function(e){e.keyCode===p.TAB&&(e.preventDefault(),this.focusModel.focusClipboard())},_onMouseDown:function(e){var t,n=r(e.target);this._triggerPublicMousedown(e)&&(n.hasClass(d.BTN_SORT)||(t=n.closest("th").attr(m),t&&this.dragEmitter.start(e,{columnName:t})))},_triggerPublicMousedown:function(e){var t,n,i,o=new c(e,c.getTargetInfo(r(e.target)));return t=(new Date).getTime(),this.domEventBus.trigger("mousedown",o),n=(new Date).getTime(),i=n-t>_,!o.isStopped()&&!i},_getHeaderMainCheckbox:function(){return this.$el.find("th["+m+'="_button"] input')},_syncCheckedState:function(){var e,t,n=this.dataModel.getCheckedState();e=this._getHeaderMainCheckbox(),e.length&&(t=n.available?{checked:n.available===n.checked,disabled:!1}:{checked:!1,disabled:!0},e.prop(t))},_onColumnWidthChanged:function(){var e=this.coordColumnModel.getWidths(this.whichSide),t=this.$el.find("col"),n=this.coordRowModel;s.each(e,function(e,n){t.eq(n).css("width",e+v)}),this.whichSide===f.R&&s.defer(function(){n.syncWithDom()})},_onScrollLeftChange:function(e,t){this.whichSide===f.R&&(this.el.scrollLeft=t)},_onClick:function(e){var t=r(e.target),n=t.closest("th").attr(m),i=new c(e);"_button"===n&&t.is("input")?(i.setData({checked:t.prop("checked")}),this.domEventBus.trigger("click:headerCheck",i)):t.is("a."+d.BTN_SORT)&&(i.setData({columnName:n}),this.domEventBus.trigger("click:headerSort",i))},_updateBtnSortState:function(e){var t;this._$currentSortBtn&&this._$currentSortBtn.removeClass(d.BTN_SORT_DOWN+" "+d.BTN_SORT_UP),this._$currentSortBtn=this.$el.find("th["+m+'="'+e.columnName+'"] a.'+d.BTN_SORT),t=e.ascending?d.BTN_SORT_UP:d.BTN_SORT_DOWN,this._$currentSortBtn.addClass(t)},render:function(){var e;return this._destroyChildren(),this.$el.css({height:this.headerHeight-y}).html(this.template({colGroup:this._getColGroupMarkup(),tBody:this._getTableBodyMarkup()})),this.coordColumnModel.get("resizable")&&(e=this._getResizeHandleHeights(),this._addChildren(this.viewFactory.createHeaderResizeHandle(this.whichSide,e)),this.$el.append(this._renderChildren())),this},_getColumnData:function(){var e=this.coordColumnModel.getWidths(this.whichSide),t=this.columnModel.getVisibleColumns(this.whichSide,!0);return{widths:e,columns:t}},_getTableBodyMarkup:function(){var e,t,n=this._getColumnHierarchyList(),i=this._getHierarchyMaxRowCount(n),o=this.headerHeight,r=new Array(i),a=new Array(i),u=[],c=l.getRowHeight(i,o)-1,h=1;return s.each(n,function(t,l){var f=n[l].length,g=0;s.each(t,function(t,n){var s=t.name,l=[d.CELL,d.CELL_HEAD];t.validation&&t.validation.required&&l.push(d.CELL_REQRUIRED),h=f-1===n&&i-f+1>1?i-f+1:1,e=c*h,n===f-1?e=o-g-2:g+=e+1,a[n]===s?(r[n].pop(),u[n]+=1):u[n]=1,a[n]=s,r[n]=r[n]||[],r[n].push(this.templateHeader({attrColumnName:m,columnName:s,className:l.join(" "),height:e,colspan:u[n],rowspan:h,title:t.title,btnSort:t.sortable?this.markupBtnSort:""}))},this)},this),t=s.map(r,function(e){return"<tr>"+e.join("")+"</tr>"}),t.join("")},_getHierarchyMaxRowCount:function(e){var t=[0];return s.each(e,function(e){t.push(e.length)},this),Math.max.apply(Math,t)},_getColumnHierarchyList:function(){var e,t=this._getColumnData().columns;return e=s.map(t,function(e){return this._getColumnHierarchy(e).reverse()},this)},_getColumnHierarchy:function(e,t){var n=this.columnModel.get("complexHeaderColumns");return t=t||[],e&&(t.push(e),n&&s.each(n,function(n){r.inArray(e.name,n.childNames)!==-1&&this._getColumnHierarchy(n,t)},this)),t},_getResizeHandleHeights:function(){for(var e,t,n=this._getColumnHierarchyList(),o=this._getHierarchyMaxRowCount(n),r=l.getRowHeight(o,this.headerHeight)-1,s=[],a=1,u=n.length;a<u;a+=1)e=i(n[a],n[a-1]),t=r*(o-e),s.push(t);return s.push(r*o),s}}),o.DELAY_SYNC_CHECK=g,e.exports=o},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(5),a=n(11),l=n(20),u=n(41),d=n(43),c=a.attrName,h=a.frame,f=a.dimension.CELL_BORDER_WIDTH,g=a.dimension.RESIZE_HANDLE_WIDTH,p=3,m=7,v=s.extend({initialize:function(e){o.assign(this,{columnModel:e.columnModel,coordColumnModel:e.coordColumnModel,dimensionModel:e.dimensionModel,domEventBus:e.domEventBus,handleHeights:e.handleHeights,whichSide:e.whichSide||h.R,frozenBorder:e.frozenBorder||!1}),this.dragEmitter=new u({type:"resizeColumn",cursor:"col-resize",domEventBus:this.domEventBus,onDragMove:o.bind(this._onDragMove,this)}),this.listenTo(this.coordColumnModel,"columnWidthChanged",this._refreshHandlerPosition)},className:l.COLUMN_RESIZE_CONTAINER,events:function(){var e={};return e["mousedown ."+l.COLUMN_RESIZE_HANDLE]="_onMouseDown",e["dblclick ."+l.COLUMN_RESIZE_HANDLE]="_onDblClick",e},template:o.template("<div "+c.COLUMN_INDEX+'="<%=columnIndex%>" '+c.COLUMN_NAME+'="<%=columnName%>" class="'+l.COLUMN_RESIZE_HANDLE+' <%=lastClass%>" title="<%=title%>"style="width:<%=width%>;height:<%=height%>;display:<%=displayType%>"></div>'),_getColumnData:function(){var e=this.coordColumnModel.getWidths(this.whichSide),t=this.columnModel.getVisibleColumns(this.whichSide,!0);return{widths:e,columns:t}},_getResizeHandlerMarkup:function(){var e=this.frozenBorder,t=this._getColumnData().columns,n=t.length,i=e?this.dimensionModel.get("frozenBorderWidth")+p:m,r=o.map(e?[o.last(t)]:t,function(t,o){var r=t.name;return this.template({lastClass:o+1===n?l.COLUMN_RESIZE_HANDLE_LAST:"",columnIndex:e?n-1:o,columnName:r,width:i+"px",height:this.handleHeights[o]+"px",title:d.get("resizeHandleGuide"),displayType:t.resizable===!1?"none":"block"})},this);return r.join("")},render:function(){var e=this.dimensionModel.get("headerHeight"),t=this._getResizeHandlerMarkup(),n={display:"block"};return this.frozenBorder?this.$el.addClass(l.FROZEN_BORDER_TOP):o.extend(n,{marginTop:-e,height:e}),this.$el.empty().html(t).css(n),this._refreshHandlerPosition(),this},_refreshHandlerPosition:function(){var e=this._getColumnData(),t=e.widths,n=this.$el.find("."+l.COLUMN_RESIZE_HANDLE),i=Math.floor(g/2),o=0,s=0;r.forEachArray(n,function(e,r){var a=n.eq(r);this.frozenBorder||(o+=t[r]+f,s=o-i),a.css("left",s)},this)},_onMouseDown:function(e){var t=i(e.target),n=this.coordColumnModel.getWidths(this.whichSide),o=parseInt(t.attr(c.COLUMN_INDEX),10);this.dragEmitter.start(e,{width:n[o],columnIndex:this._getHandlerColumnIndex(o),pageX:e.pageX})},_onDragMove:function(e){var t=e.startData,n=e.pageX-t.pageX;e.setData({columnIndex:t.columnIndex,width:t.width+n})},_onDblClick:function(e){var t=i(e.target),n=parseInt(t.attr(c.COLUMN_INDEX),10);this.domEventBus.trigger("dblclick:resizeColumn",{columnIndex:this._getHandlerColumnIndex(n)})},_getHandlerColumnIndex:function(e){return this.whichSide===h.R?e+this.columnModel.getVisibleFrozenCount(!0):e}});e.exports=v},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(5),s=n(41),a=n(17),l=n(18),u=n(11),d=n(20),c=u.frame,h=200,f=10,g=r.extend({initialize:function(e){r.prototype.initialize.call(this),o.assign(this,{dimensionModel:e.dimensionModel,renderModel:e.renderModel,viewFactory:e.viewFactory,domEventBus:e.domEventBus,$container:null,whichSide:e&&e.whichSide||c.R}),this.listenTo(this.dimensionModel,"change:bodyHeight",this._onBodyHeightChange).listenTo(this.dimensionModel,"change:totalRowHeight",this._resetContainerHeight).listenTo(this.renderModel,"change:scrollTop",this._onScrollTopChange).listenTo(this.renderModel,"change:scrollLeft",this._onScrollLeftChange),this.dragEmitter=new s({type:"body",domEventBus:this.domEventBus,onDragMove:o.bind(this._onDragMove,this)})},className:d.BODY_AREA,events:function(){var e={};return e.scroll="_onScroll",e["mousedown ."+d.BODY_CONTAINER]="_onMouseDown",e},_onBodyHeightChange:function(e,t){this.$el.css("height",t+"px")},_resetContainerHeight:function(){this.$container.css({height:this.dimensionModel.get("totalRowHeight")})},_onScroll:function(e){var t={scrollTop:e.target.scrollTop};this.whichSide===c.R&&(t.scrollLeft=e.target.scrollLeft),this.renderModel.set(t)},_onScrollLeftChange:function(e,t){this.whichSide===c.R&&(this.el.scrollLeft=t)},_onScrollTopChange:function(e,t){this.el.scrollTop=t},_onMouseDown:function(e){var t=i(e.target),n=t.is("input, teaxarea");this._triggerPublicMousedown(e)&&(this._triggerBodyMousedown(e),n&&e.shiftKey&&e.preventDefault(),l.isRightClickEvent(e)||n&&!e.shiftKey||this.dragEmitter.start(e,{pageX:e.pageX,pageY:e.pageY}))},_triggerPublicMousedown:function(e){var t,n,o=new a(e,a.getTargetInfo(i(e.target))),r=!0;return o.targetType===a.targetTypeConst.DUMMY?r=!1:(t=(new Date).getTime(),this.domEventBus.trigger("mousedown",o),o.isStopped()?r=!1:(n=(new Date).getTime(),r=n-t<=h)),r},_triggerBodyMousedown:function(e){var t=new a(e,{pageX:e.pageX,pageY:e.pageY,shiftKey:e.shiftKey});this.domEventBus.trigger("mousedown:body",t)},_onDragMove:function(e){var t=e.startData,n={pageX:e.pageX,pageY:e.pageY};this._getMouseMoveDistance(t,n)<f&&e.stop()},_getMouseMoveDistance:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2)))},render:function(){var e=this.whichSide;return this._destroyChildren(),this.dimensionModel.get("scrollX")||this.$el.css("overflow-x","hidden"),this.dimensionModel.get("scrollY")||e!==c.R||this.$el.css("overflow-y","hidden"),this.$el.css("height",this.dimensionModel.get("bodyHeight")),this.$container=i("<div>").addClass(d.BODY_CONTAINER),this.$el.append(this.$container),this._addChildren([this.viewFactory.createBodyTable(e),this.viewFactory.createSelectionLayer(e),this.viewFactory.createFocusLayer(e)]),this.$container.append(this._renderChildren()),this._resetContainerHeight(),this}});e.exports=g},function(e,t,n){"use strict";var i=n(2),o=n(5),r=n(11),s=n(20),a=r.dimension.CELL_BORDER_WIDTH,l=r.attrName.COLUMN_NAME,u=o.extend({initialize:function(e){o.prototype.initialize.call(this),i.assign(this,{dimensionModel:e.dimensionModel,coordColumnModel:e.coordColumnModel,renderModel:e.renderModel,columnModel:e.columnModel,viewFactory:e.viewFactory,painterManager:e.painterManager,whichSide:e.whichSide||"R"}),this.listenTo(this.coordColumnModel,"columnWidthChanged",this._onColumnWidthChanged),this.listenTo(this.renderModel,"change:dummyRowCount",this._onChangeDummyRowCount),this.listenTo(this.dimensionModel,"change:bodyHeight",this._resetHeight),this._attachAllTableEventHandlers()},className:s.BODY_TABLE_CONTAINER,template:i.template('<table class="'+s.TABLE+'">   <colgroup><%=colGroup%></colgroup>   <tbody><%=tbody%></tbody></table>'),templateCol:i.template('<col <%=attrColumnName%>="<%=columnName%>" style="width:<%=width%>px">'),_onColumnWidthChanged:function(){var e=this.coordColumnModel.getWidths(this.whichSide),t=this.$el.find("col");i.each(e,function(e,n){t.eq(n).css("width",e+a)},this)},_onChangeDummyRowCount:function(){this._resetOverflow(),this._resetHeight()},_resetOverflow:function(){var e="visible";this.renderModel.get("dummyRowCount")>0&&(e="hidden"),this.$el.css("overflow",e)},_resetHeight:function(){var e=this.dimensionModel;this.renderModel.get("dummyRowCount")>0?this.$el.height(e.get("bodyHeight")-e.getScrollXHeight()):this.$el.css("height","")},resetTablePosition:function(){this.$el.css("top",this.renderModel.get("top"))},render:function(){return this._destroyChildren(),this.$el.html(this.template({colGroup:this._getColGroupMarkup(),tbody:""})),this._addChildren(this.viewFactory.createRowList({bodyTableView:this,el:this.$el.find("tbody"),whichSide:this.whichSide})),this._renderChildren(),this._resetHeight(),this._resetOverflow(),this},_attachAllTableEventHandlers:function(){var e=this.painterManager.getCellPainters();i.each(e,function(e){e.attachEventHandlers(this.$el,"")},this)},redrawTable:function(e){return this.$el[0].innerHTML=this.template({colGroup:this._getColGroupMarkup(),tbody:e}),this.$el.find("tbody")},_getColGroupMarkup:function(){var e=this.whichSide,t=this.coordColumnModel.getWidths(e),n=this.columnModel.getVisibleColumns(e,!0),o="";return i.each(n,function(e,n){o+=this.templateCol({attrColumnName:l,columnName:e.name,width:t[n]+a})},this),o}});e.exports=u},function(e,t,n){"use strict";var i=n(2),o=n(5),r=n(20),s=n(11),a=s.frame,l=s.attrName.COLUMN_NAME,u=s.dimension.CELL_BORDER_WIDTH,d=o.extend({initialize:function(e){this.whichSide=e.whichSide,this.columnModel=e.columnModel,this.dimensionModel=e.dimensionModel,this.coordColumnModel=e.coordColumnModel,this.renderModel=e.renderModel,this.summaryModel=e.summaryModel,this.listenTo(this.renderModel,"change:scrollLeft",this._onChangeScrollLeft),this.listenTo(this.coordColumnModel,"columnWidthChanged",this._onChangeColumnWidth),this.summaryModel&&this.listenTo(this.summaryModel,"change",this._onChangeSummaryValue)},className:r.SUMMARY_AREA,events:{scroll:"_onScrollView"},template:i.template('<table class="<%=className%>" style="height:<%=height%>px"><colgroup><%=colgroup%></colgroup><tbody><%=tbody%></tbody></table>'),templateBody:i.template('<td <%=attrColumnName%>="<%=columnName%>" class="<%=className%>" ><%=value%></td>'),templateColgroup:i.template('<col <%=attrColumnName%>="<%=columnName%>" style="width:<%=width%>px">'),_onScrollView:function(e){this.whichSide===a.R&&this.renderModel.set("scrollLeft",e.target.scrollLeft)},_onChangeScrollLeft:function(e,t){this.whichSide===a.R&&(this.el.scrollLeft=t)},_onChangeColumnWidth:function(){var e=this.coordColumnModel.getWidths(this.whichSide),t=this.$el.find("col");i.each(e,function(e,n){t.eq(n).css("width",e+u)})},_setColumnContent:function(e,t){var n=this.$el.find("td["+l+'="'+e+'"]');n.html(t)},_onChangeSummaryValue:function(e,t){var n=this._generateValueHTML(e,t);this._setColumnContent(e,n)},_generateValueHTML:function(e,t){var n=this.summaryModel.getTemplate(e),o="";return i.isFunction(n)?o=n(t):i.isString(n)&&(o=n),o},_generateColgroupHTML:function(){var e=this.columnModel.getVisibleColumns(this.whichSide,!0),t=this.coordColumnModel.getWidths(this.whichSide),n=[];return i.each(t,function(t,i){n.push(this.templateColgroup({attrColumnName:l,columnName:e[i].name,width:t+u}))},this),n.join("")},_generateTbodyHTML:function(){var e=this.summaryModel,t=this.columnModel.getVisibleColumns(this.whichSide,!0);return i.reduce(t,function(t,n){var i,o=n.name;return e&&(i=e.getValue(n.name)),t+this.templateBody({attrColumnName:l,columnName:o,className:[r.CELL,r.CELL_SUMMARY].join(" "),value:this._generateValueHTML(o,i)})},"",this)},render:function(){var e=this.dimensionModel.get("summaryHeight");return e&&this.$el.html(this.template({className:r.TABLE,height:e,tbody:this._generateTbodyHTML(),colgroup:this._generateColgroupHTML()})),this}});e.exports=d},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(5),s=n(11),a=n(20),l=s.attrName,u=s.frame,d=s.dimension.CELL_BORDER_WIDTH,c=r.extend({initialize:function(e){var t=e.focusModel,n=e.renderModel,o=e.selectionModel,r=e.coordRowModel,s=e.dataModel,a=e.whichSide||"R";i.assign(this,{whichSide:a,bodyTableView:e.bodyTableView,focusModel:t,renderModel:n,selectionModel:o,coordRowModel:r,dataModel:s,columnModel:e.columnModel,collection:n.getCollection(a),painterManager:e.painterManager,sortOptions:null,renderedRowKeys:null}),this.listenTo(this.collection,"change",this._onModelChange).listenTo(this.collection,"restore",this._onModelRestore).listenTo(t,"change:rowKey",this._refreshFocusedRow).listenTo(n,"rowListChanged",this.render),this.whichSide===u.L&&this.listenTo(t,"change:rowKey",this._refreshSelectedMetaColumns).listenTo(o,"change:range",this._refreshSelectedMetaColumns).listenTo(n,"rowListChanged",this._refreshSelectedMetaColumns)},_getColumns:function(){return this.columnModel.getVisibleColumns(this.whichSide,!0)},_removeOldRows:function(e){var t=i.indexOf(this.renderedRowKeys,e[0]),n=i.indexOf(this.renderedRowKeys,i.last(e)),o=this.$el.children("tr");o.slice(0,t).remove(),o.slice(n+1).remove()},_appendNewRows:function(e,t){var n=this.collection.slice(0,i.indexOf(e,t[0])),o=this.collection.slice(i.indexOf(e,i.last(t))+1);this.$el.prepend(this._getRowsHtml(n)),this.$el.append(this._getRowsHtml(o))},_resetRows:function(){var e,t=this._getRowsHtml(this.collection.models);if(c.isInnerHtmlOfTbodyReadOnly)e=this.bodyTableView.redrawTable(t),this.setElement(e,!1);else try{this.$el[0].innerHTML=t}catch(e){c.isInnerHtmlOfTbodyReadOnly=!0,this._resetRows()}},_getRowsHtml:function(e){var t=this.painterManager.getRowPainter(),n=i.pluck(this._getColumns(),"name"),o=this.columnModel.hasTreeColumn();return i.map(e,function(e){return t.generateHtml(e,n,o)}).join("")},_getRowElement:function(e){return this.$el.find("tr["+l.ROW_KEY+"="+e+"]")},_refreshSelectedMetaColumns:function(){var e,t=this.$el.find("tr"),n="."+a.CELL_ROW_HEAD;e=this.selectionModel.hasSelection()?this._filterRowsByIndexRange(t,this.selectionModel.get("range").row):this._filterRowByKey(t,this.focusModel.get("rowKey")),t.find(n).removeClass(a.CELL_SELECTED),i.each(e,function(e){e.find(n).addClass(a.CELL_SELECTED)})},_filterRowsByIndexRange:function(e,t){for(var n,i=t[0],o=t[1]+1,r=[];i<o;i+=1)this.coordRowModel.getHeightAt(i)&&(n=this.dataModel.at(i).get("rowKey"),r.push(this._getRowElement(n)));return r},_filterRowByKey:function(e,t){var n=this.dataModel.indexOfRowKey(t),i=this.renderModel.get("startIndex"),o=[];return i>n?o:o.push(e.eq(n-i))},_refreshFocusedRow:function(){var e=this.focusModel.get("rowKey"),t=this.focusModel.get("prevRowKey");this._setFocusedRowClass(t,!1),this._setFocusedRowClass(e,!0)},_setFocusedRowClass:function(e,t){var n=i.pluck(this._getColumns(),"name"),o={};i.each(n,function(n){var i,r=this.dataModel.getMainRowKey(e,n);o[r]||(o[r]=this._getRowElement(r)),i=o[r].find("td["+l.COLUMN_NAME+'="'+n+'"]'),i.toggleClass(a.CELL_CURRENT_ROW,t)},this)},render:function(e){var t,n=this.collection.pluck("rowKey");return this.bodyTableView.resetTablePosition(),e?this._resetRows():(t=i.intersection(n,this.renderedRowKeys),i.isEmpty(n)||i.isEmpty(t)||t.length/n.length<.7?this._resetRows():(this._removeOldRows(t),this._appendNewRows(n,t))),this.renderedRowKeys=n,this},_onModelChange:function(e){var t=e.get("rowKey"),n=this._getRowElement(t);"height"in e.changed?n.css("height",e.get("height")+d):(this.painterManager.getRowPainter().refresh(e.changed,n),this.coordRowModel.syncWithDom())},_onModelRestore:function(e){var t=this.dataModel.getElement(e.rowKey,e.columnName),n=this.columnModel.getEditType(e.columnName);this.painterManager.getCellPainter(n).refresh(e,t),this.coordRowModel.syncWithDom()}},{isInnerHtmlOfTbodyReadOnly:o.browser.msie&&o.browser.version<=9});e.exports=c},function(e,t,n){"use strict";var i=n(2),o=n(5),r=n(20),s=n(11).dimension.CELL_BORDER_WIDTH,a=n(11).frame,l=o.extend({initialize:function(e){i.assign(this,{whichSide:e.whichSide||a.R,dimensionModel:e.dimensionModel,coordRowModel:e.coordRowModel,coordColumnModel:e.coordColumnModel,columnModel:e.columnModel,selectionModel:e.selectionModel}),this._updateColumnWidths(),this.listenTo(this.coordColumnModel,"columnWidthChanged",this._onChangeColumnWidth),this.listenTo(this.selectionModel,"change:range",this.render)},className:r.LAYER_SELECTION,_updateColumnWidths:function(){this.columnWidths=this.coordColumnModel.getWidths(this.whichSide)},_onChangeColumnWidth:function(){this._updateColumnWidths(),this.render()},_getOwnSideColumnRange:function(e){var t=this.columnModel.getVisibleFrozenCount(),n=null;return this.whichSide===a.L?e[0]<t&&(n=[e[0],Math.min(e[1],t-1)]):e[1]>=t&&(n=[Math.max(e[0],t)-t,e[1]-t]),n},
_getVerticalStyles:function(e){var t=this.coordRowModel,n=t.getOffsetAt(e[0]),i=t.getOffsetAt(e[1])+t.getHeightAt(e[1]);return{top:n+"px",height:i-n+"px"}},_getHorizontalStyles:function(e){var t=this.columnWidths,n=this.columnModel.getVisibleMetaColumnCount(),i=e[0],o=e[1],r=0,l=0,u=0;for(this.whichSide===a.L&&(i+=n,o+=n),o=Math.min(o,t.length-1);u<=o;u+=1)u<i?r+=t[u]+s:l+=t[u]+s;return l-=s,{left:r+"px",width:l+"px"}},render:function(){var e,t,n=this.selectionModel.get("range");return n&&(t=this._getOwnSideColumnRange(n.column)),t?(e=i.assign({},this._getVerticalStyles(n.row),this._getHorizontalStyles(t)),this.$el.show().css(e)):this.$el.hide(),this}});e.exports=l},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(5),s=n(11).dimension.CELL_BORDER_WIDTH,a=n(11).attrName,l=n(20),u=r.extend({initialize:function(e){this.renderModel=e.renderModel,this.domState=e.domState,this.inputPainters=e.inputPainters,this.listenTo(this.renderModel,"editingStateChanged",this._onEditingStateChanged)},className:l.LAYER_EDITING+" "+l.CELL_CONTENT,_startEditing:function(e){var t=e.rowKey,n=e.columnName,i=o.pick(e,"columnModel","editOptions","type"),r=this._calculateLayoutStyle(t,n,this._isWidthExpandable(i)),s=this.inputPainters[i];this.$el.html(s.generateHtml(e)).attr(a.ROW_KEY,t).attr(a.COLUMN_NAME,n).css(r).show(),this._adjustLeftPosition(),s.focus(this.$el)},_isWidthExpandable:function(e){return i.contains(["checkbox","radio"],e)},_finishEditing:function(){this.$el.empty().hide()},_adjustLeftPosition:function(){var e=this.domState.getWidth(),t=this.$el.outerWidth(),n=this.$el.position().left;n+t>e&&this.$el.css("left",e-t)},_adjustCellOffsetValue:function(e){var t=o.browser,n=e;return t.msie&&(9===t.version?n=e-1:t.version>9&&(n=Math.floor(e))),n},_calculateLayoutStyle:function(e,t,n){var i=this.domState.getOffset(),o=this.domState.getElement(e,t),r=o.offset(),a=o.outerHeight()+s,l=o.outerWidth()+s;return{top:this._adjustCellOffsetValue(r.top)-i.top,left:this._adjustCellOffsetValue(r.left)-i.left,height:a,minWidth:n?l:"",width:n?"":l,lineHeight:a+"px"}},_onEditingStateChanged:function(e){e.editing?this._startEditing(e):this._finishEditing()},render:function(){return i.each(this.inputPainters,function(e){e.attachEventHandlers(this.$el,"")},this),this}});e.exports=u},function(e,t,n){"use strict";var i,o=n(2),r=n(35),s=n(5),a=n(20),l="yyyy-MM-dd",u=[[new Date(1900,0,1),new Date(2999,11,31)]];i=s.extend({initialize:function(e){this.focusModel=e.focusModel,this.textPainter=e.textPainter,this.columnModel=e.columnModel,this.domState=e.domState,this.datePickerMap=this._createDatePickers(),this.$focusedInput=null,this.listenTo(this.textPainter,"focusIn",this._onFocusInTextInput),this.listenTo(e.domEventBus,"windowResize",this._closeDatePickerLayer)},className:a.LAYER_DATE_PICKER,events:{click:"_onClick"},_onClick:function(e){e.stopPropagation()},_createDatePickers:function(){var e={},t=this.columnModel.get("columnModelMap");return o.each(t,function(t){var n,i=t.name,o=t.component;o&&"datePicker"===o.name&&(n=o.options||{},e[i]=new r(this.$el,n),this._bindEventOnDatePicker(e[i]))},this),e},_bindEventOnDatePicker:function(e){var t=this;e.on("open",function(){t.textPainter.blockFocusingOut()}),e.on("close",function(){var e=t.focusModel,n=e.which(),i=n.rowKey,o=n.columnName,r=t.$focusedInput.val();t.textPainter.unblockFocusingOut(),e.isEditingCell(i,o)&&e.dataModel.setValue(i,o,r),e.finishEditing()})},_resetDatePicker:function(e,t,n){var i=this.datePickerMap[n],o=e.format||l,r=e.date||new Date,s=e.selectableRanges;i.setInput(t,{format:o,syncFromInput:!0}),s?i.setRanges(s):i.setRanges(u),""===t.val()&&(i.setDate(r),t.val(""))},_calculatePosition:function(e){var t=e.offset(),n=e.outerHeight(),i=this.domState.getOffset();return{top:t.top-i.top+n,left:t.left-i.left}},_onFocusInTextInput:function(e,t){var n,i=t.columnName,o=this.columnModel.getColumnModel(i).component,r=this.columnModel.getEditType(i);"text"===r&&o&&"datePicker"===o.name&&(n=o.options||{},this.$focusedInput=e,this.$el.css(this._calculatePosition(e)).show(),this._resetDatePicker(n,e,i),this.datePickerMap[i].open())},_closeDatePickerLayer:function(){var e=this.focusModel.which().columnName,t=this.datePickerMap[e];t&&t.isOpened()&&t.close()},render:function(){return this.$el.hide(),this}}),e.exports=i},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(5),s=n(11),a=n(20),l=s.frame,u=s.dimension.CELL_BORDER_WIDTH,d='<div class="'+a.LAYER_FOCUS_BORDER+'"></div>',c=a.LAYER_FOCUS_DEACTIVE,h=r.extend({initialize:function(e){this.focusModel=e.focusModel,this.columnModel=e.columnModel,this.coordRowModel=e.coordRowModel,this.coordColumnModel=e.coordColumnModel,this.coordConverterModel=e.coordConverterModel,this.whichSide=e.whichSide,this.borderEl={$top:i(d),$left:i(d),$right:i(d),$bottom:i(d)},this.listenTo(this.coordColumnModel,"columnWidthChanged",this._refreshCurrentLayout),this.listenTo(this.coordRowModel,"reset",this._refreshCurrentLayout),this.listenTo(this.focusModel,"blur",this._onBlur),this.listenTo(this.focusModel,"focus",this._onFocus),this.listenTo(this.focusModel,"change:active",this._onChangeActiveState)},className:a.LAYER_FOCUS,_refreshCurrentLayout:function(){var e=this.focusModel;"none"!==this.$el.css("display")&&this._refreshBorderLayout(e.get("rowKey"),e.get("columnName"))},_onBlur:function(){this.$el.hide()},_onFocus:function(e,t){var n=this.columnModel.isLside(t)?l.L:l.R;n===this.whichSide&&(this._refreshBorderLayout(e,t),this.$el.show())},_onChangeActiveState:function(e){e.changed.active?this.$el.removeClass(c):this.$el.addClass(c)},_refreshBorderLayout:function(e,t){var n=this.coordConverterModel.getCellPosition(e,t),i=n.right-n.left,o=n.bottom-n.top;this.borderEl.$left.css({top:n.top,left:n.left,width:u,height:o+u}),this.borderEl.$top.css({top:0===n.top?u:n.top,left:n.left,width:i+u,height:u}),this.borderEl.$right.css({top:n.top,left:n.left+i,width:u,height:o+u}),this.borderEl.$bottom.css({top:n.top+o,left:n.left,width:i+u,height:u})},render:function(){var e=this.$el;return o.each(this.borderEl,function(t){e.append(t)}),e.hide(),this}});e.exports=h},function(e,t,n){"use strict";var i=n(2),o=n(6);e.exports={create:function(){return i.extend({},o.Events)}}},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(11).attrName,s=n(20),a=o.defineClass({init:function(e){this.$el=e},_getBodyTableRows:function(e){return this.$el.find("."+e).find("."+s.BODY_TABLE_CONTAINER).find("tr["+r.ROW_KEY+"]")},_getMaxCellHeight:function(e){var t=e.find("."+s.CELL_CONTENT).map(function(){return this.scrollHeight}).get();return i.max(t)},getElement:function(e,t){return this.$el.find("tr["+r.ROW_KEY+"="+e+"]").find("td["+r.COLUMN_NAME+'="'+t+'"]')},getRowHeights:function(){var e,t,n,i,o=this._getBodyTableRows(s.LSIDE_AREA),r=this._getBodyTableRows(s.RSIDE_AREA),a=[];for(n=0,i=o.length;n<i;n+=1)e=this._getMaxCellHeight(o.eq(n)),t=this._getMaxCellHeight(r.eq(n)),a[n]=Math.max(e,t)+1;return a},getOffset:function(){return this.$el.offset()},getWidth:function(){return this.$el.width()},getParentHeight:function(){return this.$el.parent().height()},hasFocusedElement:function(){return!!this.$el.find(":focus").length}});e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(6),r=n(4),s=r.defineClass({init:function(e){this.publicObject=e},_listenForThrough:function(e,t){i.each(t,function(t){this.listenTo(e,t,i.bind(this._triggerOnPublic,this,t))},this)},_triggerOnPublic:function(e,t){this.publicObject.trigger(e,i.extend(t,{instance:this.publicObject}))},listenToNetAddon:function(e){this._listenForThrough(e,["beforeRequest","response","successResponse","failResponse","errorResponse"])},listenToDomEventBus:function(e){this._listenForThrough(e,["click","dblclick","mousedown","mouseover","mouseout"])},listenToFocusModel:function(e){this._listenForThrough(e,["focusChange"])},listenToDataModel:function(e){this._listenForThrough(e,["check","uncheck","deleteRange","expanded","expandedAll","collapsed","collapsedAll"])},listenToSelectionModel:function(e){this._listenForThrough(e,["selection"])}});i.extend(s.prototype,o.Events),e.exports=s},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(63),s=n(65),a=n(66),l=n(67),u=n(68),d=n(70),c=n(71),h=n(72),f=o.defineClass({init:function(e){this.gridId=e.gridId,this.selectType=e.selectType,this.fixedRowHeight=e.fixedRowHeight,this.inputPainters=this._createInputPainters(e.controller),this.cellPainters=this._createCellPainters(e.controller,e.domEventBus),this.rowPainter=this._createRowPainter()},_createInputPainters:function(e){return{text:new u({controller:e,inputType:"text"}),password:new u({controller:e,inputType:"password"}),checkbox:new c({controller:e,inputType:"checkbox"}),radio:new c({controller:e,inputType:"radio"}),select:new d({controller:e}),mainButton:new h({controller:e,inputType:this.selectType,gridId:this.gridId})}},_createCellPainters:function(e,t){var n={dummy:new l({controller:e}),normal:new s({domEventBus:t,controller:e,fixedRowHeight:this.fixedRowHeight,editType:"normal"})};return i.each(this.inputPainters,function(t,i){n[i]=new s({editType:i,controller:e,fixedRowHeight:this.fixedRowHeight,inputPainter:t})},this),n.tree=new a({controller:e,inputPainter:this.inputPainters.text}),n},_createRowPainter:function(){return new r({painterManager:this})},getCellPainter:function(e){return this.cellPainters[e]},getTreeCellPainter:function(){return this.cellPainters.tree},getCellPainters:function(){return this.cellPainters},getInputPainters:function(e){var t=this.inputPainters;return e&&(t=i.omit(t,"mainButton")),t},getRowPainter:function(){return this.rowPainter}});e.exports=f},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(64),s=n(11),a=n(20),l=s.attrName,u=s.dimension.CELL_BORDER_WIDTH,d=o.defineClass(r,{init:function(e){r.apply(this,arguments),this.painterManager=e.painterManager},selector:"tr",template:i.template('<tr <%=rowKeyAttr%> class="<%=className%>" style="height:<%=height%>px;"><%=contents%></tr>'),_getEditType:function(e,t){var n=o.pick(t.columnModel,"editOptions","type");return n||"normal"},_getCellPainter:function(e,t){var n;return n=e?this.painterManager.getTreeCellPainter():this.painterManager.getCellPainter(t)},_generateHtmlForDummyRow:function(e,t){var n=this.painterManager.getCellPainter("dummy"),o="";return i.each(t,function(t){o+=n.generateHtml(e,t)}),o},_generateHtmlForActualRow:function(e,t){var n="";return i.each(t,function(t){var i,o,r,s=e.get(t);s&&s.isMainRow&&(i=!!s.tree,o=this._getEditType(t,s),r=this._getCellPainter(i,o),n+=r.generateHtml(s))},this),n},generateHtml:function(e,t){var n,o=e.get("rowKey"),r=e.get("rowNum"),s=r%2?a.ROW_ODD:a.ROW_EVEN,d="";return i.isUndefined(o)?n=this._generateHtmlForDummyRow(r,t):(d=l.ROW_KEY+'="'+o+'"',n=this._generateHtmlForActualRow(e,t)),this.template({rowKeyAttr:d,height:e.get("height")+u,contents:n,className:s})},refresh:function(e,t){i.each(e,function(e,n){var i,o,r,s;"_extraData"!==n&&(s=t.find("td["+l.COLUMN_NAME+'="'+n+'"]'),o=this._getEditType(n,e),i=!!e.tree,r=this._getCellPainter(i,o),r.refresh(e,s))},this)}});e.exports=d},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(11).attrName,s=o.defineClass({init:function(e){this.controller=e.controller},events:{},selector:"",_getCellAddress:function(e){var t=e.closest("["+r.ROW_KEY+"]");return{rowKey:t.attr(r.ROW_KEY),columnName:t.attr(r.COLUMN_NAME)}},attachEventHandlers:function(e,t){i.each(this.events,function(n,o){var r=i.bind(this[n],this),s=t+" "+this.selector;e.on(o,s,r)},this)},generateHtml:function(){throw new Error("implement generateHtml() method")}});e.exports=s},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(64),s=n(18),a=n(11).attrName,l=n(20),u=o.defineClass(r,{init:function(e){r.apply(this,arguments),this.editType=e.editType,this.fixedRowHeight=e.fixedRowHeight,this.inputPainter=e.inputPainter,this.selector="td["+a.EDIT_TYPE+'="'+this.editType+'"]'},template:i.template('<td <%=attributeString%> style="<%=style%>"><%=contentHtml%></td>'),contentTemplate:i.template('<div class="<%=className%>" style="<%=style%>"><%=content%></div>'),_isEditableType:function(){return!i.contains(["normal","mainButton"],this.editType)},_getContentStyle:function(e){var t=e.columnModel.whiteSpace||"nowrap",n=[];return t&&n.push("white-space:"+t),this.fixedRowHeight&&n.push("max-height:"+e.height+"px"),n.join(";")},_getContentHtml:function(e){var t,n,o=e.columnModel.template,r=e.formattedValue,s=e.prefix,a=e.postfix;return this.inputPainter&&(r=this.inputPainter.generateHtml(e),this._shouldContentBeWrapped()&&!this._isUsingViewMode(e)&&(s=this._getSpanWrapContent(s,l.CELL_CONTENT_BEFORE),a=this._getSpanWrapContent(a,l.CELL_CONTENT_AFTER),r=this._getSpanWrapContent(r,l.CELL_CONTENT_INPUT),t=s+a+r)),t||(t=s+r+a),n="_number"===e.columnName&&i.isFunction(o)?o({content:t}):this.contentTemplate({content:t,className:l.CELL_CONTENT,style:this._getContentStyle(e)})},_isUsingViewMode:function(e){return o.pick(e,"columnModel","editOptions","useViewMode")!==!1},_shouldContentBeWrapped:function(){return i.contains(["text","password","select"],this.editType)},_getSpanWrapContent:function(e,t){return o.isFalsy(e)&&(e=""),'<span class="'+t+'">'+e+"</span>"},_getAttributes:function(e){var t=[e.className,l.CELL],n={align:e.columnModel.align||"left"};return n.class=t.join(" "),n[a.EDIT_TYPE]=this.editType,n[a.ROW_KEY]=e.rowKey,n[a.COLUMN_NAME]=e.columnName,e.rowSpan&&(n.rowspan=e.rowSpan),n},attachEventHandlers:function(e,t){r.prototype.attachEventHandlers.call(this,e,t),this.inputPainter&&this.inputPainter.attachEventHandlers(e,t+" "+this.selector)},generateHtml:function(e){var t=s.getAttributesString(this._getAttributes(e)),n=this._getContentHtml(e),i=e.columnModel.valign,o=[];return i&&o.push("vertical-align:"+i),this.template({attributeString:t,style:o.join(";"),contentHtml:n})},refresh:function(e,t){var n=["value","editing","disabled","listItems"],o=i.contains(e.changed,"editing")&&e.editing,r=i.intersection(n,e.changed).length>0,s="mainButton"===this.editType;t.attr(this._getAttributes(e)),o&&!this._isUsingViewMode(e)?this.inputPainter.focus(t):s?t.find(this.inputPainter.selector).prop({checked:e.value,disabled:e.disabled}):r&&(t.html(this._getContentHtml(e)),t.scrollLeft(0))}});e.exports=u},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(64),s=n(18),a=n(11).attrName,l=n(11).dimension,u=n(20),d=o.defineClass(r,{init:function(e){r.apply(this,arguments),this._inputPainter=e.inputPainter},selector:"."+u.BTN_TREE,events:{click:"_onClick"},template:i.template('<td <%=attributeString%>"><div class="'+u.TREE_WARPPER_RELATIVE+'"><div class="'+u.TREE_WARPPER_VALIGN_CENTER+'"><%=extraContentHtml%><%=contentHtml%></div></div></td>'),contentTemplate:i.template('<div class="<%=className%>" style="<%=style%>"><%=content%></div>'),lineTemplate:i.template('<span class="'+u.TREE_DEPTH+'" style="<%=style%>"><% if (hasButton) { %><button class="'+u.BTN_TREE+'"><i></i></button><% } %></span>'),_onClick:function(e){var t=$(e.target),n=t.parents("td"),i=this._getCellAddress(t).rowKey,o=n.hasClass(u.TREE_BUTTON_EXPAND);this.controller.changeTreeExpanded(i,o)},_getLineHtml:function(e,t,n){var i=t&&n,o=["left:"+e*l.INDENT_WIDTH+"px;"];return this.lineTemplate({style:o.join(""),hasButton:i})},_getIconHtml:function(e){var t="left:"+e*l.INDENT_WIDTH+"px;";return'<span class="'+u.TREE_ICON+'" style="'+t+'"><i></i></span>'},_getExtraContentHtml:function(e){for(var t,n=e.depth,i=e.hasChildren,o=e.useIcon,r=0,s=[];r<n;r+=1)t=r===n-1,s.push(this._getLineHtml(r,t,i));return o&&s.push(this._getIconHtml(n)),this.contentTemplate({className:u.TREE_EXTRA_CONTENT,style:"",content:s.join("")})},_getAttributes:function(e){var t=[e.className,u.CELL,u.CELL_HAS_TREE],n={};return e.hasChildren&&(e.isExpanded?t.push(u.TREE_BUTTON_EXPAND):t.push(u.TREE_BUTTON_COLLAPSE)),n.class=t.join(" "),n[a.ROW_KEY]=e.rowKey,n[a.COLUMN_NAME]=e.columnName,n},_getContentStyle:function(e){var t=e.columnModel.whiteSpace||"nowrap",n=e.depth*l.INDENT_WIDTH,i=[];return t&&i.push("white-space:"+t),this.fixedRowHeight&&i.push("max-height:"+e.height+"px"),e.useIcon&&(n+=l.INDENT_WIDTH),i.push("margin-left:"+n+"px"),i.join(";")},_isUsingViewMode:function(e){return o.pick(e,"columnModel","editOptions","useViewMode")!==!1},_getSpanWrapContent:function(e,t){return o.isFalsy(e)&&(e=""),'<span class="'+t+'">'+e+"</span>"},_getContentHtml:function(e){var t,n=e.formattedValue,i=e.prefix,o=e.postfix;return this._inputPainter&&(n=this._inputPainter.generateHtml(e),this._isUsingViewMode(e)||(i=this._getSpanWrapContent(i,u.CELL_CONTENT_BEFORE),o=this._getSpanWrapContent(o,u.CELL_CONTENT_AFTER),n=this._getSpanWrapContent(n,u.CELL_CONTENT_INPUT),t=i+o+n)),t||(t=i+n+o),this.contentTemplate({className:u.CELL_CONTENT,style:this._getContentStyle(e),content:t})},generateHtml:function(e){var t=s.getAttributesString(this._getAttributes(e)),n=this._getExtraContentHtml(e),i=this._getContentHtml(e);return this.template({attributeString:t,extraContentHtml:n,contentHtml:i})},refresh:function(e,t){var n,o=i.contains(e.changed,"editing")&&e.editing,r=e.changed.length>0,s=this._getAttributes(e);t.attr(s),o&&!this._isUsingViewMode(e)?this._inputPainter.focus(t):r&&(n=this._getContentHtml(e),t.find("."+u.CELL_CONTENT).remove(),t.find("."+u.TREE_EXTRA_CONTENT).after(n),t.scrollLeft(0))}});e.exports=d},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(64),s=n(18),a=n(11).attrName,l=n(20),u=o.defineClass(r,{init:function(){r.apply(this,arguments)},selector:"td["+a.EDIT_TYPE+'="dummy"]',template:i.template("<td "+a.COLUMN_NAME+'="<%=columnName%>" '+a.EDIT_TYPE+'="dummy" class="<%=className%>"></td>'),generateHtml:function(e,t){var n=[l.CELL,l.CELL_DUMMY];return s.isMetaColumn(t)&&n.push(l.CELL_ROW_HEAD),this.template({columnName:t,className:n.join(" ")})}});e.exports=u},function(e,t,n){"use strict";var i=n(2),o=n(4),r=n(69),s=n(18),a=n(20),l="."+a.CELL_CONTENT_TEXT,u="input[type=password]",d=o.defineClass(r,{init:function(e){r.apply(this,arguments),this.inputType=e.inputType,this.selector="text"===e.inputType?l:u,this._extendEvents({selectstart:"_onSelectStart"})},templateInput:i.template('<input class="<%=className%>" type="<%=type%>" value="<%=value%>" name="<%=name%>" align="center" maxLength="<%=maxLength%>" <%=disabled%>/>'),templateTextArea:i.template('<textarea class="<%=className%>" name="<%=name%>" maxLength="<%=maxLength%>" <%=disabled%>><%=value%></textarea>'),_onSelectStart:function(e){e.stopPropagation()},_convertStringToAsterisks:function(e){return Array(e.length+1).join("*")},_getDisplayValue:function(e){var t=e.formattedValue;return"password"===this.inputType&&(t=this._convertStringToAsterisks(e.value)),t},_generateInputHtml:function(e){var t=o.pick(e,"columnModel","editOptions","maxLength"),n={type:this.inputType,className:a.CELL_CONTENT_TEXT,value:e.value,name:s.getUniqueKey(),disabled:e.disabled?"disabled":"",maxLength:t};return"nowrap"!==e.whiteSpace?this.templateTextArea(n):this.templateInput(n)},focus:function(e){var t=e.find(this.selector);1!==t.length||t.is(":focus")||t.select()}});e.exports=d},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(6),s=n(4),a=n(64),l=n(11).keyName,u=s.defineClass(a,{init:function(){a.apply(this,arguments),this._finishedEditing=!1},events:{keydown:"_onKeyDown",focusin:"_onFocusIn",focusout:"_onFocusOut",change:"_onChange"},keyDownActions:{ESC:function(e){this.controller.finishEditing(e.address,!0)},ENTER:function(e){this.controller.finishEditing(e.address,!0,e.value)},TAB:function(e){this.controller.finishEditing(e.address,!0,e.value),this.controller.focusInToNextCell(e.shiftKey)}},_extendKeydownActions:function(e){this.keyDownActions=o.assign({},this.keyDownActions,e)},_extendEvents:function(e){this.events=o.assign({},this.events,e)},_executeCustomEventHandler:function(e,t){this.controller.executeCustomInputEventHandler(e,t)},_onChange:function(){},_onFocusIn:function(e){var t=i(e.target),n=this._getCellAddress(t),r=this;o.defer(function(){r._executeCustomEventHandler(e,n),r.trigger("focusIn",t,n),r.controller.startEditing(n)})},_onFocusOut:function(e){var t=i(e.target),n=this._getCellAddress(t);this._finishedEditing||(this._executeCustomEventHandler(e,n),this.trigger("focusOut",t,n),this.controller.finishEditing(n,!1,t.val()))},_onKeyDown:function(e){var t=e.keyCode||e.which,n=l[t],o=this.keyDownActions[n],r=i(e.target),s={$target:r,address:this._getCellAddress(r),shiftKey:e.shiftKey,value:r.val()};this._executeCustomEventHandler(e,s.address),o&&!e.shiftKey&&(o.call(this,s),e.preventDefault())},_getDisplayValue:function(){throw new Error("implement _getDisplayValue() method")},_generateInputHtml:function(){throw new Error("implement _generateInputHtml() method")},_isUsingViewMode:function(e){return s.pick(e,"columnModel","editOptions","useViewMode")!==!1},generateHtml:function(e){var t;return t=o.isNull(e.convertedHTML)?!this._isUsingViewMode(e)||e.editing?this._generateInputHtml(e):this._getDisplayValue(e):e.convertedHTML},focus:function(e){var t=e.find(this.selector);t.is(":focus")||t.eq(0).focus()},blockFocusingOut:function(){this._finishedEditing=!0},unblockFocusingOut:function(){this._finishedEditing=!1}});o.assign(u.prototype,r.Events),e.exports=u},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(69),a=n(18),l=r.defineClass(s,{init:function(){s.apply(this,arguments),this.selector="select"},template:o.template('<select name="<%=name%>" <%=disabled%>><%=options%></select>'),optionTemplate:o.template('<option value="<%=value%>" <%=selected%>><%=text%></option>'),_onChange:function(e){var t=i(e.target),n=this._getCellAddress(t);this.controller.setValueIfNotUsingViewMode(n,t.val())},_getDisplayValue:function(e){var t=o.find(e.listItems,function(t){return String(t.value)===String(e.value)});return t?t.text:""},_generateInputHtml:function(e){var t=o.reduce(e.listItems,function(t,n){return t+this.optionTemplate({value:n.value,text:n.text,selected:String(e.value)===String(n.value)?"selected":""})},"",this);return this.template({name:a.getUniqueKey(),disabled:e.disabled?"disabled":"",options:t})}});e.exports=l},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(69),a=n(18),l=r.defineClass(s,{init:function(e){s.apply(this,arguments),this.inputType=e.inputType,this.selector="fieldset[data-type="+this.inputType+"]",this._extendEvents({mousedown:"_onMouseDown"}),this._extendKeydownActions({TAB:function(e){var t;this._focusNextInput(e.$target,e.shiftKey)||(t=this._getCheckedValueString(e.$target),this.controller.finishEditing(e.address,!0,t),this.controller.focusInToNextCell(e.shiftKey))},ENTER:function(e){var t=this._getCheckedValueString(e.$target);this.controller.finishEditing(e.address,!0,t)},LEFT_ARROW:function(e){this._focusNextInput(e.$target,!0)},RIGHT_ARROW:function(e){this._focusNextInput(e.$target)},UP_ARROW:function(){},DOWN_ARROW:function(){}})},template:o.template('<fieldset data-type="<%=type%>"><%=content%></fieldset>'),inputTemplate:o.template('<input type="<%=type%>" data-value-type="<%=valueType%>" name="<%=name%>" id="<%=id%>" value="<%=value%>" <%=checked%> <%=disabled%> />'),labelTemplate:o.template('<label for="<%=id%>"><%=labelText%></label>'),_onChange:function(e){var t=i(e.target),n=this._getCellAddress(t),o=this._getCheckedValueString(t);this.controller.setValueIfNotUsingViewMode(n,o)},_onFocusOut:function(e){var t=i(e.target),n=this;o.defer(function(){var e,i;t.siblings("input:focus").length||(e=n._getCellAddress(t),i=n._getCheckedValueString(t),n.controller.finishEditing(e,!1,i))})},_onMouseDown:function(e){var t=i(e.target),n=t.closest("fieldset").find("input:focus").length>0;!t.is("input")&&n&&(e.stopPropagation(),e.preventDefault())},_focusNextInput:function(e,t){var n=t?"prevAll":"nextAll",i=e[n]("input");return!!i.length&&(i.first().focus(),!0)},_getCheckedValueString:function(e){var t,n=e.parent().find("input:checked"),o=[];return n.each(function(){var e=i(this),t=e.attr("data-value-type"),n=a.convertValueType(e.val(),t);o.push(n)}),t=1===o.length?o[0]:o.join(",")},_getCheckedValueSet:function(e){var t={};return o.each(String(e).split(","),function(e){t[e]=!0}),t},_getDisplayValue:function(e){var t=this._getCheckedValueSet(e.value),n=[];return o.each(e.listItems,function(e){t[e.value]&&n.push(e.text)}),n.join(",")},_generateInputHtml:function(e){var t=this._getCheckedValueSet(e.value),n=a.getUniqueKey(),i="";return o.each(e.listItems,function(o){var r=n+"_"+o.value;i+=this.inputTemplate({type:this.inputType,id:r,name:n,value:o.value,valueType:typeof o.value,checked:t[o.value]?"checked":"",disabled:e.isDisabled?"disabled":""}),o.text&&(i+=this.labelTemplate({id:r,labelText:o.text}))},this),this.template({type:this.inputType,content:i})},focus:function(e){var t=e.find("input");t.is(":focus")||t.eq(0).focus()}});e.exports=l},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s=n(64),a=n(20),l=n(11).keyCode,u=a.CELL_MAIN_BUTTON,d=r.defineClass(s,{init:function(e){s.apply(this,arguments),this.selector="input."+u,this.inputType=e.inputType,this.gridId=e.gridId},events:{change:"_onChange",keydown:"_onKeydown"},template:o.template('<input class="<%=className%>" type="<%=type%>" name="<%=name%>" <%=checked%> <%=disabled%> />'),_onChange:function(e){var t=i(e.target),n=this._getCellAddress(t);this.controller.setValue(n,t.is(":checked"))},_onKeydown:function(e){var t;e.keyCode===l.TAB&&(e.preventDefault(),t=this._getCellAddress(i(e.target)),this.controller.focusInToRow(t.rowKey))},generateHtml:function(e){var t=e.columnModel.template,n=null,i={type:this.inputType,name:this.gridId,className:u};return n=o.isFunction(t)?t(o.extend(i,{checked:e.value,disabled:e.disabled})):this.template(o.extend(i,{checked:e.value?"checked":"",disabled:e.disabled?"disabled":""}))}});e.exports=d},function(e,t,n){"use strict";function i(e){return s.isString(e)&&(e=e.replace(/,/g,"")),s.isNumber(e)||isNaN(e)||l.isBlank(e)?e:Number(e)}function o(e){switch(e){case"focusin":return"onFocus";case"focusout":return"onBlur";case"keydown":return"onKeyDown";default:return""}}var r=n(7),s=n(2),a=n(4),l=n(18),u=a.defineClass({init:function(e){this.focusModel=e.focusModel,this.dataModel=e.dataModel,this.columnModel=e.columnModel,this.selectionModel=e.selectionModel},startEditing:function(e,t){var n;return t&&this.focusModel.finishEditing(),n=this.focusModel.startEditing(e.rowKey,e.columnName),n&&this.selectionModel.end(),n},_checkMaxLength:function(e,t){var n=this.columnModel.getColumnModel(e),i=a.pick(n,"editOptions","maxLength");return i>0&&t.length>i?t.substring(0,i):t},finishEditing:function(e,t,n){var i,o,r=this.focusModel;return!!r.isEditingCell(e.rowKey,e.columnName)&&(this.selectionModel.enable(),s.isUndefined(n)||(i=this.dataModel.get(e.rowKey),o=i.get(e.columnName),l.isBlank(n)&&l.isBlank(o)||this.setValue(e,this._checkMaxLength(e.columnName,n))),r.finishEditing(),t?r.focusClipboard():s.defer(function(){r.refreshState()}),!0)},focusInToNextCell:function(e){var t=this.focusModel,n=e?t.prevAddress():t.nextAddress();t.focusIn(n.rowKey,n.columnName,!0)},focusInToRow:function(e){var t=this.focusModel;t.focusIn(e,t.firstColumnName(),!0)},executeCustomInputEventHandler:function(e,t){var n,i,r,a=this.columnModel.getColumnModel(t.columnName);a&&(n=e.type,i=a.editOptions||{},r=i[o(n)],s.isFunction(r)&&r.call(e.target,e,t))},setValue:function(e,t){var n=this.columnModel.getColumnModel(e.columnName);s.isString(t)&&(t=r.trim(t)),n.validation&&"number"===n.validation.dataType&&(t=i(t)),"_button"===n.name?t?this.dataModel.check(e.rowKey):this.dataModel.uncheck(e.rowKey):this.dataModel.setValue(e.rowKey,e.columnName,t)},setValueIfNotUsingViewMode:function(e,t){var n=this.columnModel.getColumnModel(e.columnName);a.pick(n,"editOptions","useViewMode")||this.setValue(e,t)},changeTreeExpanded:function(e,t){t?this.dataModel.treeCollapse(e):this.dataModel.treeExpand(e)}});e.exports=u},function(e,t,n){"use strict";var i=n(7),o=n(6),r=n(2),s=n(5),a=n(75),l=n(18),u=n(76),d=n(43),c=n(17),h=n(11).renderState,f=200,g={createData:"net.confirmCreate",updateData:"net.confirmUpdate",deleteData:"net.confirmDelete",modifyData:"net.confirmModify"},p={createData:"net.noDataToCreate",updateData:"net.noDataToUpdate",deleteData:"net.noDataToDelete",modifyData:"net.noDataToModify"},m=s.extend({initialize:function(e){var t={initialRequest:!0,perPage:500,enableAjaxHistory:!0,withCredentials:!1},n={readData:"",createData:"",updateData:"",deleteData:"",modifyData:"",downloadExcel:"",downloadExcelAll:""};e=r.assign(t,e),e.api=r.assign(n,e.api),r.assign(this,{dataModel:e.dataModel,renderModel:e.renderModel,router:null,domEventBus:e.domEventBus,pagination:e.pagination,api:e.api,enableAjaxHistory:e.enableAjaxHistory,readDataMethod:e.readDataMethod||"POST",perPage:e.perPage,withCredentials:e.withCredentials,curPage:1,timeoutIdForDelay:null,requestedFormData:null,isLocked:!1,lastRequestedReadData:null}),this._initializeDataModelNetwork(),this._initializeRouter(),this._initializePagination(),this.listenTo(this.dataModel,"sortChanged",this._onSortChanged),this.listenTo(this.domEventBus,"click:excel",this._onClickExcel),e.initialRequest&&(this.lastRequestedReadData||this._readDataAt(1,!1))},tagName:"form",events:{submit:"_onSubmit"},_initializePagination:function(){var e=this.pagination;e&&(e.setItemsPerPage(this.perPage),e.setTotalItems(1),e.on("beforeMove",i.proxy(this._onPageBeforeMove,this)))},_onRouterRead:function(e){var t=l.toQueryObject(e);this._requestReadData(t)},_onClickExcel:function(e){var t="all"===e.type?"excelAll":"excel";this.download(t)},_initializeDataModelNetwork:function(){this.dataModel.url=this.api.readData,this.dataModel.sync=i.proxy(this._sync,this)},_initializeRouter:function(){this.enableAjaxHistory&&(this.router=new a({net:this}),this.listenTo(this.router,"route:read",this._onRouterRead),o.History.started||o.history.start())},_onPageBeforeMove:function(e){var t=e.page;this.curPage!==t&&this._readDataAt(t,!0)},_onSubmit:function(e){e.preventDefault(),this._readDataAt(1,!1)},_setFormData:function(e){var t=r.clone(e);r.each(this.lastRequestedReadData,function(e,n){(r.isUndefined(t[n])||r.isNull(t[n]))&&e&&(t[n]="")}),u.setFormData(this.$el,t)},_sync:function(e,t,n){var s;"read"===e?(n=n||{},s=i.extend({},n),n.url||(s.url=r.result(t,"url")),this._ajax(s)):o.sync(o,e,t,n)},_lock:function(){var e=this.renderModel;this.timeoutIdForDelay=setTimeout(function(){e.set("state",h.LOADING)},f),this.isLocked=!0},_unlock:function(){null!==this.timeoutIdForDelay&&(clearTimeout(this.timeoutIdForDelay),this.timeoutIdForDelay=null),this.isLocked=!1},_getFormData:function(){return u.getFormData(this.$el)},_onReadSuccess:function(e,t){var n,i,o=this.pagination;e.setOriginalRowList(),o&&t.pagination&&(n=t.pagination.page,i=t.pagination.totalCount,o.setItemsPerPage(this.perPage),o.setTotalItems(i),o.movePageTo(n),this.curPage=n)},_onReadError:function(e,t,n){},reloadData:function(){this._requestReadData(this.lastRequestedReadData)},readData:function(e,t,n){n?(t||(t={}),t.perPage=this.perPage,this._changeSortOptions(t,this.dataModel.sortOptions)):t=r.assign({},this.lastRequestedReadData,t),t.page=e,this._requestReadData(t)},_requestReadData:function(e){var t=1;this._setFormData(e),this.isLocked||(this.renderModel.initializeVariables(),this._lock(),this.requestedFormData=r.clone(e),this.curPage=e.page||this.curPage,t=(this.curPage-1)*this.perPage+1,this.renderModel.set({startNumber:t}),this.lastRequestedReadData=r.clone(e),this.dataModel.fetch({requestType:"readData",data:e,type:this.readDataMethod,success:i.proxy(this._onReadSuccess,this),error:i.proxy(this._onReadError,this),reset:!0,withCredentials:this.withCredentials}),this.dataModel.setSortOptionValues(e.sortColumn,e.sortAscending)),this.router&&this.router.navigate("read/"+l.toQueryString(e),{trigger:!1})},_onSortChanged:function(e){e.requireFetch&&this._readDataAt(1,!0,e)},_changeSortOptions:function(e,t){t&&("rowKey"===t.columnName?(delete e.sortColumn,delete e.sortAscending):(e.sortColumn=t.columnName,e.sortAscending=t.ascending))},_readDataAt:function(e,t,n){
var i;t=!!r.isUndefined(t)||t,i=t?this.requestedFormData:this._getFormData(),i.page=e,i.perPage=this.perPage,this._changeSortOptions(i,n),this._requestReadData(i)},request:function(e,t){var n=r.extend({url:this.api[e],type:null,hasDataParam:!0,checkedOnly:!0,modifiedOnly:!0,showConfirm:!0,updateOriginal:!1},t),i=this._getRequestParam(e,n);return i&&(n.updateOriginal&&this.dataModel.setOriginalRowList(),this._ajax(i)),!!i},download:function(e){var t,n="download"+l.toUpperCaseFirstLetter(e),o=this.requestedFormData,s=this.api[n];"excel"===e?(o.page=this.curPage,o.perPage=this.perPage):o=r.omit(o,"page","perPage"),t=i.param(o),window.location=s+"?"+t},setPerPage:function(e){this.perPage=e,this._readDataAt(1)},_getDataParam:function(e,t){var n,i=this.dataModel,o={createData:["createdRows"],updateData:["updatedRows"],deleteData:["deletedRows"],modifyData:["createdRows","updatedRows","deletedRows"]},s=o[e],a={},l=0;return t=r.defaults(t||{},{hasDataParam:!0,modifiedOnly:!0,checkedOnly:!0}),t.hasDataParam&&(t.modifiedOnly?(n=i.getModifiedRows({checkedOnly:t.checkedOnly}),r.each(n,function(e,t){r.contains(s,t)&&e.length&&(l+=e.length,a[t]=JSON.stringify(e))},this)):(a.rows=i.getRows(t.checkedOnly),l=a.rows.length)),{data:a,count:l}},_getRequestParam:function(e,t){var n={url:this.api[e],type:null,hasDataParam:!0,modifiedOnly:!0,checkedOnly:!0,withCredentials:this.withCredentials},o=i.extend(n,t),r=this._getDataParam(e,o),s=null;return o.showConfirm&&!this._isConfirmed(e,r.count)||(s={requestType:e,url:o.url,data:r.data,type:o.type,withCredentials:o.withCredentials}),s},_isConfirmed:function(e,t){var n=!1;return t>0?n=confirm(this._getConfirmMessage(e,t)):alert(this._getConfirmMessage(e,t)),n},_getConfirmMessage:function(e,t){var n=t>0?g[e]:p[e],i={count:t};return d.get(n,i)},_ajax:function(e){var t,n=new c(null,e.data);this.trigger("beforeRequest",n),n.isStopped()||(e=i.extend({requestType:""},e),t={url:e.url,data:e.data||{},type:e.type||"POST",dataType:e.dataType||"json",complete:i.proxy(this._onComplete,this,e.complete,e),success:i.proxy(this._onSuccess,this,e.success,e),error:i.proxy(this._onError,this,e.error,e),xhrFields:{withCredentials:e.withCredentials}},e.url&&i.ajax(t))},_onComplete:function(e,t,n){this._unlock()},_onSuccess:function(e,t,n,i,o){var s=n&&n.message,a=new c(null,{httpStatus:i,requestType:t.requestType,requestParameter:t.data,responseData:n});if(this.trigger("response",a),!a.isStopped())if(n&&n.result){if(this.trigger("successResponse",a),a.isStopped())return;r.isFunction(e)&&e(n.data||{},i,o)}else{if(this.trigger("failResponse",a),a.isStopped())return;s&&alert(s)}},_onError:function(e,t,n,i){var o=new c(null,{httpStatus:i,requestType:t.requestType,requestParameter:t.data,responseData:null});this.renderModel.set("state",h.DONE),this.trigger("response",o),o.isStopped()||(this.trigger("errorResponse",o),o.isStopped()||n.readyState>1&&alert(d.get("net.failResponse")))}});e.exports=m},function(e,t,n){"use strict";var i=n(6),o=i.Router.extend({initialize:function(e){this.net=e.net},routes:{"read/:queryStr":"read"}});e.exports=o},function(e,t,n){"use strict";var i=n(7),o=n(2),r=n(4),s={setInput:{_changeToStringInArray:function(e){return o.each(e,function(t,n){e[n]=String(t)}),e},radio:function(e,t){e.checked=e.value===t},checkbox:function(e,t){o.isArray(t)?e.checked=i.inArray(e.value,this._changeToStringInArray(t))!==-1:e.checked=e.value===t},"select-one":function(e,t){var n=r.toArray(e.options);e.selectedIndex=o.findIndex(n,function(e){return e.value===t||e.text===t})},"select-multiple":function(e,t){var n=r.toArray(e.options);o.isArray(t)?(t=this._changeToStringInArray(t),o.each(n,function(e){e.selected=i.inArray(e.value,t)!==-1||i.inArray(e.text,t)!==-1})):this["select-one"].apply(this,arguments)},defaultAction:function(e,t){e.value=t}},getFormData:function(e){var t={},n=e.serializeArray(),i=r.isExisty;return o.each(n,function(e){var n=e.value||"",o=e.name;i(t[o])?t[o]=[].concat(t[o],n):t[o]=n}),t},getFormElement:function(e,t){var n;return e&&e.length&&(n=t?e.prop("elements")[String(t)]:e.prop("elements")),i(n)},setFormData:function(e,t){o.each(t,function(t,n){this.setFormElementValue(e,n,t)},this)},setFormElementValue:function(e,t,n){var i,s=this.getFormElement(e,t);s.length&&(o.isArray(n)||(n=String(n)),s=r.isHTMLTag(s)?[s]:s,s=r.toArray(s),o.each(s,function(e){i=this.setInput[e.type]?e.type:"defaultAction",this.setInput[i](e,n)},this))},setCursorToEnd:function(e){var t,n=e.value.length;if(e.focus(),e.setSelectionRange)try{e.setSelectionRange(n,n)}catch(e){}else if(e.createTextRange){t=e.createTextRange(),t.collapse(!0),t.moveEnd("character",n),t.moveStart("character",n);try{t.select()}catch(e){}}}};e.exports=s},function(e,t,n){"use strict";var i=n(7),o=n(4),r={pagination:null},s=o.defineClass({init:function(e){this.optionsMap=i.extend(!0,r,e),this.instanceMap={}},getInstance:function(e){return this.instanceMap[e]},setInstance:function(e,t){this.instanceMap[e]=t},getOptions:function(e){return this.optionsMap[e]}});e.exports=s},function(e,t,n){"use strict";function i(e){var t=[a.outline(e.outline),a.frozenBorder(e.frozenBorder),a.scrollbar(e.scrollbar),a.heightResizeHandle(e.heightResizeHandle),a.pagination(e.pagination),a.selection(e.selection)],n=e.area,i=e.cell;return t=t.concat([a.headArea(n.header),a.bodyArea(n.body),a.summaryArea(n.summary)]),i&&(t=t.concat([a.cell(i.normal),a.cellDummy(i.dummy),a.cellEditable(i.editable),a.cellHead(i.head),a.cellRowHead(i.rowHead),a.cellSummary(i.summary),a.cellOddRow(i.oddRow),a.cellEvenRow(i.evenRow),a.cellRequired(i.required),a.cellDisabled(i.disabled),a.cellInvalid(i.invalid),a.cellCurrentRow(i.currentRow),a.cellSelectedHead(i.selectedHead),a.cellSelectedRowHead(i.selectedRowHead),a.cellFocused(i.focused),a.cellFocusedInactive(i.focusedInactive)])),t.join("")}function o(e){var t=i(e);r("#"+u).remove(),s.appendStyleElement(u,t)}var r=n(7),s=n(18),a=n(79),l=n(11).themeName,u="tui-grid-theme-style",d={};d[l.DEFAULT]=n(81),d[l.STRIPED]=n(82),d[l.CLEAN]=n(83),e.exports={apply:function(e,t){var n=d[e];n||(n=d[l.DEFAULT]),n=r.extend(!0,{},n,t),o(n)},isApplied:function(){return 1===r("#"+u).length}}},function(e,t,n){"use strict";function i(e,t){return l(e).bg(t.background).text(t.text).build()}function o(e,t){return l(e).bg(t.background).border(t.border).build()}var r=n(2),s=n(80),a=n(20),l=r.bind(s.createClassRule,s),u=r.bind(s.createClassComposeRule,s);e.exports={outline:function(e){var t,n,i=l(a.BORDER_TOP).bg(e.border),o=u(" .",[a.NO_SCROLL_X,a.BORDER_BOTTOM]).bg(e.border),r=[i,o];return e.showVerticalBorder&&(t=l(a.BORDER_LEFT).bg(e.border),n=u(" .",[a.NO_SCROLL_Y,a.BORDER_RIGHT]).bg(e.border),r=r.concat([t,n])),s.buildAll(r)},frozenBorder:function(e){return l(a.FROZEN_BORDER).bg(e.border).build()},scrollbar:function(e){var t=s.createWebkitScrollbarRules("."+a.CONTAINER,e),n=s.createIEScrollbarRule("."+a.CONTAINER,e),i=l(a.BORDER_BOTTOM).bg(e.border),o=l(a.CONTENT_AREA).border(e.border),r=l(a.SCROLLBAR_Y_INNER_BORDER).bg(e.border),u=l(a.SCROLLBAR_Y_OUTER_BORDER).bg(e.border),d=l(a.SCROLLBAR_RIGHT_TOP).bg(e.emptySpace).border(e.border),c=l(a.SCROLLBAR_RIGHT_BOTTOM).bg(e.emptySpace).border(e.border),h=l(a.SCROLLBAR_LEFT_BOTTOM).bg(e.emptySpace).border(e.border),f=l(a.SCROLLBAR_FROZEN_BORDER).bg(e.emptySpace).border(e.border);return s.buildAll(t.concat([n,i,o,r,u,d,c,h,f]))},heightResizeHandle:function(e){return o(a.HEIGHT_RESIZE_HANDLE,e)},pagination:function(e){return o(a.PAGINATION,e)},selection:function(e){return o(a.LAYER_SELECTION,e)},headArea:function(e){return l(a.HEAD_AREA).bg(e.background).border(e.border).build()},bodyArea:function(e){return l(a.BODY_AREA).bg(e.background).build()},summaryArea:function(e){var t=l(a.SUMMARY_AREA).bg(e.background).border(e.border),n=u(" .",[a.HAS_SUMMARY_TOP,a.BODY_AREA]).border(e.border);return s.buildAll([t,n])},cell:function(e){return l(a.CELL).bg(e.background).border(e.border).borderWidth(e).text(e.text).build()},cellHead:function(e){var t=u(" .",[a.SHOW_LSIDE_AREA,a.LSIDE_AREA,a.HEAD_AREA,a.TABLE]).verticalBorderStyle(e,"right"),n=l(a.CELL_HEAD).bg(e.background).border(e.border).borderWidth(e).text(e.text);return s.buildAll([t,n])},cellRowHead:function(e){var t=u(" .",[a.SHOW_LSIDE_AREA,a.LSIDE_AREA,a.BODY_AREA,a.TABLE]).verticalBorderStyle(e,"right"),n=l(a.CELL_ROW_HEAD).bg(e.background).border(e.border).borderWidth(e).text(e.text);return s.buildAll([t,n])},cellSummary:function(e){var t=u(" .",[a.SHOW_LSIDE_AREA,a.LSIDE_AREA,a.SUMMARY_AREA,a.TABLE]).verticalBorderStyle(e,"right"),n=l(a.CELL_SUMMARY).bg(e.background).border(e.border).borderWidth(e).text(e.text);return s.buildAll([t,n])},cellEvenRow:function(e){return u(">",[a.ROW_EVEN,"td"]).bg(e.background).build()},cellOddRow:function(e){return u(">",[a.ROW_ODD,"td"]).bg(e.background).build()},cellSelectedHead:function(e){return u(".",[a.CELL_HEAD,a.CELL_SELECTED]).bg(e.background).text(e.text).build()},cellSelectedRowHead:function(e){return u(".",[a.CELL_ROW_HEAD,a.CELL_SELECTED]).bg(e.background).text(e.text).build()},cellFocused:function(e){var t=l(a.LAYER_FOCUS_BORDER).bg(e.border),n=l(a.LAYER_EDITING).border(e.border);return s.buildAll([t,n])},cellFocusedInactive:function(e){return u(" .",[a.LAYER_FOCUS_DEACTIVE,a.LAYER_FOCUS_BORDER]).bg(e.border).build()},cellEditable:function(e){return i(a.CELL_EDITABLE,e)},cellRequired:function(e){return i(a.CELL_REQUIRED,e)},cellDisabled:function(e){return i(a.CELL_DISABLED,e)},cellDummy:function(e){return i(a.CELL_DUMMY,e)},cellInvalid:function(e){return i(a.CELL_INVALID,e)},cellCurrentRow:function(e){return i(a.CELL_CURRENT_ROW,e)}}},function(e,t,n){"use strict";var i=n(2),o=n(4),r=o.defineClass({init:function(e){if(!i.isString(e)||!e)throw new Error("The Selector must be a string and not be empty.");this._selector=e,this._propValues=[]},add:function(e,t){return t&&this._propValues.push(e+":"+t),this},border:function(e){return this.add("border-color",e)},borderWidth:function(e){var t,n=e.showVerticalBorder,o=e.showHorizontalBorder;return i.isBoolean(n)&&(t=n?"1px":"0",this.add("border-left-width",t).add("border-right-width",t)),i.isBoolean(o)&&(t=o?"1px":"0",this.add("border-top-width",t).add("border-bottom-width",t)),this},verticalBorderStyle:function(e,t){var n,o=e.showVerticalBorder;return i.isBoolean(o)&&t&&(n=o?"solid":"hidden",this.add("border-"+t+"-style",n)),this},bg:function(e){return this.add("background-color",e)},text:function(e){return this.add("color",e)},build:function(){var e="";return this._propValues.length&&(e=this._selector+"{"+this._propValues.join(";")+"}"),e}});e.exports={create:function(e){return new r(e)},createClassRule:function(e){return this.create("."+e)},createClassComposeRule:function(e,t){return this.create("."+t.join(e))},createWebkitScrollbarRules:function(e,t){return[this.create(e+" ::-webkit-scrollbar").bg(t.background),this.create(e+" ::-webkit-scrollbar-thumb").bg(t.thumb),this.create(e+" ::-webkit-scrollbar-thumb:hover").bg(t.active)]},createIEScrollbarRule:function(e,t){var n=["scrollbar-3dlight-color","scrollbar-darkshadow-color","scrollbar-track-color","scrollbar-shadow-color"],o=["scrollbar-face-color","scrollbar-highlight-color"],r=this.create(e);return i.each(n,function(e){r.add(e,t.background)}),i.each(o,function(e){r.add(e,t.thumb)}),r.add("scrollbar-arrow-color",t.active),r},buildAll:function(e){return i.map(e,function(e){return e.build()}).join("")}}},function(e,t){"use strict";e.exports={selection:{background:"#00A9ff",border:"#00a9ff"},heightResizeHandle:{border:"#fff",background:"#fff"},pagination:{border:"transparent",background:"transparent"},scrollbar:{border:"#eee",background:"#fff",emptySpace:"#f9f9f9",thumb:"#ddd",active:"#ddd"},outline:{border:"#aaa",showVerticalBorder:!1},frozenBorder:{border:"#aaa"},area:{header:{border:"#ccc",background:"#fff"},body:{background:"#fff"},summary:{border:"#eee",background:"#fff"}},cell:{normal:{background:"#f4f4f4",border:"#eee",text:"#333",showVerticalBorder:!1,showHorizontalBorder:!0},head:{background:"#fff",border:"#eee",text:"#222",showVerticalBorder:!0,showHorizontalBorder:!0},rowHead:{background:"#fff",border:"#eee",text:"#333",showVerticalBorder:!1,showHorizontalBorder:!0},summary:{background:"#fff",border:"#eee",text:"#333",showVerticalBorder:!1},selectedHead:{background:"#e5f6ff"},selectedRowHead:{background:"#e5f6ff"},focused:{border:"#00a9ff"},focusedInactive:{border:"#aaa"},required:{background:"#fffdeb"},editable:{background:"#fff"},disabled:{background:"#f9f9f9",text:"#c1c1c1"},dummy:{background:"#fff"},invalid:{background:"#ffe5e5"},evenRow:{},oddRow:{},currentRow:{}}}},function(e,t,n){"use strict";var i=n(7),o=n(81);e.exports=i.extend(!0,{},o,{outline:{border:"#eee",showVerticalBorder:!1},frozenBorder:{border:"#ccc"},area:{header:{border:"#fff",background:"#eee"},body:{background:"#fff"},summary:{border:"#fff",background:"#fff"}},cell:{normal:{background:"#fff",border:"#fff",showVerticalBorder:!1,showHorizontalBorder:!1},head:{background:"#eee",border:"#fff",showVerticalBorder:!0,showHorizontalBorder:!0},rowHead:{border:"#fff",showVerticalBorder:!1,showHorizontalBorder:!1},oddRow:{background:"#fff"},evenRow:{background:"#f4f4f4"}}})},function(e,t,n){"use strict";var i=n(7),o=n(81);e.exports=i.extend(!0,{},o,{outline:{border:"#eee",showVerticalBorder:!1},frozenBorder:{border:"#ddd"},area:{header:{border:"#eee",background:"#f9f9f9"},body:{background:"#fff"},summary:{border:"#fff",background:"#fff"}},cell:{normal:{background:"#fff",border:"#eee",showVerticalBorder:!1,showHorizontalBorder:!1},head:{background:"#f9f9f9",border:"#eee",showVerticalBorder:!0,showHorizontalBorder:!0},rowHead:{border:"#eee",showVerticalBorder:!1,showHorizontalBorder:!1}}})},function(e,t){}])});